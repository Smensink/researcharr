(self.webpackChunkresearcharr=self.webpackChunkresearcharr||[]).push([[400],{93806:e=>{const t="#0d3b66",n="#fff";e.exports={textColor:"#ccc",defaultColor:"#ccc",disabledColor:"#999",dimColor:"#555",black:"#000",white:n,offWhite:"#f5f7fa",blue:"#0f4c81",primaryColor:"#1f6feb",selectedColor:"#f9be03",successColor:"#27c24c",dangerColor:"#f05050",warningColor:"#ffa500",infoColor:t,purple:"#7a43b6",pink:"#ff69b4",readarrRed:t,helpTextColor:"#909293",darkGray:"#888",gray:"#adadad",lightGray:"#ddd",themeRed:t,themeAlternateRed:"#0a2f52",themeDarkRed:"#082540",themeDarkColor:"#353f54",themeLightColor:"#144f7a",pageBackground:"#202020",pageFooterBackgroud:"rgba(0, 0, 0, .25)",torrentColor:"#00853d",usenetColor:"#17b1d9",inverseLabelColor:"#ddd",inverseLabelTextColor:"#333",disabledLabelColor:"#838383",infoTextColor:n,defaultLinkHoverColor:"#fff",linkColor:"#fff",linkHoverColor:t,pageHeaderBackgroundColor:"#0a2f52",sidebarColor:"#e1e2e3",sidebarBackgroundColor:"#2a2a2a",sidebarActiveBackgroundColor:"#333333",toolbarColor:"#e1e2e3",toolbarBackgroundColor:"#0b2f4a",toolbarMenuItemBackgroundColor:"#0d3b66",toolbarMenuItemHoverBackgroundColor:"#0a2f52",toolbarLabelColor:"#e1e2e3",borderColor:"#858585",inputBorderColor:"#dde6e9",inputBoxShadowColor:"rgba(0, 0, 0, 0.075)",inputFocusBorderColor:"#66afe9",inputFocusBoxShadowColor:"rgba(102, 175, 233, 0.6)",inputErrorBorderColor:"#f05050",inputErrorBoxShadowColor:"rgba(240, 80, 80, 0.6)",inputWarningBorderColor:"#ffa500",inputWarningBoxShadowColor:"rgba(255, 165, 0, 0.6)",colorImpairedGradient:"#707070",colorImpairedGradientDark:"#424242",colorImpairedDangerGradient:"#d84848",colorImpairedWarningGradient:"#e59400",colorImpairedPrimaryGradient:"#538cd4",colorImpairedGrayGradient:"#9b9b9b",defaultButtonTextColor:"#eee",defaultBackgroundColor:"#333",defaultBorderColor:"#393f45",defaultHoverBackgroundColor:"#444",defaultHoverBorderColor:"#5a6265",primaryBackgroundColor:"#0b8750",primaryBorderColor:"#1d563d",primaryHoverBackgroundColor:"#097948",primaryHoverBorderColor:"#1D563D",successBackgroundColor:"#27c24c",successBorderColor:"#26be4a",successHoverBackgroundColor:"#24b145",successHoverBorderColor:"#1f9c3d",warningBackgroundColor:"#ff902b",warningBorderColor:"#ff8d26",warningHoverBackgroundColor:"#ff8517",warningHoverBorderColor:"#fc7800",dangerBackgroundColor:"#f05050",dangerBorderColor:"#f04b4b",dangerHoverBackgroundColor:"#ee3d3d",dangerHoverBorderColor:"#ec2626",iconButtonDisabledColor:"#7a7a7a",iconButtonHoverColor:"#666",iconButtonHoverLightColor:"#ccc",modalBackdropBackgroundColor:"rgba(0, 0, 0, 0.6)",modalBackgroundColor:"#2a2a2a",modalCloseButtonHoverColor:"#888",menuItemColor:"#e1e2e3",menuItemHoverColor:t,menuItemHoverBackgroundColor:"#606060",toobarButtonHoverColor:t,toobarButtonSelectedColor:t,scrollbarBackgroundColor:"#707070",scrollbarHoverBackgroundColor:"#606060",cardBackgroundColor:"#333333",cardShadowColor:"#111",cardAlternateBackgroundColor:"#333333",cardCenterBackgroundColor:"#2a2a2a",alertDangerBorderColor:"#a94442",alertDangerBackgroundColor:"rgba(255,0,0,0.1)",alertDangerColor:"#ccc",alertInfoBorderColor:"#31708f",alertInfoBackgroundColor:"rgba(0,0,255,0.1)",alertInfoColor:"#ccc",alertSuccessBorderColor:"#3c763d",alertSuccessBackgroundColor:"rgba(0,255,0,0.1)",alertSuccessColor:"#ccc",alertWarningBorderColor:"#8a6d3b",alertWarningBackgroundColor:"rgba(255,255,0,0.1)",alertWarningColor:"#ccc",sliderAccentColor:"#0b8750",inputBackgroundColor:"#333",inputReadOnlyBackgroundColor:"#222",inputHoverBackgroundColor:"rgba(255, 255, 255, 0.20)",inputSelectedBackgroundColor:"rgba(255, 255, 255, 0.05)",advancedFormLabelColor:"#ff902b",disabledCheckInputColor:"#ddd",disabledInputColor:"#808080",popoverTitleBackgroundColor:"#424242",popoverTitleBorderColor:"#2a2a2a",popoverBodyBackgroundColor:"#2a2a2a",popoverShadowColor:"rgba(0, 0, 0, 0.2)",popoverArrowBorderColor:"#2a2a2a",popoverTitleBackgroundInverseColor:"#595959",popoverTitleBorderInverseColor:"#707070",popoverShadowInverseColor:"rgba(0, 0, 0, 0.2)",popoverArrowBorderInverseColor:"rgba(58, 63, 81, 0.75)",calendarTodayBackgroundColor:"#3e3e3e",calendarBackgroundColor:"#2a2a2a",calendarBorderColor:"#393f45",calendarTextDim:"#eee",calendarTextDimAlternate:"#fff",tableRowHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",addSeriesBackgroundColor:"#2a2a2a",seriesBackgroundColor:"#2a2a2a",searchIconContainerBackgroundColor:"#2b2b2b",collapseButtonBackgroundColor:"#2a2a2a",seasonBackgroundColor:"#424242",episodesBackgroundColor:"#2a2a2a",progressBarFrontTextColor:n,progressBarBackTextColor:n,progressBarBackgroundColor:"#727070",logEventsBackgroundColor:"#2a2a2a"}},7468:e=>{const t="#0d3b66",n="#888",s="#fff",o="#f5f7fa";e.exports={textColor:"#515253",defaultColor:"#333",disabledColor:"#999",dimColor:"#555",black:"#000",white:s,offWhite:o,blue:"#0f4c81",primaryColor:"#1f6feb",selectedColor:"#f9be03",successColor:"#27c24c",dangerColor:"#f05050",warningColor:"#ffa500",infoColor:t,purple:"#7a43b6",pink:"#ff69b4",readarrRed:t,helpTextColor:"#909293",darkGray:n,gray:"#adadad",lightGray:"#ddd",themeRed:t,themeAlternateRed:"#0a2f52",themeDarkRed:"#082540",themeDarkColor:"#0b2f4a",themeLightColor:"#144f7a",pageBackground:"#f5f7fa",pageFooterBackgroud:"#f1f1f1",torrentColor:"#00853d",usenetColor:"#17b1d9",inverseLabelColor:"#ddd",inverseLabelTextColor:"#333",disabledLabelColor:"#999",infoTextColor:s,defaultLinkHoverColor:"#fff",linkColor:"#5d9cec",linkHoverColor:"#1b72e2",pageHeaderBackgroundColor:t,sidebarColor:"#e1e2e3",sidebarBackgroundColor:"#353535",sidebarActiveBackgroundColor:"#252525",toolbarColor:"#e1e2e3",toolbarBackgroundColor:"#0a2f52",toolbarMenuItemBackgroundColor:"#0d3b66",toolbarMenuItemHoverBackgroundColor:"#0b2f4a",toolbarLabelColor:"#e1e2e3",borderColor:"#e5e5e5",inputBorderColor:"#dde6e9",inputBoxShadowColor:"rgba(0, 0, 0, 0.075)",inputFocusBorderColor:"#66afe9",inputFocusBoxShadowColor:"rgba(102, 175, 233, 0.6)",inputErrorBorderColor:"#f05050",inputErrorBoxShadowColor:"rgba(240, 80, 80, 0.6)",inputWarningBorderColor:"#ffa500",inputWarningBoxShadowColor:"rgba(255, 165, 0, 0.6)",colorImpairedGradient:"#ffffff",colorImpairedGradientDark:"#f4f5f6",defaultButtonTextColor:"#eee",defaultBackgroundColor:"#fff",defaultBorderColor:"#eaeaea",defaultHoverBackgroundColor:"#f5f5f5",defaultHoverBorderColor:"#d6d6d6",primaryBackgroundColor:"#5d9cec",primaryBorderColor:"#5899eb",primaryHoverBackgroundColor:"#4b91ea",primaryHoverBorderColor:"#3483e7",successBackgroundColor:"#27c24c",successBorderColor:"#26be4a",successHoverBackgroundColor:"#24b145",successHoverBorderColor:"#1f9c3d",warningBackgroundColor:"#ff902b",warningBorderColor:"#ff8d26",warningHoverBackgroundColor:"#ff8517",warningHoverBorderColor:"#fc7800",dangerBackgroundColor:"#f05050",dangerBorderColor:"#f04b4b",dangerHoverBackgroundColor:"#ee3d3d",dangerHoverBorderColor:"#ec2626",iconButtonDisabledColor:"#7a7a7a",iconButtonHoverColor:"#666",iconButtonHoverLightColor:"#ccc",modalBackdropBackgroundColor:"rgba(0, 0, 0, 0.6)",modalBackgroundColor:"#fff",modalCloseButtonHoverColor:"#888",menuItemColor:"#e1e2e3",menuItemHoverColor:"#fbfcfc",menuItemHoverBackgroundColor:"#f5f7fa",toobarButtonHoverColor:t,toobarButtonSelectedColor:t,scrollbarBackgroundColor:"#9ea4b9",scrollbarHoverBackgroundColor:"#656d8c",cardBackgroundColor:"#fff",cardShadowColor:"#e1e1e1",cardAlternateBackgroundColor:"#f5f5f5",cardCenterBackgroundColor:"#fff",alertDangerBorderColor:"#ebccd1",alertDangerBackgroundColor:"#f2dede",alertDangerColor:"#a94442",alertInfoBorderColor:"#bce8f1",alertInfoBackgroundColor:"#d9edf7",alertInfoColor:"#31708f",alertSuccessBorderColor:"#d6e9c6",alertSuccessBackgroundColor:"#dff0d8",alertSuccessColor:"#3c763d",alertWarningBorderColor:"#faebcc",alertWarningBackgroundColor:"#fcf8e3",alertWarningColor:"#8a6d3b",sliderAccentColor:"#5d9cec",inputBackgroundColor:"#fff",inputReadOnlyBackgroundColor:"#eee",inputHoverBackgroundColor:"#f8f8f8",inputSelectedBackgroundColor:"#e2e2e2",advancedFormLabelColor:"#ff902b",disabledCheckInputColor:"#ddd",disabledInputColor:"#808080",popoverTitleBackgroundColor:"#f7f7f7",popoverTitleBorderColor:"#ebebeb",popoverBodyBackgroundColor:"#e9e9e9",popoverShadowColor:"rgba(0, 0, 0, 0.2)",popoverArrowBorderColor:"#fff",popoverTitleBackgroundInverseColor:"#3a3f51",popoverTitleBorderInverseColor:"#353535",popoverShadowInverseColor:"rgba(0, 0, 0, 0.2)",popoverArrowBorderInverseColor:"rgba(58, 63, 81, 0.75)",calendarTodayBackgroundColor:"#c5c5c5",calendarBackgroundColor:"#e4eaec",calendarBorderColor:"#cecece",tableRowHoverBackgroundColor:"#fafbfc",addSeriesBackgroundColor:"#ededed",seriesBackgroundColor:"#ededed",searchIconContainerBackgroundColor:o,collapseButtonBackgroundColor:o,seasonBackgroundColor:s,episodesBackgroundColor:o,progressBarFrontTextColor:s,progressBarBackTextColor:n,progressBarBackgroundColor:s,logEventsBackgroundColor:s}},69462:e=>{e.exports={pageContentBodyPadding:"20px",pageContentBodyPaddingSmallScreen:"10px",headerHeight:"60px",sidebarWidth:"210px",toolbarHeight:"60px",toolbarButtonWidth:"60px",toolbarSeparatorMargin:"20px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1310px",breakpointExtraLarge:"1450px",formGroupExtraSmallWidth:"550px",formGroupSmallWidth:"650px",formGroupMediumWidth:"800px",formGroupLargeWidth:"1200px",formLabelSmallWidth:"150px",formLabelLargeWidth:"250px",formLabelRightMarginWidth:"20px",dragHandleWidth:"40px",qualityProfileItemHeight:"30px",qualityProfileItemDragSourcePadding:"4px",progressBarSmallHeight:"5px",progressBarMediumHeight:"15px",progressBarLargeHeight:"20px",jumpBarItemHeight:"25px",modalBodyPadding:"30px",authorIndexColumnPadding:"10px",authorIndexColumnPaddingSmallScreen:"5px",authorIndexOverviewInfoRowHeight:"21px"}},14333:e=>{e.exports={defaultFontFamily:'Roboto, "open sans", "Helvetica Neue", Helvetica, Arial, sans-serif',monoSpaceFontFamily:'"Ubuntu Mono", Menlo, Monaco, Consolas, "Courier New", monospace;',extraSmallFontSize:"11px",smallFontSize:"12px",defaultFontSize:"14px",intermediateFontSize:"15px",largeFontSize:"16px",lineHeight:"1.528571429"}},98977:(e,t,n)=>{"use strict";n.d(t,{bootstrap:()=>sne});var s={};n.r(s),n.d(s,{FETCH_TRANSLATIONS:()=>Ne,HIDE_MESSAGE:()=>Ie,PING_SERVER:()=>De,SAVE_DIMENSIONS:()=>ke,SET_APP_VALUE:()=>we,SET_IS_SIDEBAR_VISIBLE:()=>Te,SET_VERSION:()=>Oe,SHOW_MESSAGE:()=>Me,actionHandlers:()=>Ue,defaultState:()=>ye,fetchTranslations:()=>_e,hideMessage:()=>Le,pingServer:()=>je,reducers:()=>He,saveDimensions:()=>Ae,section:()=>ve,setAppValue:()=>Re,setIsSidebarVisible:()=>xe,setVersion:()=>Fe,showMessage:()=>Be});var o={};n.r(o),n.d(o,{CLEAR_BOOKS:()=>sa,DELETE_AUTHOR_BOOKS:()=>ia,DELETE_BOOK:()=>ra,FETCH_BOOKS:()=>ea,SAVE_BOOK:()=>aa,SET_BOOKS_SORT:()=>ta,SET_BOOKS_TABLE_OPTION:()=>na,SET_BOOK_VALUE:()=>oa,TOGGLE_BOOKS_MONITORED:()=>ca,TOGGLE_BOOK_MONITORED:()=>la,actionHandlers:()=>Sa,clearBooks:()=>ha,defaultState:()=>Xo,deleteAuthorBooks:()=>Ca,deleteBook:()=>fa,fetchBooks:()=>da,filterPredicates:()=>Yo,filters:()=>$o,persistState:()=>Zo,reducers:()=>ba,saveBook:()=>Ea,section:()=>Ko,setBookValue:()=>va,setBooksSort:()=>ua,setBooksTableOption:()=>ma,sortPredicates:()=>Jo,toggleBookMonitored:()=>pa,toggleBooksMonitored:()=>ga});var a={};n.r(a),n.d(a,{DELETE_AUTHOR:()=>Da,FETCH_AUTHOR:()=>wa,SAVE_AUTHOR:()=>Na,SET_AUTHOR_VALUE:()=>Ta,TOGGLE_AUTHOR_MONITORED:()=>Aa,TOGGLE_BOOK_MONITORED:()=>Fa,UPDATE_BOOK_MONITORED:()=>xa,actionHandlers:()=>Ha,defaultState:()=>Oa,deleteAuthor:()=>La,fetchAuthor:()=>Ra,filterPredicates:()=>Ia,filters:()=>Ma,reducers:()=>Va,saveAuthor:()=>Ba,section:()=>ya,setAuthorValue:()=>Ua,sortPredicates:()=>ka,toggleAuthorMonitored:()=>ja,toggleBookMonitored:()=>_a,updateBookMonitor:()=>za});var r={};n.r(r),n.d(r,{SET_AUTHOR_DETAILS_ID:()=>Ka,SET_AUTHOR_DETAILS_SORT:()=>Ga,actionHandlers:()=>Ja,defaultState:()=>Qa,persistState:()=>Wa,reducers:()=>Xa,section:()=>qa,setAuthorDetailsId:()=>Ya,setAuthorDetailsSort:()=>$a});var i={};n.r(i),n.d(i,{AUTHOR_HISTORY_MARK_AS_FAILED:()=>sr,CLEAR_AUTHOR_HISTORY:()=>nr,FETCH_AUTHOR_HISTORY:()=>tr,actionHandlers:()=>ir,authorHistoryMarkAsFailed:()=>rr,clearAuthorHistory:()=>ar,defaultState:()=>er,fetchAuthorHistory:()=>or,reducers:()=>lr,section:()=>Za});var l={};n.r(l),n.d(l,{BULK_DELETE_AUTHOR:()=>Pr,SAVE_AUTHOR_EDITOR:()=>br,SET_AUTHOR_BANNER_OPTION:()=>vr,SET_AUTHOR_FILTER:()=>gr,SET_AUTHOR_OVERVIEW_OPTION:()=>Sr,SET_AUTHOR_POSTER_OPTION:()=>Cr,SET_AUTHOR_SORT:()=>pr,SET_AUTHOR_TABLE_OPTION:()=>fr,SET_AUTHOR_VIEW:()=>Er,actionHandlers:()=>Ar,bulkDeleteAuthor:()=>Dr,defaultState:()=>mr,persistState:()=>hr,reducers:()=>Fr,saveAuthorEditor:()=>Nr,section:()=>ur,setAuthorBannerOption:()=>wr,setAuthorFilter:()=>Mr,setAuthorOverviewOption:()=>Tr,setAuthorPosterOption:()=>Or,setAuthorSort:()=>yr,setAuthorTableOption:()=>kr,setAuthorView:()=>Ir});var c={};n.r(c),n.d(c,{CLEAR_BLOCKLIST:()=>di,FETCH_BLOCKLIST:()=>ei,GOTO_BLOCKLIST_PAGE:()=>ai,GOTO_FIRST_BLOCKLIST_PAGE:()=>ti,GOTO_LAST_BLOCKLIST_PAGE:()=>oi,GOTO_NEXT_BLOCKLIST_PAGE:()=>si,GOTO_PREVIOUS_BLOCKLIST_PAGE:()=>ni,REMOVE_BLOCKLIST_ITEM:()=>li,REMOVE_BLOCKLIST_ITEMS:()=>ci,SET_BLOCKLIST_SORT:()=>ri,SET_BLOCKLIST_TABLE_OPTION:()=>ii,actionHandlers:()=>Pi,clearBlocklist:()=>bi,defaultState:()=>Xr,fetchBlocklist:()=>ui,gotoBlocklistFirstPage:()=>mi,gotoBlocklistLastPage:()=>gi,gotoBlocklistNextPage:()=>pi,gotoBlocklistPage:()=>Ei,gotoBlocklistPreviousPage:()=>hi,persistState:()=>Zr,reducers:()=>yi,removeBlocklistItem:()=>vi,removeBlocklistItems:()=>Si,section:()=>Jr,setBlocklistSort:()=>fi,setBlocklistTableOption:()=>Ci});var d={};n.r(d),n.d(d,{CLEAR_BOOK_FILES:()=>Fi,DELETE_BOOK_FILE:()=>wi,DELETE_BOOK_FILES:()=>Ti,FETCH_BOOK_FILES:()=>Oi,SET_BOOK_FILES_SORT:()=>Di,SET_BOOK_FILES_TABLE_OPTION:()=>Ai,UPDATE_BOOK_FILES:()=>Ni,actionHandlers:()=>Hi,clearBookFiles:()=>zi,defaultState:()=>Ii,deleteBookFile:()=>Ri,deleteBookFiles:()=>Bi,fetchBookFiles:()=>xi,persistState:()=>ki,reducers:()=>Vi,section:()=>Mi,setBookFilesSort:()=>ji,setBookFilesTableOption:()=>_i,updateBookFiles:()=>Li});var u={};n.r(u),n.d(u,{BOOK_HISTORY_MARK_AS_FAILED:()=>Ki,CLEAR_BOOK_HISTORY:()=>Gi,FETCH_BOOK_HISTORY:()=>Wi,actionHandlers:()=>Xi,bookHistoryMarkAsFailed:()=>Ji,clearBookHistory:()=>Yi,defaultState:()=>Qi,fetchBookHistory:()=>$i,reducers:()=>Zi,section:()=>qi});var m={};n.r(m),n.d(m,{BULK_DELETE_BOOK:()=>ul,SAVE_BOOK_EDITOR:()=>dl,SET_BOOK_BANNER_OPTION:()=>ll,SET_BOOK_FILTER:()=>ol,SET_BOOK_OVERVIEW_OPTION:()=>cl,SET_BOOK_POSTER_OPTION:()=>il,SET_BOOK_SORT:()=>sl,SET_BOOK_TABLE_OPTION:()=>rl,SET_BOOK_VIEW:()=>al,actionHandlers:()=>bl,bulkDeleteBook:()=>Sl,defaultState:()=>tl,persistState:()=>nl,reducers:()=>Pl,saveBookEditor:()=>vl,section:()=>el,setBookBannerOption:()=>fl,setBookFilter:()=>hl,setBookOverviewOption:()=>Cl,setBookPosterOption:()=>El,setBookSort:()=>ml,setBookTableOption:()=>gl,setBookView:()=>pl});var h={};n.r(h),n.d(h,{SAVE_BOOKSHELF:()=>wl,SET_BOOKSHELF_FILTER:()=>Ol,SET_BOOKSHELF_SORT:()=>kl,actionHandlers:()=>Al,defaultState:()=>Ml,persistState:()=>Il,reducers:()=>Fl,saveBookshelf:()=>Dl,section:()=>yl,setBookshelfFilter:()=>Nl,setBookshelfSort:()=>Tl});var p={};n.r(p),n.d(p,{ADD_COMMAND:()=>vc,CANCEL_COMMAND:()=>Cc,EXECUTE_COMMAND:()=>fc,FETCH_COMMANDS:()=>Ec,FINISH_COMMAND:()=>bc,REMOVE_COMMAND:()=>Pc,UPDATE_COMMAND:()=>Sc,actionHandlers:()=>Fc,addCommand:()=>kc,cancelCommand:()=>Ic,defaultState:()=>gc,executeCommand:()=>Mc,executeCommandHelper:()=>Ac,fetchCommands:()=>yc,finishCommand:()=>wc,reducers:()=>xc,removeCommand:()=>Tc,section:()=>dc,updateCommand:()=>Oc});var g={};n.r(g),n.d(g,{CLEAR_CALENDAR:()=>Qc,FETCH_CALENDAR:()=>_c,GOTO_CALENDAR_NEXT_RANGE:()=>qc,GOTO_CALENDAR_PREVIOUS_RANGE:()=>Kc,GOTO_CALENDAR_TODAY:()=>Vc,SEARCH_MISSING:()=>Gc,SET_CALENDAR_DAYS_COUNT:()=>zc,SET_CALENDAR_FILTER:()=>Uc,SET_CALENDAR_OPTION:()=>Wc,SET_CALENDAR_VIEW:()=>Hc,actionHandlers:()=>id,clearCalendar:()=>od,defaultState:()=>Lc,fetchCalendar:()=>Jc,gotoCalendarNextRange:()=>sd,gotoCalendarPreviousRange:()=>nd,gotoCalendarToday:()=>td,persistState:()=>jc,reducers:()=>ld,searchMissing:()=>rd,section:()=>Rc,setCalendarDaysCount:()=>Xc,setCalendarFilter:()=>Zc,setCalendarOption:()=>ad,setCalendarView:()=>ed});var E={};n.r(E),n.d(E,{GET_CAPTCHA_COOKIE:()=>pd,REFRESH_CAPTCHA:()=>hd,RESET_CAPTCHA:()=>Ed,SET_CAPTCHA_VALUE:()=>gd,actionHandlers:()=>bd,defaultState:()=>md,getCaptchaCookie:()=>Cd,reducers:()=>Pd,refreshCaptcha:()=>fd,resetCaptcha:()=>Sd,section:()=>ud,setCaptchaValue:()=>vd});var f={};n.r(f),n.d(f,{DELETE_CUSTOM_FILTER:()=>Od,FETCH_CUSTOM_FILTERS:()=>Id,SAVE_CUSTOM_FILTER:()=>kd,actionHandlers:()=>Dd,defaultState:()=>Md,deleteCustomFilter:()=>Nd,fetchCustomFilters:()=>wd,reducers:()=>Ad,saveCustomFilter:()=>Td,section:()=>yd});var C={};n.r(C),n.d(C,{CLEAR_EDITIONS:()=>Bd,FETCH_EDITIONS:()=>Rd,SAVE_EDITIONS:()=>Ld,actionHandlers:()=>Ud,clearEditions:()=>_d,defaultState:()=>xd,fetchEditions:()=>jd,reducers:()=>Hd,saveEditions:()=>zd,section:()=>Fd});var v={};n.r(v),n.d(v,{CLEAR_HISTORY:()=>tu,FETCH_HISTORY:()=>Wd,GOTO_FIRST_HISTORY_PAGE:()=>Gd,GOTO_HISTORY_PAGE:()=>Jd,GOTO_LAST_HISTORY_PAGE:()=>Yd,GOTO_NEXT_HISTORY_PAGE:()=>$d,GOTO_PREVIOUS_HISTORY_PAGE:()=>Kd,MARK_AS_FAILED:()=>nu,SET_HISTORY_FILTER:()=>Zd,SET_HISTORY_SORT:()=>Xd,SET_HISTORY_TABLE_OPTION:()=>eu,actionHandlers:()=>pu,clearHistory:()=>mu,defaultState:()=>qd,fetchHistory:()=>su,gotoHistoryFirstPage:()=>ou,gotoHistoryLastPage:()=>iu,gotoHistoryNextPage:()=>ru,gotoHistoryPage:()=>lu,gotoHistoryPreviousPage:()=>au,markAsFailed:()=>hu,persistState:()=>Qd,reducers:()=>gu,section:()=>Vd,setHistoryFilter:()=>du,setHistorySort:()=>cu,setHistoryTableOption:()=>uu});var S={};n.r(S),n.d(S,{ADD_RECENT_FOLDER:()=>Du,CLEAR_INTERACTIVE_IMPORT:()=>Nu,CLEAR_INTERACTIVE_IMPORT_BOOKS:()=>Bu,CLEAR_INTERACTIVE_IMPORT_TRACKFILES:()=>ju,FETCH_INTERACTIVE_IMPORT_BOOKS:()=>xu,FETCH_INTERACTIVE_IMPORT_ITEMS:()=>Iu,FETCH_INTERACTIVE_IMPORT_TRACKFILES:()=>Lu,REMOVE_RECENT_FOLDER:()=>Au,SAVE_INTERACTIVE_IMPORT_ITEM:()=>ku,SET_INTERACTIVE_IMPORT_BOOKS_SORT:()=>Ru,SET_INTERACTIVE_IMPORT_MODE:()=>Fu,SET_INTERACTIVE_IMPORT_SORT:()=>Ou,UPDATE_INTERACTIVE_IMPORT_ITEM:()=>wu,UPDATE_INTERACTIVE_IMPORT_ITEMS:()=>Tu,actionHandlers:()=>Zu,addRecentFolder:()=>Qu,clearInteractiveImport:()=>qu,clearInteractiveImportBookFiles:()=>Xu,clearInteractiveImportBooks:()=>Yu,defaultState:()=>yu,fetchInteractiveImportBookFiles:()=>Ju,fetchInteractiveImportBooks:()=>Ku,fetchInteractiveImportItems:()=>_u,persistState:()=>Mu,reducers:()=>em,removeRecentFolder:()=>Wu,saveInteractiveImportItem:()=>Vu,section:()=>fu,setInteractiveImportBooksSort:()=>$u,setInteractiveImportMode:()=>Gu,setInteractiveImportSort:()=>zu,updateInteractiveImportItem:()=>Uu,updateInteractiveImportItems:()=>Hu});var b={};n.r(b),n.d(b,{RESET_OAUTH:()=>rm,SET_OAUTH_VALUE:()=>am,START_OAUTH:()=>om,actionHandlers:()=>um,defaultState:()=>sm,reducers:()=>mm,resetOAuth:()=>cm,section:()=>tm,setOAuthValue:()=>lm,startOAuth:()=>im});var P={};n.r(P),n.d(P,{CLEAR_ORGANIZE_PREVIEW:()=>Em,FETCH_ORGANIZE_PREVIEW:()=>gm,actionHandlers:()=>vm,clearOrganizePreview:()=>Cm,defaultState:()=>pm,fetchOrganizePreview:()=>fm,reducers:()=>Sm,section:()=>hm});var y={};n.r(y),n.d(y,{CLEAR_PATHS:()=>Im,FETCH_PATHS:()=>ym,UPDATE_PATHS:()=>Mm,actionHandlers:()=>Tm,clearPaths:()=>wm,defaultState:()=>Pm,fetchPaths:()=>km,reducers:()=>Nm,section:()=>bm,updatePaths:()=>Om});var M={};n.r(M),n.d(M,{CLEAR_OPTIONS:()=>Bm,FETCH_OPTIONS:()=>Rm,actionHandlers:()=>_m,clearOptions:()=>jm,defaultState:()=>xm,fetchOptions:()=>Lm,reducers:()=>zm,section:()=>Dm});var I={};n.r(I),n.d(I,{CLEAR_QUEUE:()=>ah,CLEAR_QUEUE_DETAILS:()=>$m,FETCH_QUEUE:()=>Ym,FETCH_QUEUE_DETAILS:()=>Km,FETCH_QUEUE_STATUS:()=>Gm,GOTO_FIRST_QUEUE_PAGE:()=>Jm,GOTO_LAST_QUEUE_PAGE:()=>eh,GOTO_NEXT_QUEUE_PAGE:()=>Zm,GOTO_PREVIOUS_QUEUE_PAGE:()=>Xm,GOTO_QUEUE_PAGE:()=>th,GRAB_QUEUE_ITEM:()=>rh,GRAB_QUEUE_ITEMS:()=>ih,REMOVE_QUEUE_ITEM:()=>lh,REMOVE_QUEUE_ITEMS:()=>ch,SET_QUEUE_OPTION:()=>oh,SET_QUEUE_SORT:()=>nh,SET_QUEUE_TABLE_OPTION:()=>sh,actionHandlers:()=>wh,clearQueue:()=>Ph,clearQueueDetails:()=>mh,defaultState:()=>Qm,fetchQueue:()=>hh,fetchQueueDetails:()=>uh,fetchQueueStatus:()=>dh,gotoQueueFirstPage:()=>ph,gotoQueueLastPage:()=>fh,gotoQueueNextPage:()=>Eh,gotoQueuePage:()=>Ch,gotoQueuePreviousPage:()=>gh,grabQueueItem:()=>yh,grabQueueItems:()=>Mh,persistState:()=>Wm,reducers:()=>Th,removeQueueItem:()=>Ih,removeQueueItems:()=>kh,section:()=>Um,setQueueOption:()=>bh,setQueueSort:()=>vh,setQueueTableOption:()=>Sh});var k={};n.r(k),n.d(k,{CANCEL_FETCH_RELEASES:()=>Lh,CLEAR_RELEASES:()=>_h,FETCH_RELEASES:()=>Bh,GRAB_RELEASE:()=>zh,SET_AUTHOR_RELEASES_FILTER:()=>Vh,SET_BOOK_RELEASES_FILTER:()=>Hh,SET_RELEASES_SORT:()=>jh,UPDATE_RELEASE:()=>Uh,actionHandlers:()=>Zh,authorSection:()=>Ah,bookSection:()=>Dh,cancelFetchReleases:()=>Qh,clearReleases:()=>Gh,defaultState:()=>xh,fetchReleases:()=>qh,grabRelease:()=>Kh,persistState:()=>Rh,reducers:()=>ep,section:()=>Nh,setAuthorReleasesFilter:()=>Jh,setBookReleasesFilter:()=>Yh,setReleasesSort:()=>Wh,updateRelease:()=>$h});var O={};n.r(O),n.d(O,{CLEAR_RETAG_PREVIEW:()=>op,FETCH_RETAG_PREVIEW:()=>sp,actionHandlers:()=>ip,clearRetagPreview:()=>rp,defaultState:()=>np,fetchRetagPreview:()=>ap,reducers:()=>lp,section:()=>tp});var w={};n.r(w),n.d(w,{ADD_AUTHOR:()=>fp,ADD_BOOK:()=>Cp,CLEAR_SEARCH_RESULTS:()=>vp,GET_SEARCH_RESULTS:()=>Ep,SET_AUTHOR_ADD_DEFAULT:()=>Sp,SET_BOOK_ADD_DEFAULT:()=>bp,actionHandlers:()=>wp,addAuthor:()=>yp,addBook:()=>Mp,clearSearchResults:()=>Ip,defaultState:()=>pp,getSearchResults:()=>Pp,persistState:()=>gp,reducers:()=>Tp,section:()=>mp,setAuthorAddDefault:()=>kp,setBookAddDefault:()=>Op});var T={};n.r(T),n.d(T,{CLEAR_SERIES:()=>Rp,FETCH_SERIES:()=>Ap,SET_SERIES_SORT:()=>Fp,SET_SERIES_TABLE_OPTION:()=>xp,SET_SERIES_VALUE:()=>Bp,actionHandlers:()=>Up,clearSeries:()=>zp,defaultState:()=>Dp,fetchSeries:()=>Lp,reducers:()=>Hp,section:()=>Np,setSeriesSort:()=>jp,setSeriesTableOption:()=>_p});var N={};n.r(N),n.d(N,{BULK_DELETE_DOWNLOAD_CLIENTS:()=>kE,BULK_DELETE_IMPORT_LISTS:()=>bf,BULK_DELETE_INDEXERS:()=>iC,BULK_EDIT_DOWNLOAD_CLIENTS:()=>IE,BULK_EDIT_IMPORT_LISTS:()=>Sf,BULK_EDIT_INDEXERS:()=>rC,CANCEL_SAVE_DOWNLOAD_CLIENT:()=>SE,CANCEL_SAVE_IMPORT_LIST:()=>gf,CANCEL_SAVE_INDEXER:()=>tC,CANCEL_SAVE_NOTIFICATION:()=>Fv,CANCEL_SAVE_ROOT_FOLDER:()=>zS,CANCEL_TEST_DOWNLOAD_CLIENT:()=>yE,CANCEL_TEST_IMPORT_LIST:()=>Cf,CANCEL_TEST_INDEXER:()=>oC,CANCEL_TEST_NOTIFICATION:()=>Bv,CLEAR_CUSTOM_FORMAT_SPECIFICATIONS:()=>gg,CLEAR_CUSTOM_FORMAT_SPECIFICATION_PENDING:()=>Eg,CLONE_CUSTOM_FORMAT:()=>Kp,CLONE_CUSTOM_FORMAT_SPECIFICATION:()=>pg,CLONE_INDEXER:()=>Jf,CLONE_METADATA_PROFILE:()=>XC,CLONE_QUALITY_PROFILE:()=>lS,DELETE_ALL_CUSTOM_FORMAT_SPECIFICATION:()=>hg,DELETE_CUSTOM_FORMAT:()=>Wp,DELETE_CUSTOM_FORMAT_SPECIFICATION:()=>mg,DELETE_DELAY_PROFILE:()=>Fg,DELETE_DOWNLOAD_CLIENT:()=>bE,DELETE_IMPORT_LIST:()=>Ef,DELETE_IMPORT_LIST_EXCLUSION:()=>ef,DELETE_INDEXER:()=>nC,DELETE_METADATA_PROFILE:()=>YC,DELETE_NOTIFICATION:()=>xv,DELETE_QUALITY_PROFILE:()=>rS,DELETE_RELEASE_PROFILE:()=>vS,DELETE_REMOTE_PATH_MAPPING:()=>TS,DELETE_ROOT_FOLDER:()=>US,FETCH_CUSTOM_FORMATS:()=>qp,FETCH_CUSTOM_FORMAT_SPECIFICATIONS:()=>rg,FETCH_CUSTOM_FORMAT_SPECIFICATION_SCHEMA:()=>ig,FETCH_DELAY_PROFILES:()=>Ng,FETCH_DELAY_PROFILE_SCHEMA:()=>Dg,FETCH_DEVELOPMENT_SETTINGS:()=>Qg,FETCH_DOWNLOAD_CLIENTS:()=>pE,FETCH_DOWNLOAD_CLIENT_OPTIONS:()=>Zg,FETCH_DOWNLOAD_CLIENT_SCHEMA:()=>gE,FETCH_GENERAL_SETTINGS:()=>qE,FETCH_IMPORT_LISTS:()=>cf,FETCH_IMPORT_LIST_EXCLUSIONS:()=>XE,FETCH_IMPORT_LIST_SCHEMA:()=>df,FETCH_INDEXERS:()=>Kf,FETCH_INDEXER_FLAGS:()=>Bf,FETCH_INDEXER_OPTIONS:()=>zf,FETCH_INDEXER_SCHEMA:()=>$f,FETCH_LANGUAGES:()=>IC,FETCH_MEDIA_MANAGEMENT_SETTINGS:()=>TC,FETCH_METADATA:()=>LC,FETCH_METADATA_PROFILES:()=>GC,FETCH_METADATA_PROFILE_SCHEMA:()=>KC,FETCH_METADATA_PROVIDER:()=>iv,FETCH_NAMING_EXAMPLES:()=>yv,FETCH_NAMING_SETTINGS:()=>gv,FETCH_NOTIFICATIONS:()=>Ov,FETCH_NOTIFICATION_SCHEMA:()=>wv,FETCH_QUALITY_DEFINITIONS:()=>$v,FETCH_QUALITY_PROFILES:()=>sS,FETCH_QUALITY_PROFILE_SCHEMA:()=>oS,FETCH_RELEASE_PROFILES:()=>fS,FETCH_REMOTE_PATH_MAPPINGS:()=>OS,FETCH_ROOT_FOLDERS:()=>LS,FETCH_UI_SETTINGS:()=>$S,REORDER_DELAY_PROFILE:()=>xg,SAVE_CUSTOM_FORMAT:()=>Qp,SAVE_CUSTOM_FORMAT_SPECIFICATION:()=>ug,SAVE_DELAY_PROFILE:()=>Ag,SAVE_DEVELOPMENT_SETTINGS:()=>Gg,SAVE_DOWNLOAD_CLIENT:()=>vE,SAVE_DOWNLOAD_CLIENT_OPTIONS:()=>tE,SAVE_GENERAL_SETTINGS:()=>WE,SAVE_IMPORT_LIST:()=>pf,SAVE_IMPORT_LIST_EXCLUSION:()=>ZE,SAVE_INDEXER:()=>eC,SAVE_INDEXER_OPTIONS:()=>Uf,SAVE_MEDIA_MANAGEMENT_SETTINGS:()=>NC,SAVE_METADATA:()=>zC,SAVE_METADATA_PROFILE:()=>$C,SAVE_METADATA_PROVIDER:()=>cv,SAVE_NAMING_SETTINGS:()=>Ev,SAVE_NOTIFICATION:()=>Av,SAVE_QUALITY_DEFINITIONS:()=>Yv,SAVE_QUALITY_PROFILE:()=>aS,SAVE_RELEASE_PROFILE:()=>CS,SAVE_REMOTE_PATH_MAPPING:()=>wS,SAVE_ROOT_FOLDER:()=>_S,SAVE_UI_SETTINGS:()=>JS,SELECT_CUSTOM_FORMAT_SPECIFICATION_SCHEMA:()=>lg,SELECT_DOWNLOAD_CLIENT_SCHEMA:()=>EE,SELECT_IMPORT_LIST_SCHEMA:()=>uf,SELECT_INDEXER_SCHEMA:()=>Yf,SELECT_NOTIFICATION_SCHEMA:()=>Tv,SET_CUSTOM_FORMAT_SPECIFICATION_FIELD_VALUE:()=>dg,SET_CUSTOM_FORMAT_SPECIFICATION_VALUE:()=>cg,SET_CUSTOM_FORMAT_VALUE:()=>Gp,SET_DELAY_PROFILE_VALUE:()=>Rg,SET_DEVELOPMENT_SETTINGS_VALUE:()=>Wg,SET_DOWNLOAD_CLIENT_FIELD_VALUE:()=>CE,SET_DOWNLOAD_CLIENT_OPTIONS_VALUE:()=>eE,SET_DOWNLOAD_CLIENT_VALUE:()=>fE,SET_GENERAL_SETTINGS_VALUE:()=>QE,SET_IMPORT_LIST_EXCLUSION_VALUE:()=>tf,SET_IMPORT_LIST_FIELD_VALUE:()=>hf,SET_IMPORT_LIST_VALUE:()=>mf,SET_INDEXER_FIELD_VALUE:()=>Zf,SET_INDEXER_OPTIONS_VALUE:()=>Hf,SET_INDEXER_VALUE:()=>Xf,SET_MANAGE_DOWNLOAD_CLIENTS_SORT:()=>OE,SET_MANAGE_INDEXERS_SORT:()=>lC,SET_MEDIA_MANAGEMENT_SETTINGS_VALUE:()=>DC,SET_METADATA_FIELD_VALUE:()=>_C,SET_METADATA_PROFILE_VALUE:()=>JC,SET_METADATA_PROVIDER_VALUE:()=>lv,SET_METADATA_VALUE:()=>jC,SET_NAMING_SETTINGS_VALUE:()=>fv,SET_NOTIFICATION_FIELD_VALUE:()=>Dv,SET_NOTIFICATION_VALUE:()=>Nv,SET_QUALITY_DEFINITION_VALUE:()=>Jv,SET_QUALITY_PROFILE_VALUE:()=>iS,SET_RELEASE_PROFILE_VALUE:()=>SS,SET_REMOTE_PATH_MAPPING_VALUE:()=>NS,SET_ROOT_FOLDER_VALUE:()=>jS,SET_UI_SETTINGS_VALUE:()=>YS,TEST_ALL_DOWNLOAD_CLIENTS:()=>ME,TEST_ALL_IMPORT_LISTS:()=>vf,TEST_ALL_INDEXERS:()=>aC,TEST_DOWNLOAD_CLIENT:()=>PE,TEST_IMPORT_LIST:()=>ff,TEST_INDEXER:()=>sC,TEST_NOTIFICATION:()=>Rv,TOGGLE_ADVANCED_SETTINGS:()=>ab,actionHandlers:()=>ib,bulkDeleteDownloadClients:()=>jE,bulkDeleteImportLists:()=>Af,bulkDeleteIndexers:()=>SC,bulkEditDownloadClients:()=>LE,bulkEditImportLists:()=>Df,bulkEditIndexers:()=>vC,cancelSaveDownloadClient:()=>AE,cancelSaveImportList:()=>kf,cancelSaveIndexer:()=>pC,cancelSaveNotification:()=>Uv,cancelSaveRootFolder:()=>qS,cancelTestDownloadClient:()=>RE,cancelTestImportList:()=>Tf,cancelTestIndexer:()=>fC,cancelTestNotification:()=>qv,clearCustomFormatSpecification:()=>kg,clearCustomFormatSpecificationPending:()=>Og,cloneCustomFormat:()=>Zp,cloneCustomFormatSpecification:()=>Ig,cloneIndexer:()=>mC,cloneMetadataProfile:()=>ov,cloneQualityProfile:()=>pS,defaultState:()=>sb,deleteAllCustomFormatSpecification:()=>Pg,deleteCustomFormat:()=>Jp,deleteCustomFormatSpecification:()=>bg,deleteDelayProfile:()=>_g,deleteDownloadClient:()=>FE,deleteImportList:()=>Of,deleteImportListExclusion:()=>of,deleteIndexer:()=>gC,deleteMetadataProfile:()=>nv,deleteNotification:()=>Hv,deleteQualityProfile:()=>mS,deleteReleaseProfile:()=>yS,deleteRemotePathMapping:()=>FS,deleteRootFolder:()=>QS,fetchCustomFormatSpecificationSchema:()=>Cg,fetchCustomFormatSpecifications:()=>fg,fetchCustomFormats:()=>$p,fetchDelayProfileSchema:()=>Lg,fetchDelayProfiles:()=>Bg,fetchDevelopmentSettings:()=>Kg,fetchDownloadClientOptions:()=>nE,fetchDownloadClientSchema:()=>TE,fetchDownloadClients:()=>wE,fetchGeneralSettings:()=>GE,fetchImportListExclusions:()=>nf,fetchImportListSchema:()=>yf,fetchImportLists:()=>Pf,fetchIndexerFlags:()=>Lf,fetchIndexerOptions:()=>Vf,fetchIndexerSchema:()=>dC,fetchIndexers:()=>cC,fetchLanguages:()=>kC,fetchMediaManagementSettings:()=>AC,fetchMetadata:()=>UC,fetchMetadataProfileSchema:()=>ev,fetchMetadataProfiles:()=>ZC,fetchMetadataProvider:()=>dv,fetchNamingExamples:()=>Mv,fetchNamingSettings:()=>Cv,fetchNotificationSchema:()=>jv,fetchNotifications:()=>Lv,fetchQualityDefinitions:()=>Xv,fetchQualityProfileSchema:()=>dS,fetchQualityProfiles:()=>cS,fetchReleaseProfiles:()=>bS,fetchRemotePathMappings:()=>DS,fetchRootFolders:()=>HS,fetchUISettings:()=>XS,persistState:()=>ob,reducers:()=>lb,reorderDelayProfile:()=>zg,saveCustomFormat:()=>Yp,saveCustomFormatSpecification:()=>Sg,saveDelayProfile:()=>jg,saveDevelopmentSettings:()=>$g,saveDownloadClient:()=>DE,saveDownloadClientOptions:()=>sE,saveGeneralSettings:()=>KE,saveImportList:()=>If,saveImportListExclusion:()=>sf,saveIndexer:()=>hC,saveIndexerOptions:()=>qf,saveMediaManagementSettings:()=>FC,saveMetadata:()=>HC,saveMetadataProfile:()=>tv,saveMetadataProvider:()=>uv,saveNamingSettings:()=>vv,saveNotification:()=>zv,saveQualityDefinitions:()=>Zv,saveQualityProfile:()=>uS,saveReleaseProfile:()=>PS,saveRemotePathMapping:()=>AS,saveRootFolder:()=>VS,saveUISettings:()=>ZS,section:()=>nb,selectCustomFormatSpecificationSchema:()=>vg,selectDownloadClientSchema:()=>NE,selectImportListSchema:()=>Mf,selectIndexerSchema:()=>uC,selectNotificationSchema:()=>_v,setCustomFormatSpecificationFieldValue:()=>Mg,setCustomFormatSpecificationValue:()=>yg,setCustomFormatValue:()=>Xp,setDelayProfileValue:()=>Ug,setDevelopmentSettingsValue:()=>Yg,setDownloadClientFieldValue:()=>UE,setDownloadClientOptionsValue:()=>oE,setDownloadClientValue:()=>zE,setGeneralSettingsValue:()=>$E,setImportListExclusionValue:()=>af,setImportListFieldValue:()=>xf,setImportListValue:()=>Ff,setIndexerFieldValue:()=>yC,setIndexerOptionsValue:()=>Qf,setIndexerValue:()=>PC,setManageDownloadClientsSort:()=>_E,setManageIndexersSort:()=>bC,setMediaManagementSettingsValue:()=>xC,setMetadataFieldValue:()=>qC,setMetadataProfileValue:()=>sv,setMetadataProviderValue:()=>mv,setMetadataValue:()=>VC,setNamingSettingsValue:()=>Sv,setNotificationFieldValue:()=>Wv,setNotificationValue:()=>Qv,setQualityDefinitionValue:()=>eS,setQualityProfileValue:()=>hS,setReleaseProfileValue:()=>MS,setRemotePathMappingValue:()=>xS,setRootFolderValue:()=>WS,setUISettingsValue:()=>eb,testAllDownloadClients:()=>BE,testAllImportLists:()=>Nf,testAllIndexers:()=>CC,testDownloadClient:()=>xE,testImportList:()=>wf,testIndexer:()=>EC,testNotification:()=>Vv,toggleAdvancedSettings:()=>rb});var D={};n.r(D),n.d(D,{CLEAR_LOGS_TABLE:()=>Ab,CLEAR_RESTORE_BACKUP:()=>Sb,DELETE_BACKUP:()=>bb,FETCH_BACKUPS:()=>Cb,FETCH_DISK_SPACE:()=>gb,FETCH_HEALTH:()=>pb,FETCH_LOGS:()=>yb,FETCH_LOG_FILES:()=>Fb,FETCH_STATUS:()=>hb,FETCH_TASK:()=>Eb,FETCH_TASKS:()=>fb,FETCH_UPDATES:()=>Pb,FETCH_UPDATE_LOG_FILES:()=>xb,GOTO_FIRST_LOGS_PAGE:()=>Mb,GOTO_LAST_LOGS_PAGE:()=>Ob,GOTO_LOGS_PAGE:()=>wb,GOTO_NEXT_LOGS_PAGE:()=>kb,GOTO_PREVIOUS_LOGS_PAGE:()=>Ib,RESTART:()=>Rb,RESTORE_BACKUP:()=>vb,SET_LOGS_FILTER:()=>Nb,SET_LOGS_SORT:()=>Tb,SET_LOGS_TABLE_OPTION:()=>Db,SHUTDOWN:()=>Bb,actionHandlers:()=>iP,clearLogsTable:()=>nP,clearRestoreBackup:()=>qb,defaultState:()=>ub,deleteBackup:()=>Qb,fetchBackups:()=>Hb,fetchDiskSpace:()=>_b,fetchHealth:()=>jb,fetchLogFiles:()=>sP,fetchLogs:()=>Gb,fetchStatus:()=>Lb,fetchTask:()=>zb,fetchTasks:()=>Ub,fetchUpdateLogFiles:()=>oP,fetchUpdates:()=>Wb,gotoLogsFirstPage:()=>Kb,gotoLogsLastPage:()=>Jb,gotoLogsNextPage:()=>Yb,gotoLogsPage:()=>Xb,gotoLogsPreviousPage:()=>$b,persistState:()=>mb,reducers:()=>lP,restart:()=>aP,restoreBackup:()=>Vb,section:()=>cb,setLogsFilter:()=>eP,setLogsSort:()=>Zb,setLogsTableOption:()=>tP,shutdown:()=>rP});var A={};n.r(A),n.d(A,{ADD_TAG:()=>mP,DELETE_TAG:()=>hP,FETCH_TAGS:()=>uP,FETCH_TAG_DETAILS:()=>pP,actionHandlers:()=>vP,addTag:()=>EP,defaultState:()=>dP,deleteTag:()=>fP,fetchTagDetails:()=>CP,fetchTags:()=>gP,reducers:()=>SP,section:()=>cP});var F={};n.r(F),n.d(F,{BATCH_TOGGLE_CUTOFF_UNMET_BOOKS:()=>GP,BATCH_TOGGLE_MISSING_BOOKS:()=>BP,CLEAR_CUTOFF_UNMET:()=>WP,CLEAR_MISSING:()=>RP,FETCH_CUTOFF_UNMET:()=>LP,FETCH_MISSING:()=>kP,GOTO_CUTOFF_UNMET_PAGE:()=>HP,GOTO_FIRST_CUTOFF_UNMET_PAGE:()=>jP,GOTO_FIRST_MISSING_PAGE:()=>OP,GOTO_LAST_CUTOFF_UNMET_PAGE:()=>UP,GOTO_LAST_MISSING_PAGE:()=>NP,GOTO_MISSING_PAGE:()=>DP,GOTO_NEXT_CUTOFF_UNMET_PAGE:()=>zP,GOTO_NEXT_MISSING_PAGE:()=>TP,GOTO_PREVIOUS_CUTOFF_UNMET_PAGE:()=>_P,GOTO_PREVIOUS_MISSING_PAGE:()=>wP,SET_CUTOFF_UNMET_FILTER:()=>qP,SET_CUTOFF_UNMET_SORT:()=>VP,SET_CUTOFF_UNMET_TABLE_OPTION:()=>QP,SET_MISSING_FILTER:()=>FP,SET_MISSING_SORT:()=>AP,SET_MISSING_TABLE_OPTION:()=>xP,actionHandlers:()=>Ey,batchToggleCutoffUnmetBooks:()=>gy,batchToggleMissingBooks:()=>oy,clearCutoffUnmet:()=>py,clearMissing:()=>sy,defaultState:()=>MP,fetchCutoffUnmet:()=>ay,fetchMissing:()=>KP,gotoCutoffUnmetFirstPage:()=>ry,gotoCutoffUnmetLastPage:()=>cy,gotoCutoffUnmetNextPage:()=>ly,gotoCutoffUnmetPage:()=>dy,gotoCutoffUnmetPreviousPage:()=>iy,gotoMissingFirstPage:()=>$P,gotoMissingLastPage:()=>XP,gotoMissingNextPage:()=>JP,gotoMissingPage:()=>ZP,gotoMissingPreviousPage:()=>YP,persistState:()=>IP,reducers:()=>fy,section:()=>yP,setCutoffUnmetFilter:()=>my,setCutoffUnmetSort:()=>uy,setCutoffUnmetTableOption:()=>hy,setMissingFilter:()=>ty,setMissingSort:()=>ey,setMissingTableOption:()=>ny});var x=n(17929),R=n(96540),B=n(40961),L=n(68238),j=n(38306),_=n(41212),z=n(2543),U=n.n(z),H=n(52975);const V={};function q(e){return e}function Q(e,t=q){return function(n={}){return function(s,o){const a=V[e];if(a)return a(o,t(n),s);throw Error(`Thunk handler has not been registered for ${e}`)}}}function W(e){Object.keys(e).forEach((t=>{V[t]=e[t]}))}var G=n(33270),K=n.n(G);const $=/^(https?:)?\/\//i,Y=window.Researcharr.apiRoot;function J(e){const t=new window.XMLHttpRequest;let n=!1,s=!1;const o={...e};return function(e){return!$.test(e.url)}(o)&&(function(e){e.url=Y+e.url}(o),function(e){e.headers=e.headers||{},e.headers["X-Api-Key"]=window.Researcharr.apiKey}(o),function(e){null!=e.contentType||"json"!==e.dataType||"PUT"!==e.method&&"POST"!==e.method&&"DELETE"!==e.method||(e.contentType="application/json")}(o)),{request:K().ajax({xhr:()=>t,...o}).then(null,((e,t,s)=>(e.aborted=n,K().Deferred().reject(e,t,s).promise()))).always((()=>{s=!0})),abortRequest:function(){s||(n=!0,t.abort())}}}const X=function(e,t,n=!1){if(n)return U().get(e,t);const[,s]=t.split(".");return s?Object.assign({},e[s]):e.hasOwnProperty(t)?Object.assign({},e[t]):Object.assign({},e)},Z=function(e,t,n){const[,s]=t.split(".");return s?Object.assign({},e,{[s]:n}):e.hasOwnProperty(t)?Object.assign({},e,{[t]:n}):Object.assign({},e,n)};let ee={};function te(e,t={}){const{isProduction:n=!0}=window.Researcharr;n||e in ee||console.warn(`Missing translation for key: ${e}`);const s=ee[e]||e;return t.appName="Readarr",Object.values(t).forEach(((e,n)=>{t[n]=e})),s.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>{var s;return String(null!=(s=t[n])?s:e)}))}var ne=n(56937);const se="base/set",oe="base/update",ae="base/updateItem",re="base/updateServerSideCollection",ie="base/clearPendingChanges",le="base/removeItem",ce=(0,H.A)(se),de=(0,H.A)(oe),ue=(0,H.A)(ae),me=(0,H.A)(re),he=((0,H.A)("base/setSettingValue"),(0,H.A)(ie)),pe=(0,H.A)(le),ge=["section","id"];function Ee(e){return e.reduce(((e,t,n)=>(e[t.id]=n,e)),{})}function fe(e,t,n){return(0,ne.A)({[se]:function(e,{payload:t}){const s=t.section,[o]=s.split(".");if(n===o){const n=Object.assign(X(e,s),U().omit(t,ge));return Z(e,s,n)}return e},[oe]:function(e,{payload:t}){const s=t.section,[o]=s.split(".");if(n===o){const n=X(e,s);return U().isArray(t.data)?(n.items=t.data,n.itemMap=Ee(t.data)):n.item=t.data,Z(e,s,n)}return e},[ae]:function(e,{payload:t}){const{section:s,updateOnly:o=!1,...a}=t,[r]=s.split(".");if(n===r){var i;const n=X(e,s),r=n.items,l=null!=(i=n.itemMap)?i:Ee(r),c=t.id in l?l[t.id]:-1;if(n.items=[...r],c>=0){const t=r[c],s={...t,...a};if(U().isEqual(t,s))return e;n.items.splice(c,1,s)}else if(!o){const e=n.items.push({...a})-1;n.itemMap={...l},n.itemMap[t.id]=e}return Z(e,s,n)}return e},[ie]:function(e,{payload:t}){const s=t.section,[o]=s.split(".");if(n===o){const t=X(e,s);return t.pendingChanges={},t.hasOwnProperty("saveError")&&(t.saveError=null),Z(e,s,t)}return e},[le]:function(e,{payload:t}){const s=t.section,[o]=s.split(".");if(n===o){const n=X(e,s);return n.items=[...n.items],U().remove(n.items,{id:t.id}),n.itemMap=Ee(n.items),Z(e,s,n)}return e},[re]:function(e,{payload:t}){const s=t.section,[o]=s.split(".");if(n===o){const n=t.data,o=X(e,s),a=U().omit(n,["records"]),r={totalPages:Math.max(Math.ceil(n.totalRecords/n.pageSize),1),items:n.records,itemMap:Ee(n.records)};return Z(e,s,Object.assign(o,a,r))}return e},...e},t)}function Ce(e,t){return{width:e,height:t,isExtraSmallScreen:e<=480,isSmallScreen:e<=768,isMediumScreen:e<=1310,isLargeScreen:e<=1200}}const ve="app",Se="app.messages";let be=null,Pe=null;const ye={dimensions:Ce(window.innerWidth,window.innerHeight),messages:{items:[]},version:window.Researcharr.version,isUpdated:!1,isConnected:!0,isReconnecting:!1,isDisconnected:!1,isRestarting:!1,isSidebarVisible:!Ce(window.innerWidth,window.innerHeight).isSmallScreen,translations:{isFetching:!0,isPopulated:!1,error:null}},Me="app/showMessage",Ie="app/hideMessage",ke="app/saveDimensions",Oe="app/setVersion",we="app/setAppValue",Te="app/setIsSidebarVisible",Ne="app/fetchTranslations",De="app/pingServer",Ae=(0,H.A)(ke),Fe=(0,H.A)(Oe),xe=(0,H.A)(Te),Re=(0,H.A)(we),Be=(0,H.A)(Me),Le=(0,H.A)(Ie),je=Q(De),_e=Q(Ne);function ze(e,t){be&&(be(),be=null),Pe&&(clearTimeout(Pe),Pe=null),Pe=setTimeout((()=>{if(!e().isRestarting&&e().isConnected)return;const{request:n,abortRequest:s}=J({url:"/system/status",method:"GET",contentType:"application/json"});be=s,n.done((()=>{be=null,Pe=null,t(Re({isRestarting:!1}))})),n.fail((n=>{be=null,Pe=null,401===n.status?t(Re({isRestarting:!1})):ze(e,t)}))}),5e3)}const Ue=W({[De]:function(e,t,n){ze(e,n)},[Ne]:async function(e,t,n){const s=await async function(){return new Promise((async e=>{try{const t=await J({global:!1,dataType:"json",url:"/localization"}).request;ee=t.Strings,e(!0)}catch(t){e(!1)}}))}();n(Re({translations:{isFetching:!1,isPopulated:s,error:s?null:"Failed to load translations from API"}}))}}),He=fe({[ke]:function(e,{payload:t}){const{width:n,height:s}=t,o=Ce(n,s);return Object.assign({},e,{dimensions:o})},[Me]:function(e,{payload:t}){const n=X(e,Se),s=n.items,o=U().findIndex(s,{id:t.id});if(n.items=[...s],o>=0){const e=s[o];n.items.splice(o,1,{...e,...t})}else n.items.push({...t});return Z(e,Se,n)},[Ie]:function(e,{payload:t}){const n=X(e,Se);return n.items=[...n.items],U().remove(n.items,{id:t.id}),Z(e,Se,n)},[we]:function(e,{payload:t}){const n=Object.assign(X(e,ve),t);return Z(e,ve,n)},[Oe]:function(e,{payload:t}){const n=t.version,s={version:n};return e.version!==n&&(e.prevVersion||(s.prevVersion=e.version),s.isUpdated=!0),Object.assign({},e,s)},[Te]:function(e,{payload:t}){const n={isSidebarVisible:t.isSidebarVisible};return Object.assign({},e,n)}},ye,ve),Ve="left",qe="center",Qe="right",We=Object.entries({cybookg3:{name:"Cybook G3",description:"This profile is intended for the Cybook G3. [Screen size: 600 x 800 pixels]"},cybook_opus:{name:"Cybook Opus",description:"This profile is intended for the Cybook Opus. [Screen size: 590 x 775 pixels]"},default:{name:"Default Output Profile",description:"This profile tries to provide sane defaults and is useful if you want to produce a document intended to be read at a computer or on a range of devices. [Screen size: 1600 x 1200 pixels]"},generic_eink:{name:"Generic e-ink",description:"Suitable for use with any e-ink device [Screen size: 590 x 775 pixels]"},generic_eink_hd:{name:"Generic e-ink HD",description:"Suitable for use with any modern high resolution e-ink device [Screen size: unlimited]"},generic_eink_large:{name:"Generic e-ink large",description:"Suitable for use with any large screen e-ink device [Screen size: 600 x 999 pixels]"},hanlinv3:{name:"Hanlin V3",description:"This profile is intended for the Hanlin V3 and its clones. [Screen size: 584 x 754 pixels]"},hanlinv5:{name:"Hanlin V5",description:"This profile is intended for the Hanlin V5 and its clones. [Screen size: 584 x 754 pixels]"},illiad:{name:"Illiad",description:"This profile is intended for the Irex Illiad. [Screen size: 760 x 925 pixels]"},ipad:{name:"iPad",description:"Intended for the iPad and similar devices with a resolution of 768x1024 [Screen size: 768 x 1024 pixels]"},ipad3:{name:"iPad 3",description:"Intended for the iPad 3 and similar devices with a resolution of 1536x2048 [Screen size: 2048 x 1536 pixels]"},irexdr1000:{name:"IRex Digital Reader 1000",description:"This profile is intended for the IRex Digital Reader 1000. [Screen size: 1024 x 1280 pixels]"},irexdr800:{name:"IRex Digital Reader 800",description:"This profile is intended for the IRex Digital Reader 800. [Screen size: 768 x 1024 pixels]"},jetbook5:{name:"JetBook 5-inch",description:"This profile is intended for the 5-inch JetBook. [Screen size: 480 x 640 pixels]"},kindle:{name:"Kindle",description:"This profile is intended for the Amazon Kindle. [Screen size: 525 x 640 pixels]"},kindle_dx:{name:"Kindle DX",description:"This profile is intended for the Amazon Kindle DX. [Screen size: 744 x 1022 pixels]"},kindle_fire:{name:"Kindle Fire",description:"This profile is intended for the Amazon Kindle Fire. [Screen size: 570 x 1016 pixels]"},kindle_oasis:{name:"Kindle Oasis",description:"This profile is intended for the Amazon Kindle Oasis 2017 and above [Screen size: 1264 x 1680 pixels]"},kindle_pw:{name:"Kindle PaperWhite",description:"This profile is intended for the Amazon Kindle PaperWhite 1 and 2 [Screen size: 658 x 940 pixels]"},kindle_pw3:{name:"Kindle PaperWhite 3",description:"This profile is intended for the Amazon Kindle PaperWhite 3 and above [Screen size: 1072 x 1430 pixels]"},kindle_voyage:{name:"Kindle Voyage",description:"This profile is intended for the Amazon Kindle Voyage [Screen size: 1080 x 1430 pixels]"},kobo:{name:"Kobo Reader",description:"This profile is intended for the Kobo Reader. [Screen size: 536 x 710 pixels]"},msreader:{name:"Microsoft Reader",description:"This profile is intended for the Microsoft Reader. [Screen size: 480 x 652 pixels]"},mobipocket:{name:"Mobipocket Books",description:"This profile is intended for the Mobipocket books. [Screen size: 600 x 800 pixels]"},nook:{name:"Nook",description:"This profile is intended for the B&N Nook. [Screen size: 600 x 730 pixels]"},nook_color:{name:"Nook Color",description:"This profile is intended for the B&N Nook Color. [Screen size: 600 x 900 pixels]"},nook_hd_plus:{name:"Nook HD+",description:"Intended for the Nook HD+ and similar tablet devices with a resolution of 1280x1920 [Screen size: 1280 x 1920 pixels]"},pocketbook_900:{name:"PocketBook Pro 900",description:"This profile is intended for the PocketBook Pro 900 series of devices. [Screen size: 810 x 1180 pixels]"},pocketbook_pro_912:{name:"PocketBook Pro 912",description:"This profile is intended for the PocketBook Pro 912 series of devices. [Screen size: 825 x 1200 pixels]"},galaxy:{name:"Samsung Galaxy",description:"Intended for the Samsung Galaxy and similar tablet devices with a resolution of 600x1280 [Screen size: 600 x 1280 pixels]"},sony:{name:"Sony Reader",description:"This profile is intended for the SONY PRS line. The 500/505/600/700 etc. [Screen size: 590 x 775 pixels]"},sony300:{name:"Sony Reader 300",description:"This profile is intended for the SONY PRS-300. [Screen size: 590 x 775 pixels]"},sony900:{name:"Sony Reader 900",description:"This profile is intended for the SONY PRS-900. [Screen size: 600 x 999 pixels]"},sony_landscape:{name:"Sony Reader Landscape",description:"This profile is intended for the SONY PRS line. The 500/505/700 etc, in landscape mode. Mainly useful for comics. [Screen size: 784 x 1012 pixels]"},sonyt3:{name:"Sony Reader T3",description:"This profile is intended for the SONY PRS-T3. [Screen size: 758 x 934 pixels]"},tablet:{name:"Tablet",description:"Intended for generic tablet devices, does no resizing of images [Screen size: unlimited]"}}).map((([e,t])=>({key:e,value:t.name,description:t.description}))),Ge="contains",Ke="equal",$e="greaterThan",Ye="greaterThanOrEqual",Je="inLast",Xe="notInLast",Ze="inNext",et="notInNext",tt="lessThan",nt="lessThanOrEqual",st="notContains",ot="notEqual",at="startsWith",rt="notStartsWith",it="endsWith",lt="notEndsWith",ct="array",dt="date",ut="exact",mt="number",ht="string",pt={[ct]:[{key:Ge,value:"contains"},{key:st,value:"does not contain"}],[dt]:[{key:tt,value:"is before"},{key:$e,value:"is after"},{key:Je,value:"in the last"},{key:Xe,value:"not in the last"},{key:Ze,value:"in the next"},{key:et,value:"not in the next"}],[ut]:[{key:Ke,value:"is"},{key:ot,value:"is not"}],[mt]:[{key:Ke,value:"equal"},{key:$e,value:"greater than"},{key:Ye,value:"greater than or equal"},{key:tt,value:"less than"},{key:nt,value:"less than or equal"},{key:ot,value:"not equal"}],[ht]:[{key:Ge,value:"contains"},{key:st,value:"does not contain"},{key:Ke,value:"equal"},{key:ot,value:"not equal"},{key:at,value:"starts with"},{key:rt,value:"does not start with"},{key:it,value:"ends with"},{key:lt,value:"does not end with"}]},gt="bool",Et="bytes",ft="date",Ct="indexer",vt="metadataProfile",St="protocol",bt="quality",Pt="qualityProfile",yt="authorStatus",Mt="tag",It={[Ge]:function(e,t){return Array.isArray(e)?e.some((e=>e===t)):e.toLowerCase().contains(t.toLowerCase())},[Ke]:function(e,t){return e===t},[$e]:function(e,t){return e>t},[Ye]:function(e,t){return e>=t},[tt]:function(e,t){return e<t},[nt]:function(e,t){return e<=t},[st]:function(e,t){return Array.isArray(e)?!e.some((e=>e===t)):!e.toLowerCase().contains(t.toLowerCase())},[ot]:function(e,t){return e!==t},[at]:function(e,t){return e.toLowerCase().startsWith(t.toLowerCase())},[rt]:function(e,t){return!e.toLowerCase().startsWith(t.toLowerCase())},[it]:function(e,t){return e.toLowerCase().endsWith(t.toLowerCase())},[lt]:function(e,t){return!e.toLowerCase().endsWith(t.toLowerCase())}};var kt=n(7897),Ot=n(66188);const wt=kt.a$,Tt=Ot.QLR,Nt=Ot.KmH,Dt=kt.$3n,At=Ot.dB,Ft=Ot._sz,xt=Ot.vh1,Rt=Ot.M9Z,Bt=Ot.wx0,Lt=kt.oHY,jt=Ot.Dfk,_t=Ot.LBj,zt=Ot.wG0,Ut=Ot.BEE,Ht=kt.okg,Vt=Ot.xBV,qt=Ot.e68,Qt=Ot.EZy,Wt=Ot.SGM,Gt=Ot.rQb,Kt=Ot.GEE,$t=kt.GEE,Yt=Ot.BeE,Jt=Ot.jPR,Xt=Ot.GRI,Zt=kt.$3n,en=Ot.AeV,tn=Ot.ArK,nn=Ot.tUE,sn=Ot.BeE,on=Ot.cbP,an=Ot.cbP,rn=Ot.uqk,ln=kt.MBK,cn=Ot.h6r,dn=kt.qe6,un=Ot.DqM,mn=Ot.xnu,hn=Ot.o1d,pn=Ot.AaJ,gn=Ot.s0Q,En=kt.A4h,fn=Ot.mRM,Cn=Ot.s6x,vn=kt.ao0,Sn=Ot.Uj9,bn=kt.cWs,Pn=Ot.O9M,yn=Ot.qcK,Mn=Ot.v02,In=Ot.s0Q,kn=Ot.iW_,On=Ot.X46,wn=kt.Lhe,Tn=Ot.GxD,Nn=Ot.UNK,Dn=Ot.G06,An=Ot.ckx,Fn=Ot.FFg,xn=Ot.vHW,Rn=Ot.s7H,Bn=Ot.v2M,Ln=Ot.TH3,jn=Ot.vFJ,_n=Ot.byU,zn=Ot.erI,Un=Ot.G1Y,Hn=kt.a$,Vn=Ot.X46,qn=Ot.UTC,Qn=Ot.jBL,Wn=Ot.KMJ,Gn=Ot.VNe,Kn=Ot.GRI,$n=Ot.ckx,Yn=Ot.Uj9,Jn=Ot.dLQ,Xn=Ot.Int,Zn=Ot.MT7,es=Ot.eGu,ts=Ot.hSh,ns=kt.a$,ss=Ot.nWR,os=Ot.MjD,as=Ot.ijD,rs=Ot.APi,is=Ot.Ubc,ls=Ot.enb,cs=Ot.OM7,ds=Ot.Dvs,us=Ot.Ync,ms=Ot.z1G,hs=Ot.yy,ps=Ot.EZy,gs=Ot.YBv,Es=Ot.w97,fs=Ot.DX_,Cs=Ot.a2R,vs=kt.Rvk,Ss=Ot.EvL,bs=kt.G06,Ps=Ot.Uw9,ys=Ot.pS3,Ms=Ot.zpE,Is=Ot.eHl,ks="autoComplete",Os="captcha",ws="check",Ts="device",Ns="bookshelf",Ds="monitorBooksSelect",As="monitorNewItemsSelect",Fs="number",xs="oauth",Rs="password",Bs="path",Ls="qualityProfileSelect",js="metadataProfileSelect",_s="bookEditionSelect",zs="indexerSelect",Us="indexerFlagsSelect",Hs="downloadClientSelect",Vs="rootFolderSelect",qs="select",Qs="dynamicSelect",Ws="tag",Gs="text",Ks="textArea",$s="textTag",Ys="tagSelect",Js="umask",Xs="danger",Zs="default",eo="disabled",to="info",no="inverse",so="primary",oo="purple",ao="success",ro="warning",io="None",lo="none",co="both",uo="horizontal",mo="vertical",ho="extraSmall",po="small",go="medium",Eo="large",fo="extraLarge",Co="extraExtraLarge",vo="ascending",So="descending",bo="top",Po="right",yo="bottom",Mo="left";var Io=n(95093),ko=n.n(Io);const Oo=function(e,t={}){if(!e)return!1;const n=ko()();return Object.keys(t).forEach((e=>{n.add(t[e],e)})),ko()(e).isAfter(n)},wo=function(e,t={}){if(!e)return!1;const n=ko()();return Object.keys(t).forEach((e=>{n.add(t[e],e)})),ko()(e).isBefore(n)};function To(e,t,n){if(!e)return!1;switch(n){case tt:return ko()(e).isBefore(t);case $e:return ko()(e).isAfter(t);case Je:return Oo(e,{[t.time]:-1*t.value})&&wo(e);case Xe:return wo(e,{[t.time]:-1*t.value});case Ze:return Oo(e)&&wo(e,{[t.time]:t.value});case et:return Oo(e,{[t.time]:t.value});default:return!1}}const No={CALENDAR:"calendar",BOOKS:"books",INTERACTIVE_IMPORT:"interactiveImport.books",WANTED_CUTOFF_UNMET:"wanted.cutoffUnmet",WANTED_MISSING:"wanted.missing"};var Do=n(20982),Ao=n(46942),Fo=n.n(Ao);const xo={danger:"Icon-danger-epvdL",default:"Icon-default-ZpHc_",disabled:"Icon-disabled-cwrUJ",info:"Icon-info-GEXUJ",pink:"Icon-pink-xAGBW",success:"Icon-success-J799D",warning:"Icon-warning-wE4s6",purple:"Icon-purple-roI8D"};function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ro.apply(null,arguments)}class Bo extends R.PureComponent{render(){const{containerClassName:e,className:t,name:n,kind:s,size:o,title:a,isSpinning:r,...i}=this.props,l=R.createElement(Do.g,Ro({className:Fo()(t,xo[s]),icon:n,spin:r,style:{fontSize:`${o}px`}},i));return a?R.createElement("span",{className:e,title:"function"==typeof a?a():a},l):l}}Bo.defaultProps={kind:Zs,size:14,isSpinning:!1,fixedWidth:!1};const Lo=Bo,jo=function(e,t){return function(n,s,o){const{id:a,...r}=s;o(ce({section:e,isDeleting:!0}));const i=J({url:`${t}/${a}?${K().param(r,!0)}`,method:"DELETE"}).request;return i.done((t=>{o((0,_.OJ)([ce({section:e,isDeleting:!1,deleteError:null}),pe({section:e,id:a})]))})),i.fail((t=>{o(ce({section:e,isDeleting:!1,deleteError:t}))})),i}},_o=function(e,t,n,s=!0){const{id:o,...a}=e,r=X(t(),n,!0),i=Object.assign({},r.pendingChanges,a),l=r.pendingChanges.fields||{};delete i.fields;const c=o?U().find(r.items,{id:o}):r.selectedSchema||r.schema||{};c.fields&&(i.fields=U().reduce(c.fields,((e,t)=>{const n=t.name,o=l.hasOwnProperty(n)?l[n]:t.value;return s?e.push({name:n,value:o}):e.push({...t,value:o}),e}),[]));const d=Object.assign({},c,i);return delete d.presets,d},zo={};let Uo=null;function Ho(e){return function(t,n,s){zo[e]&&(zo[e](),zo[e]=null)}}const Vo=function(e,t,n={},s=!1){return function(n,o,a){a(ce({section:e,isSaving:!0}));const{id:r,queryParams:i={},...l}=o,c=Array.isArray(r)?r.map((t=>_o({id:t,...l},n,e))):_o({id:r,...l},n,e),d=r?`${t}/${r}`:t,u={...i};U().isEqual(c,Uo)&&(u.forceSave=!0),Uo=c;const m={url:`${d}?${K().param(u,!0)}`,method:r?"PUT":"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c)},{request:h,abortRequest:p}=J(m);zo[e]=p,h.done((t=>{Uo=null,Array.isArray(t)||(t=[t]);const n=s&&Array.isArray(r)?U().difference(r,U().map(t,"id")):[];a((0,_.OJ)(t.map((t=>ue({section:e,...t}))).concat(n.map((t=>pe({section:e,id:t})))).concat(ce({section:e,isSaving:!1,saveError:null,pendingChanges:{}}))))})),h.fail((t=>{a(ce({section:e,isSaving:!1,saveError:t.aborted?null:t}))}))}},qo=function(e){return(t,{payload:n})=>{const s=X(t,e),o=n.sortKey||s.sortKey;let a=n.sortDirection;return a||(a=n.sortKey===s.sortKey?s.sortDirection===vo?So:vo:s.sortDirection),s.sortKey=o,s.sortDirection=a,Z(t,e,s)}},Qo=function(e){return(t,{payload:n})=>{if(e===n.section){const{name:s,value:o}=n,a=X(t,e);a.pendingChanges=Object.assign({},a.pendingChanges);const r=a.item?a.item[s]:null,i=a.pendingChanges;let l=null;return l=U().isNumber(r)&&null!=o?parseInt(o):o,r===l?delete i[s]:i[s]=l,Z(t,e,a)}return t}},Wo=["pageSize","columns","tableOptions"],Go=function(e){return(t,{payload:n})=>{const s=Object.assign(X(t,e),U().pick(n,Wo));return Z(t,e,s)}},Ko="books",$o=[{key:"all",label:()=>te("All"),filters:[]},{key:"monitored",label:()=>te("Monitored"),filters:[{key:"monitored",value:!0,type:Ke}]},{key:"unmonitored",label:()=>te("Unmonitored"),filters:[{key:"monitored",value:!1,type:Ke}]},{key:"missing",label:()=>te("Missing"),filters:[{key:"monitored",value:!0,type:Ke},{key:"missing",value:!0,type:Ke}]},{key:"wanted",label:()=>te("Wanted"),filters:[{key:"monitored",value:!0,type:Ke},{key:"missing",value:!0,type:Ke},{key:"releaseDate",value:ko()(),type:tt}]}],Yo={missing:function(e){const{statistics:t={}}=e;return!t.hasOwnProperty("bookFileCount")||0===t.bookFileCount},releaseDate:function(e,t,n){return To(e.releaseDate,t,n)},added:function(e,t,n){return To(e.added,t,n)},qualityProfileId:function(e,t,n){return(0,It[n])(e.author.qualityProfileId,t)},ratings:function(e,t,n){return(0,It[n])(10*e.ratings.value,t)},path:function(e,t,n){return(0,It[n])(e.author.path,t)},bookFileCount:function(e,t,n){return(0,It[n])(e.statistics?e.statistics.bookFileCount:0,t)},sizeOnDisk:function(e,t,n){return(0,It[n])(e.statistics&&e.statistics.sizeOnDisk?e.statistics.sizeOnDisk:0,t)}},Jo={sizeOnDisk:function(e){const{statistics:t={}}=e;return t.sizeOnDisk||0},path:function(e){return e.author.path},series:function(e){return e.seriesTitle},rating:function(e){return e.ratings.value},journal:function(e){return e.journal||""},doi:function(e){return e.doi||""},citations:function(e){return e.citations||0},status:function(e){var t;let n=0;const s=!(null==(t=e.statistics)||!t.bookFileCount);return Date.parse(e.releaseDate)<new Date&&n++,e.monitored&&(n+=2),s&&(n+=4),n}},Xo={isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,sortKey:"releaseDate",sortDirection:So,items:[],pendingChanges:{},sortPredicates:{rating:function(e){return e.ratings.value}},columns:[{name:"select",columnLabel:"Select",isSortable:!1,isVisible:!0,isModifiable:!1,isHidden:!0},{name:"monitored",columnLabel:"Monitored",isVisible:!0,isModifiable:!1},{name:"title",label:"Title",isSortable:!0,isVisible:!0},{name:"series",label:"Series",isSortable:!0,isVisible:!1},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!0},{name:"journal",label:"Journal",isSortable:!0,isVisible:!0},{name:"doi",label:"DOI",isSortable:!0,isVisible:!0},{name:"citations",label:"Citations",isSortable:!0,isVisible:!0},{name:"pageCount",label:"Pages",isSortable:!0,isVisible:!0},{name:"rating",label:"Rating",isSortable:!0,isVisible:!0},{name:"indexerFlags",columnLabel:()=>te("IndexerFlags"),label:R.createElement(Lo,{name:Cn,title:()=>te("IndexerFlags")}),isVisible:!1},{name:"status",label:"Status",isVisible:!0,isSortable:!0},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}]},Zo=["books.sortKey","books.sortDirection","books.columns"],ea="books/fetchBooks",ta="books/setBooksSort",na="books/setBooksTableOption",sa="books/clearBooks",oa="books/setBookValue",aa="books/saveBook",ra="books/deleteBook",ia="books/deleteAuthorBooks",la="books/toggleBookMonitored",ca="books/toggleBooksMonitored",da=Q(ea),ua=(0,H.A)(ta),ma=(0,H.A)(na),ha=(0,H.A)(sa),pa=Q(la),ga=Q(ca),Ea=Q(aa),fa=Q(ra,(e=>({...e,queryParams:{deleteFiles:e.deleteFiles,addImportListExclusion:e.addImportListExclusion}}))),Ca=Q(ia,(e=>({...e,queryParams:{authorId:e.authorId}}))),va=(0,H.A)(oa,(e=>({section:"books",...e}))),Sa=W({[ea]:function(e,t,n){n(ce({section:Ko,isFetching:!0}));const{request:s,abortRequest:o}=J({url:"/book",data:t,traditional:!0});return s.done((s=>{t.hasOwnProperty("authorId")&&(s=e().books.items.filter((e=>e.authorId!==t.authorId)).concat(s)),n((0,_.OJ)([de({section:Ko,data:s}),ce({section:Ko,isFetching:!1,isPopulated:!0,error:null})]))})),s.fail((e=>{n(ce({section:Ko,isFetching:!1,isPopulated:!1,error:e.aborted?null:e}))})),o},[aa]:Vo(Ko,"/book"),[ra]:jo(Ko,"/book"),[ia]:function(e,t,n){const{authorId:s}=t,o=e().books.items.filter((e=>e.authorId===s));n((0,_.OJ)(o.map((e=>pe({section:Ko,id:e.id})))))},[la]:function(e,t,n){const{bookId:s,bookEntity:o=No.BOOKS,monitored:a}=t,r=U().last(o.split("."));n(ue({id:s,section:r,isSaving:!0}));const i=J({url:`/book/${s}`,method:"PUT",data:JSON.stringify({monitored:a}),dataType:"json"}).request;i.done((e=>{n(ue({id:s,section:r,isSaving:!1,monitored:a}))})),i.fail((e=>{n(ue({id:s,section:r,isSaving:!1}))}))},[ca]:function(e,t,n){const{bookIds:s,bookEntity:o=No.BOOKS,monitored:a}=t;n((0,_.OJ)(s.map((e=>ue({id:e,section:o,isSaving:!0})))));const r=J({url:"/book/monitor",method:"PUT",data:JSON.stringify({bookIds:s,monitored:a}),dataType:"json"}).request;r.done((e=>{n((0,_.OJ)(s.map((e=>ue({id:e,section:o,isSaving:!1,monitored:a})))))})),r.fail((e=>{n((0,_.OJ)(s.map((e=>ue({id:e,section:o,isSaving:!1})))))}))}}),ba=fe({[ta]:qo(Ko),[na]:Go(Ko),[oa]:Qo(Ko),[sa]:e=>Object.assign({},e,{isFetching:!1,isPopulated:!1,error:null,items:[]})},Xo,Ko);function Pa(e,t){return function(n,s,o){o(ce({section:e,isFetching:!0}));const{id:a,...r}=s,{request:i,abortRequest:l}=J({url:null==a?t:`${t}/${a}`,data:r,traditional:!0});return i.done((t=>{o((0,_.OJ)([null==a?de({section:e,data:t}):ue({section:e,...t}),ce({section:e,isFetching:!1,isPopulated:!0,error:null})]))})),i.fail((t=>{o(ce({section:e,isFetching:!1,isPopulated:!1,error:t.aborted?null:t}))})),l}}const ya="authors",Ma=[{key:"all",label:"All",filters:[]},{key:"monitored",label:"Monitored Only",filters:[{key:"monitored",value:!0,type:Ke}]},{key:"unmonitored",label:"Unmonitored Only",filters:[{key:"monitored",value:!1,type:Ke}]},{key:"continuing",label:"Continuing Only",filters:[{key:"status",value:"continuing",type:Ke}]},{key:"ended",label:"Ended Only",filters:[{key:"status",value:"ended",type:Ke}]},{key:"missing",label:"Missing Books",filters:[{key:"missing",value:!0,type:Ke}]}],Ia={missing:function(e){const{statistics:t={}}=e;return t.bookCount-t.bookFileCount>0},nextBook:function(e,t,n){return To(e.nextBook,t,n)},lastBook:function(e,t,n){return To(e.lastBook,t,n)},added:function(e,t,n){return To(e.added,t,n)},ratings:function(e,t,n){return(0,It[n])(10*e.ratings.value,t)},bookCount:function(e,t,n){return(0,It[n])(e.statistics?e.statistics.bookCount:0,t)},sizeOnDisk:function(e,t,n){return(0,It[n])(e.statistics&&e.statistics.sizeOnDisk?e.statistics.sizeOnDisk:0,t)}},ka={status:function(e){let t=0;return e.monitored&&(t+=2),"continuing"===e.status&&t++,t},sizeOnDisk:function(e){const{statistics:t={}}=e;return t.sizeOnDisk||0}},Oa={isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,items:[],sortKey:"sortName",sortDirection:vo,pendingChanges:{}},wa="authors/fetchAuthor",Ta="authors/setAuthorValue",Na="authors/saveAuthor",Da="authors/deleteAuthor",Aa="authors/toggleAuthorMonitored",Fa="authors/toggleBookMonitored",xa="authors/updateBookMonitored",Ra=Q(wa),Ba=Q(Na,(e=>{const t={...e};return e.moveFiles&&(t.queryParams={moveFiles:!0}),delete t.moveFiles,t})),La=Q(Da,(e=>({...e,queryParams:{deleteFiles:e.deleteFiles,addImportListExclusion:e.addImportListExclusion}}))),ja=Q(Aa),_a=Q(Fa),za=Q(xa),Ua=(0,H.A)(Ta,(e=>({section:ya,...e}))),Ha=W({[wa]:Pa(ya,"/author"),[Na]:Vo(ya,"/author",{getAjaxOptions:function({ajaxOptions:e,payload:t}){return t.moveFolder&&(e.url=`${e.url}?moveFolder=true`),e}}),[Da]:jo(ya,"/author"),[Aa]:(e,t,n)=>{const{authorId:s,monitored:o}=t,a=U().find(e().authors.items,{id:s});n(ue({id:s,section:ya,isSaving:!0}));const r=J({url:`/author/${s}`,method:"PUT",data:JSON.stringify({...a,monitored:o}),dataType:"json"}).request;r.done((e=>{n(ue({id:s,section:ya,isSaving:!1,monitored:o}))})),r.fail((e=>{n(ue({id:s,section:ya,isSaving:!1}))}))},[Fa]:function(e,t,n){const{authorId:s,seasonNumber:o,monitored:a}=t,r=U().find(e().authors.items,{id:s}),i=U().cloneDeep(r.seasons),l=U().find(i,{seasonNumber:o});l.isSaving=!0,n(ue({id:s,section:ya,seasons:i})),l.monitored=a;const c=J({url:`/author/${s}`,method:"PUT",data:JSON.stringify({...r,seasons:i}),dataType:"json"}).request;c.done((t=>{const r=U().filter(e().books.items,{authorId:s,seasonNumber:o});n((0,_.OJ)([ue({id:s,section:ya,...t}),...r.map((e=>ue({id:e.id,section:"books",monitored:a})))]))})),c.fail((e=>{n(ue({id:s,section:ya,seasons:r.seasons}))}))},[xa]:function(e,t,n){const{id:s,monitor:o}=t;"None"!==o&&({id:s}.monitored=!0),n(ce({section:ya,isSaving:!0}));const a=J({url:"/bookshelf",method:"POST",data:JSON.stringify({authors:[{id:s}],monitoringOptions:{monitor:o}}),dataType:"json"}).request;a.done((e=>{n(da({authorId:s})),n(ce({section:ya,isSaving:!1,saveError:null}))})),a.fail((e=>{n(ce({section:ya,isSaving:!1,saveError:e}))}))}}),Va=fe({[Ta]:Qo(ya)},Oa,ya),qa="authorDetails",Qa={sortKey:"releaseDate",sortDirection:So,secondarySortKey:"releaseDate",secondarySortDirection:So,selectedFilterKey:"authorId",sortPredicates:{...Jo},filters:[{key:"authorId",label:"Author",filters:[{key:"authorId",value:0}]}],filterPredicates:Yo},Wa=["authorDetails.sortKey","authorDetails.sortDirection"],Ga="authorIndex/setAuthorDetailsSort",Ka="authorIndex/setAuthorDetailsId",$a=(0,H.A)(Ga),Ya=Q(Ka),Ja=W({[Ka]:function(e,t,n){const{authorId:s}=t;n(ce({section:qa,filters:[{key:"authorId",label:"Author",filters:[{key:"authorId",value:s}]}]}))}}),Xa=fe({[Ga]:qo(qa)},Qa,qa),Za="authorHistory",er={isFetching:!1,isPopulated:!1,error:null,items:[]},tr="authorHistory/fetchAuthorHistory",nr="authorHistory/clearAuthorHistory",sr="authorHistory/authorHistoryMarkAsFailed",or=Q(tr),ar=(0,H.A)(nr),rr=Q(sr),ir=W({[tr]:function(e,t,n){n(ce({section:Za,isFetching:!0}));const s=J({url:"/history/author",data:t}).request;s.done((e=>{n((0,_.OJ)([de({section:Za,data:e}),ce({section:Za,isFetching:!1,isPopulated:!0,error:null})]))})),s.fail((e=>{n(ce({section:Za,isFetching:!1,isPopulated:!1,error:e}))}))},[sr]:function(e,t,n){const{historyId:s,authorId:o,bookId:a}=t;J({url:`/history/failed/${s}`,method:"POST"}).request.done((()=>{n(or({authorId:o,bookId:a}))}))}}),lr=fe({[nr]:e=>Object.assign({},e,er)},er,Za),cr=function(e,t){return e.name.localeCompare(t.name)},dr=function(e){return(t,{payload:n})=>{const s=X(t,e);return s.selectedFilterKey=n.selectedFilterKey,Z(t,e,s)}},ur="authorIndex",mr={isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,sortKey:"sortNameLastFirst",sortDirection:vo,secondarySortKey:"sortNameLastFirst",secondarySortDirection:vo,view:"posters",posterOptions:{detailedProgressBar:!1,size:"large",showTitle:"lastFirst",showMonitored:!0,showQualityProfile:!0,showSearchAction:!1},overviewOptions:{showTitle:"lastFirst",detailedProgressBar:!1,size:"medium",showMonitored:!0,showQualityProfile:!0,showLastBook:!1,showAdded:!1,showBookCount:!0,showPath:!1,showSizeOnDisk:!1,showSearchAction:!1},tableOptions:{showTitle:"lastFirst",showBanners:!1,showSearchAction:!1},columns:[{name:"select",columnLabel:"Select",isSortable:!1,isVisible:!0,isModifiable:!1,isHidden:!0},{name:"status",columnLabel:"Status",isSortable:!0,isVisible:!0,isModifiable:!1},{name:"sortName",label:"Author Name",isSortable:!0,isVisible:!0,isModifiable:!1},{name:"qualityProfileId",label:"Quality Profile",isSortable:!0,isVisible:!0},{name:"metadataProfileId",label:"Metadata Profile",isSortable:!0,isVisible:!1},{name:"nextBook",label:"Next Book",isSortable:!0,isVisible:!0},{name:"lastBook",label:"Last Book",isSortable:!0,isVisible:!1},{name:"added",label:"Added",isSortable:!0,isVisible:!1},{name:"bookProgress",label:"Books",isSortable:!0,isVisible:!0},{name:"path",label:"Path",isSortable:!0,isVisible:!1},{name:"sizeOnDisk",label:"Size on Disk",isSortable:!0,isVisible:!1},{name:"genres",label:"Genres",isSortable:!1,isVisible:!1},{name:"ratings",label:"Rating",isSortable:!0,isVisible:!1},{name:"tags",label:"Tags",isSortable:!1,isVisible:!1},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}],sortPredicates:{...ka,bookProgress:function(e){const{statistics:t={}}=e,{bookCount:n=0,bookFileCount:s}=t;return(n?s/n*100:100)+n/1e6},nextBook:function(e){return e.nextBook?e.nextBook.releaseDate:"1/1/1000"},lastBook:function(e){return e.lastBook?e.lastBook.releaseDate:"1/1/1000"},bookCount:function(e){const{statistics:t={}}=e;return t.bookCount||0},ratings:function(e){const{ratings:t={}}=e;return t.value}},selectedFilterKey:"all",filters:Ma,filterPredicates:{...Ia,bookProgress:function(e,t,n){const{statistics:s={}}=e,{bookCount:o=0,bookFileCount:a}=s;return(0,It[n])(o?a/o*100:100,t)}},filterBuilderProps:[{name:"monitored",label:"Monitored",type:ut,valueType:gt},{name:"status",label:"Status",type:ut,valueType:yt},{name:"qualityProfileId",label:"Quality Profile",type:ut,valueType:Pt},{name:"metadataProfileId",label:"Metadata Profile",type:ut,valueType:vt},{name:"nextBook",label:"Next Book",type:dt,valueType:ft},{name:"lastBook",label:"Last Book",type:dt,valueType:ft},{name:"added",label:"Added",type:dt,valueType:ft},{name:"bookCount",label:"Book Count",type:mt},{name:"bookProgress",label:"Book Progress",type:mt},{name:"path",label:"Path",type:ht},{name:"sizeOnDisk",label:"Size on Disk",type:mt,valueType:Et},{name:"genres",label:"Genres",type:ct,optionsSelector:function(e){return e.reduce(((e,t)=>(t.genres.forEach((t=>{e.push({id:t,name:t})})),e)),[]).sort(cr)}},{name:"ratings",label:"Rating",type:mt},{name:"tags",label:"Tags",type:ct,valueType:Mt}]},hr=["authorIndex.sortKey","authorIndex.sortDirection","authorIndex.selectedFilterKey","authorIndex.customFilters","authorIndex.view","authorIndex.columns","authorIndex.posterOptions","authorIndex.bannerOptions","authorIndex.overviewOptions","authorIndex.tableOptions"],pr="authorIndex/setAuthorSort",gr="authorIndex/setAuthorFilter",Er="authorIndex/setAuthorView",fr="authorIndex/setAuthorTableOption",Cr="authorIndex/setAuthorPosterOption",vr="authorIndex/setAuthorBannerOption",Sr="authorIndex/setAuthorOverviewOption",br="authorIndex/saveAuthorEditor",Pr="authorIndex/bulkDeleteAuthor",yr=(0,H.A)(pr),Mr=(0,H.A)(gr),Ir=(0,H.A)(Er),kr=(0,H.A)(fr),Or=(0,H.A)(Cr),wr=(0,H.A)(vr),Tr=(0,H.A)(Sr),Nr=Q(br),Dr=Q(Pr),Ar=W({[br]:function(e,t,n){n(ce({section:ur,isSaving:!0}));const s=J({url:"/author/editor",method:"PUT",data:JSON.stringify(t),dataType:"json"}).request;s.done((e=>{n((0,_.OJ)([...e.map((e=>ue({id:e.id,section:"authors",...e}))),ce({section:ur,isSaving:!1,saveError:null})]))})),s.fail((e=>{n(ce({section:ur,isSaving:!1,saveError:e}))}))},[Pr]:function(e,t,n){n(ce({section:ur,isDeleting:!0}));const s=J({url:"/author/editor",method:"DELETE",data:JSON.stringify(t),dataType:"json"}).request;s.done((()=>{n(ce({section:ur,isDeleting:!1,deleteError:null}))})),s.fail((e=>{n(ce({section:ur,isDeleting:!1,deleteError:e}))}))}}),Fr=fe({[pr]:qo(ur),[gr]:dr(ur),[Er]:function(e,{payload:t}){return Object.assign({},e,{view:t.view})},[fr]:Go(ur),[Cr]:function(e,{payload:t}){const n=e.posterOptions;return{...e,posterOptions:{...n,...t}}},[vr]:function(e,{payload:t}){const n=e.bannerOptions;return{...e,bannerOptions:{...n,...t}}},[Sr]:function(e,{payload:t}){const n=e.overviewOptions;return{...e,overviewOptions:{...n,...t}}}},mr,ur),xr="fetch",Rr="firstPage",Br="previousPage",Lr="nextPage",jr="lastPage",_r="exactPage",zr="sort",Ur="filter",Hr="first",Vr="previous",qr="next",Qr="last",Wr="exact";function Gr(e,t=[],n=[]){if(!e)return[];let s=t.find((t=>t.key===e));return s||(s=n.find((t=>t.id===e))),s?s.filters:(console.error("Matching filter not found"),[])}const Kr=function(e,t,n){return function(s,o,a){const r=X(s(),e,!0),i=r.page||1;let l=0;switch(t){case Hr:l=1;break;case Vr:l=i-1;break;case qr:l=i+1;break;case Qr:l=r.totalPages;break;default:l=o.page}a(n({page:l}))}},$r=function(e,t,n,s,o){const a={},r=s[xr],i=function(e,t,n){return function(s,o,a){a(ce({section:e,isFetching:!0}));const r=X(s(),e,!0),i=o.page||r.page||1,l=Object.assign({page:i},U().pick(r,["pageSize","sortDirection","sortKey"]));n&&n(s,o,l);const{selectedFilterKey:c,filters:d,customFilters:u}=r;Gr(c,d,u).forEach((e=>{l[e.key]=e.value}));const m=J({url:t,data:l}).request;m.done((t=>{a((0,_.OJ)([me({section:e,data:t}),ce({section:e,isFetching:!1,isPopulated:!0,error:null})]))})),m.fail((t=>{a(ce({section:e,isFetching:!1,isPopulated:!1,error:t}))}))}}(e,t,o);return a[r]=i,s.hasOwnProperty(Rr)&&(a[s[Rr]]=Kr(e,Hr,n)),s.hasOwnProperty(Br)&&(a[s[Br]]=Kr(e,Vr,n)),s.hasOwnProperty(Lr)&&(a[s[Lr]]=Kr(e,qr,n)),s.hasOwnProperty(jr)&&(a[s[jr]]=Kr(e,Qr,n)),s.hasOwnProperty(_r)&&(a[s[_r]]=Kr(e,Wr,n)),s.hasOwnProperty(zr)&&(a[s[zr]]=function(e,t){return function(n,s,o){const a=X(n(),e,!0),r=s.sortKey||a.sortKey;let i=s.sortDirection;i||(i=s.sortKey===a.sortKey?a.sortDirection===vo?So:vo:a.sortDirection),o(ce({section:e,sortKey:r,sortDirection:i})),o(t())}}(e,n)),s.hasOwnProperty(Ur)&&(a[s[Ur]]=function(e,t){return function(n,s,o){o(ce({section:e,...s})),o(t({page:1}))}}(e,n)),a},Yr=function(e,t){return n=>{const s=Object.assign(X(n,e),t);return Z(n,e,s)}},Jr="blocklist",Xr={isFetching:!1,isPopulated:!1,pageSize:20,sortKey:"date",sortDirection:So,error:null,items:[],isRemoving:!1,columns:[{name:"authorMetadata.sortName",label:"Author Name",isSortable:!0,isVisible:!0},{name:"sourceTitle",label:"Source Title",isSortable:!0,isVisible:!0},{name:"quality",label:"Quality",isVisible:!0},{name:"customFormats",label:"Formats",isSortable:!1,isVisible:!0},{name:"date",label:"Date",isSortable:!0,isVisible:!0},{name:"indexer",label:"Indexer",isSortable:!0,isVisible:!1},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}]},Zr=["blocklist.pageSize","blocklist.sortKey","blocklist.sortDirection","blocklist.columns"],ei="blocklist/fetchBlocklist",ti="blocklist/gotoBlocklistFirstPage",ni="blocklist/gotoBlocklistPreviousPage",si="blocklist/gotoBlocklistNextPage",oi="blocklist/gotoBlocklistLastPage",ai="blocklist/gotoBlocklistPage",ri="blocklist/setBlocklistSort",ii="blocklist/setBlocklistTableOption",li="blocklist/removeBlocklistItem",ci="blocklist/removeBlocklistItems",di="blocklist/clearBlocklist",ui=Q(ei),mi=Q(ti),hi=Q(ni),pi=Q(si),gi=Q(oi),Ei=Q(ai),fi=Q(ri),Ci=(0,H.A)(ii),vi=Q(li),Si=Q(ci),bi=(0,H.A)(di),Pi=W({...$r(Jr,"/blocklist",ui,{[xr]:ei,[Rr]:ti,[Br]:ni,[Lr]:si,[jr]:oi,[_r]:ai,[zr]:ri}),[li]:jo(Jr,"/blocklist"),[ci]:function(e,t,n){const{ids:s}=t;n((0,_.OJ)([...s.map((e=>ue({section:Jr,id:e,isRemoving:!0}))),ce({section:Jr,isRemoving:!0})]));const o=J({url:"/blocklist/bulk",method:"DELETE",dataType:"json",contentType:"application/json",data:JSON.stringify({ids:s})}).request;o.done((e=>{n(ui()),n(ce({section:Jr,isRemoving:!1}))})),o.fail((e=>{n((0,_.OJ)([...s.map((e=>ue({section:Jr,id:e,isRemoving:!1}))),ce({section:Jr,isRemoving:!1})]))}))}}),yi=fe({[ii]:Go(Jr),[di]:Yr(Jr,{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0})},Xr,Jr),Mi="bookFiles",Ii={isFetching:!1,isPopulated:!1,sortKey:"path",sortDirection:vo,error:null,isDeleting:!1,deleteError:null,isSaving:!1,saveError:null,items:[],sortPredicates:{quality:function(e,t){return e.quality?e.qualityWeight:0}},columns:[{name:"select",columnLabel:"Select",isSortable:!1,isVisible:!0,isModifiable:!1,isHidden:!0},{name:"path",label:"Path",isSortable:!0,isVisible:!0,isModifiable:!1},{name:"size",label:"Size",isSortable:!0,isVisible:!0},{name:"dateAdded",label:"Date Added",isSortable:!0,isVisible:!0},{name:"quality",label:"Quality",isSortable:!0,isVisible:!0},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}]},ki=["bookFiles.sortKey","bookFiles.sortDirection"],Oi="bookFiles/fetchBookFiles",wi="bookFiles/deleteBookFile",Ti="bookFiles/deleteBookFiles",Ni="bookFiles/updateBookFiles",Di="bookFiles/setBookFilesSort",Ai="bookFiles/setBookFilesTableOption",Fi="bookFiles/clearBookFiles",xi=Q(Oi),Ri=Q(wi),Bi=Q(Ti),Li=Q(Ni),ji=(0,H.A)(Di),_i=(0,H.A)(Ai),zi=(0,H.A)(Fi),Ui=jo(Mi,"/bookFile"),Hi=W({[Oi]:Pa(Mi,"/bookFile"),[wi]:function(e,t,n){const{id:s,bookEntity:o=No.BOOKS}=t,a=U().last(o.split("."));Ui(e,t,n).done((()=>{const t=e().books.items,o=U().filter(t,{bookFileId:s});n((0,_.OJ)([...o.map((e=>ue({section:a,...e,bookFileId:0,hasFile:!1})))]))}))},[Ti]:function(e,t,n){const{bookFileIds:s}=t;n(ce({section:Mi,isDeleting:!0}));const o=J({url:"/bookFile/bulk",method:"DELETE",dataType:"json",data:JSON.stringify({bookFileIds:s})}).request;o.done((()=>{const t=e().books.items,o=s.reduce(((e,n)=>(e.push(...U().filter(t,{bookFileId:n})),e)),[]);n((0,_.OJ)([...s.map((e=>pe({section:Mi,id:e}))),...o.map((e=>ue({section:"books",...e,bookFileId:0,hasFile:!1}))),ce({section:Mi,isDeleting:!1,deleteError:null})]))})),o.fail((e=>{n(ce({section:Mi,isDeleting:!1,deleteError:e}))}))},[Ni]:function(e,t,n){const{bookFileIds:s,quality:o}=t;n(ce({section:Mi,isSaving:!0}));const a={bookFileIds:s};o&&(a.quality=o);const r=J({url:"/bookFile/editor",method:"PUT",dataType:"json",data:JSON.stringify(a)}).request;r.done((e=>{n((0,_.OJ)([...s.map((t=>{const n={},s=e.find((e=>e.id===t));return n.qualityCutoffNotMet=s.qualityCutoffNotMet,o&&(n.quality=o),ue({section:Mi,id:t,...n})})),ce({section:Mi,isSaving:!1,saveError:null})]))})),r.fail((e=>{n(ce({section:Mi,isSaving:!1,saveError:e}))}))}}),Vi=fe({[Di]:qo(Mi),[Ai]:Go(Mi),[Fi]:Yr(Mi,{isFetching:!1,isPopulated:!1,error:null,items:[]})},Ii,Mi),qi="bookHistory",Qi={isFetching:!1,isPopulated:!1,error:null,items:[]},Wi="bookHistory/fetchBookHistory",Gi="bookHistory/clearBookHistory",Ki="bookHistory/bookHistoryMarkAsFailed",$i=Q(Wi),Yi=(0,H.A)(Gi),Ji=Q(Ki),Xi=W({[Wi]:function(e,t,n){n(ce({section:qi,isFetching:!0}));const s=J({url:"/history",data:{pageSize:1e3,page:1,sortKey:"date",sortDirection:So,bookId:t.bookId}}).request;s.done((e=>{n((0,_.OJ)([de({section:qi,data:e.records}),ce({section:qi,isFetching:!1,isPopulated:!0,error:null})]))})),s.fail((e=>{n(ce({section:qi,isFetching:!1,isPopulated:!1,error:e}))}))},[Ki]:function(e,t,n){const{historyId:s,bookId:o}=t;J({url:`/history/failed/${s}`,method:"POST"}).request.done((()=>{n($i({bookId:o}))}))}}),Zi=fe({[Gi]:e=>Object.assign({},e,Qi)},Qi,qi),el="bookIndex",tl={isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,sortKey:"title",sortDirection:vo,secondarySortKey:"title",secondarySortDirection:vo,view:"posters",posterOptions:{detailedProgressBar:!1,size:"large",showTitle:!0,showAuthor:!0,showMonitored:!0,showQualityProfile:!0,showSearchAction:!1},overviewOptions:{detailedProgressBar:!1,size:"medium",showReleaseDate:!0,showMonitored:!0,showQualityProfile:!0,showAdded:!1,showPath:!1,showSizeOnDisk:!1,showSearchAction:!1},tableOptions:{showSearchAction:!1},columns:[{name:"select",columnLabel:"Select",isSortable:!1,isVisible:!0,isModifiable:!1,isHidden:!0},{name:"status",columnLabel:"Status",isSortable:!0,isVisible:!0,isModifiable:!1},{name:"title",label:"Book",isSortable:!0,isVisible:!0,isModifiable:!1},{name:"authorName",label:"Author",isSortable:!0,isVisible:!0,isModifiable:!0},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!1},{name:"qualityProfileId",label:"Quality Profile",isSortable:!0,isVisible:!0},{name:"added",label:"Added",isSortable:!0,isVisible:!1},{name:"bookFileCount",label:"File Count",isSortable:!0,isVisible:!0},{name:"path",label:"Path",isSortable:!0,isVisible:!1},{name:"sizeOnDisk",label:"Size on Disk",isSortable:!0,isVisible:!1},{name:"genres",label:"Genres",isSortable:!1,isVisible:!1},{name:"ratings",label:"Rating",isSortable:!0,isVisible:!1},{name:"tags",label:"Tags",isSortable:!1,isVisible:!1},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}],sortPredicates:{...Jo,authorName:function(e){return e.author.sortName},bookFileCount:function(e){const{statistics:t={}}=e;return t.bookFileCount||0},ratings:function(e){const{ratings:t={}}=e;return t.value}},selectedFilterKey:"all",filters:$o,filterPredicates:{...Yo,author:function(e,t,n){return(0,It[n])(e.author.authorName,t)},anyEditionOk:function(e,t,n){return(0,It[n])(e.anyEditionOk,t)}},filterBuilderProps:[{name:"author",label:"Author",type:ht},{name:"title",label:"Title",type:ht},{name:"monitored",label:"Monitored",type:ut,valueType:gt},{name:"anyEditionOk",label:"Automatic Release Switching",type:ut,valueType:gt},{name:"qualityProfileId",label:"Quality Profile",type:ut,valueType:Pt},{name:"releaseDate",label:"Release Date",type:dt,valueType:ft},{name:"added",label:"Added",type:dt,valueType:ft},{name:"bookFileCount",label:"File Count",type:mt},{name:"path",label:"Path",type:ht},{name:"sizeOnDisk",label:"Size on Disk",type:mt,valueType:Et},{name:"genres",label:"Genres",type:ct,optionsSelector:function(e){return e.reduce(((e,t)=>(t.genres.forEach((t=>{e.push({id:t,name:t})})),e)),[]).sort(cr)}},{name:"ratings",label:"Rating",type:mt},{name:"tags",label:"Tags",type:ct,valueType:Mt}]},nl=["bookIndex.sortKey","bookIndex.sortDirection","bookIndex.selectedFilterKey","bookIndex.customFilters","bookIndex.view","bookIndex.columns","bookIndex.posterOptions","bookIndex.bannerOptions","bookIndex.overviewOptions","bookIndex.tableOptions"],sl="bookIndex/setBookSort",ol="bookIndex/setBookFilter",al="bookIndex/setBookView",rl="bookIndex/setBookTableOption",il="bookIndex/setBookPosterOption",ll="bookIndex/setBookBannerOption",cl="bookIndex/setBookOverviewOption",dl="bookEditor/saveBookEditor",ul="bookEditor/bulkDeleteBook",ml=(0,H.A)(sl),hl=(0,H.A)(ol),pl=(0,H.A)(al),gl=(0,H.A)(rl),El=(0,H.A)(il),fl=(0,H.A)(ll),Cl=(0,H.A)(cl),vl=Q(dl),Sl=Q(ul),bl=W({[dl]:function(e,t,n){n(ce({section:el,isSaving:!0}));const s=J({url:"/book/editor",method:"PUT",data:JSON.stringify(t),dataType:"json"}).request;s.done((e=>{n((0,_.OJ)([...e.map((e=>ue({id:e.id,section:"books",...e}))),ce({section:el,isSaving:!1,saveError:null})]))})),s.fail((e=>{n(ce({section:el,isSaving:!1,saveError:e}))}))},[ul]:function(e,t,n){n(ce({section:el,isDeleting:!0}));const s=J({url:"/book/editor",method:"DELETE",data:JSON.stringify(t),dataType:"json"}).request;s.done((()=>{n(ce({section:el,isDeleting:!1,deleteError:null}))})),s.fail((e=>{n(ce({section:el,isDeleting:!1,deleteError:e}))}))}}),Pl=fe({[sl]:qo(el),[ol]:dr(el),[al]:function(e,{payload:t}){return Object.assign({},e,{view:t.view})},[rl]:Go(el),[il]:function(e,{payload:t}){const n=e.posterOptions;return{...e,posterOptions:{...n,...t}}},[ll]:function(e,{payload:t}){const n=e.bannerOptions;return{...e,bannerOptions:{...n,...t}}},[cl]:function(e,{payload:t}){const n=e.overviewOptions;return{...e,overviewOptions:{...n,...t}}}},tl,el),yl="bookshelf",Ml={isSaving:!1,saveError:null,sortKey:"sortName",sortDirection:vo,secondarySortKey:"sortName",secondarySortDirection:vo,selectedFilterKey:"all",filters:Ma,filterPredicates:Ia,filterBuilderProps:[{name:"monitored",label:"Monitored",type:ut,valueType:gt},{name:"status",label:"Status",type:ut,valueType:yt},{name:"qualityProfileId",label:"Quality Profile",type:ut,valueType:Pt},{name:"metadataProfileId",label:"Metadata Profile",type:ut,valueType:vt},{name:"rootFolderPath",label:"Root Folder Path",type:ut},{name:"tags",label:"Tags",type:ct,valueType:Mt}]},Il=["bookshelf.sortKey","bookshelf.sortDirection","bookshelf.selectedFilterKey","bookshelf.customFilters"],kl="bookshelf/setBookshelfSort",Ol="bookshelf/setBookshelfFilter",wl="bookshelf/saveBookshelf",Tl=(0,H.A)(kl),Nl=(0,H.A)(Ol),Dl=Q(wl),Al=W({[wl]:function(e,t,n){const{authorIds:s,monitored:o,monitor:a,monitorNewItems:r}=t,i=[];s.forEach((e=>{const n={id:e};t.hasOwnProperty("monitored")&&(n.monitored=o),i.push(n)})),n(ce({section:yl,isSaving:!0}));const l=J({url:"/bookshelf",method:"POST",data:JSON.stringify({authors:i,monitoringOptions:{monitor:a},monitorNewItems:r}),dataType:"json"}).request;l.done((e=>{n(ce({section:yl,isSaving:!1,saveError:null}))})),l.fail((e=>{n(ce({section:yl,isSaving:!1,saveError:e}))}))}}),Fl=fe({[kl]:qo(yl),[Ol]:dr(yl)},Ml,yl),xl="day",Rl="week",Bl="month",Ll="forecast",jl="agenda",_l="ApplicationUpdate",zl="Backup",Ul="RefreshMonitoredDownloads",Hl="ClearBlocklist",Vl="ClearLog",ql="CutoffUnmetBookSearch",Ql="DeleteLogFiles",Wl="DeleteUpdateLogFiles",Gl="BookSearch",Kl="MissingBookSearch",$l="RefreshAuthor",Yl="BulkRefreshAuthor",Jl="RefreshBook",Xl="BulkRefreshBook",Zl="RenameFiles",ec="RenameAuthor",tc="RescanFolders",nc="RetagAuthor",sc="ResetApiKey",oc="ResetQualityDefinitions",ac="RssSync",rc="AuthorSearch",ic=function(e,t){if(e.name.toLocaleLowerCase()!==t.name.toLocaleLowerCase())return!1;for(const n in t)if("name"!==n){const s=t[n];if(Array.isArray(s)){if(U().difference(s,e[n]).length>0)return!1}else if(s!==e[n])return!1}return!0},lc=function(e,t){return U().findLast(e,(e=>ic(e.body,t)))},cc=function(e){return!!e&&("queued"===e.status||"started"===e.status)},dc="commands";let uc=null,mc=null;const hc={},pc={},gc={isFetching:!1,isPopulated:!1,error:null,items:[],handlers:{}},Ec="commands/fetchCommands",fc="commands/executeCommand",Cc="commands/cancelCommand",vc="commands/addCommand",Sc="commands/updateCommand",bc="commands/finishCommand",Pc="commands/removeCommand",yc=Q(Ec),Mc=Q(fc),Ic=Q(Cc),kc=Q(vc),Oc=Q(Sc),wc=Q(bc),Tc=Q(Pc);function Nc(e,t){const{id:n,name:s,trigger:o,message:a,body:r={},status:i}=e,{sendUpdatesToClient:l,suppressMessages:c}=r;if(!a||!r||!l||c)return;let d="info",u=0;"completed"===i?(d="success",u=4):"failed"===i&&(d="error",u="manual"===o?10:4),t(Be({id:n,name:s,message:a,type:d,hideAfter:u}))}function Dc(e,t){const{id:n,status:s}=e;if("queued"===s)return;const o=hc[n];o&&clearTimeout(o),hc[n]=setTimeout((()=>{t((0,_.OJ)([Tc({section:"commands",id:n}),Le({id:n})])),delete hc[n]}),3e5)}function Ac(e,t){uc&&ic(uc,e)&&console.warn("Please wait at least 5 seconds before running this command again"),uc=e,mc&&clearTimeout(mc),mc=setTimeout((()=>{uc=null}),5e3);const{commandFinished:n,...s}=e;return J({url:"/command",method:"POST",data:JSON.stringify(s),dataType:"json"}).request.then((e=>{n&&(pc[e.id]=n),t(kc(e))}))}const Fc=W({[Ec]:Pa("commands","/command"),[fc]:function(e,t,n){Ac(t,n)},[Cc]:jo(dc,"/command"),[vc]:function(e,t,n){n(ue({section:"commands",...t}))},[Sc]:function(e,t,n){n(ue({section:"commands",...t})),Nc(t,n),Dc(t,n)},[bc]:function(e,t,n){const s=e().commands.handlers;Object.keys(s).forEach((e=>{const o=s[e];o.name===t.name&&n(o.handler(t))}));const o=pc[t.id];o&&o(t),delete pc[t.id],n(ue({section:"commands",...t})),Dc(t,n),Nc(t,n)},[Pc]:function(e,t,n){n(pe({section:"commands",...t}))}}),xc=fe({},gc,dc),Rc="calendar",Bc={[xl]:"day",[Rl]:"week",[Bl]:"month",[Ll]:"day"},Lc={isFetching:!1,isPopulated:!1,start:null,end:null,dates:[],dayCount:7,view:window.innerWidth>768?"week":"day",showUpcoming:!0,error:null,items:[],searchMissingCommandId:null,options:{collapseMultipleBooks:!1,showCutoffUnmetIcon:!1},selectedFilterKey:"monitored",filters:[{key:"all",label:"All",filters:[{key:"monitored",value:!1,type:Ke}]},{key:"monitored",label:"Monitored Only",filters:[{key:"monitored",value:!0,type:Ke}]}]},jc=["calendar.view","calendar.selectedFilterKey","calendar.options"],_c="calendar/fetchCalendar",zc="calendar/setCalendarDaysCount",Uc="calendar/setCalendarFilter",Hc="calendar/setCalendarView",Vc="calendar/gotoCalendarToday",qc="calendar/gotoCalendarNextRange",Qc="calendar/clearCalendar",Wc="calendar/setCalendarOption",Gc="calendar/searchMissing",Kc="calendar/gotoCalendarPreviousRange";function $c(e,t){const n=ko()(e),s=ko()(t).diff(n,"days");return U().times(s+1,(e=>n.clone().add(e,"days").toISOString()))}function Yc(e,t,n){switch(n){case xl:return{start:ko()(e).subtract(1,"day").toISOString(),end:ko()(t).add(1,"day").toISOString()};case Rl:case Ll:return{start:ko()(e).subtract(1,"week").toISOString(),end:ko()(t).add(1,"week").toISOString()};default:return{start:e,end:t}}}const Jc=Q(_c),Xc=Q(zc),Zc=Q(Uc),ed=Q(Hc),td=Q(Vc),nd=Q(Kc),sd=Q(qc),od=(0,H.A)(Qc),ad=(0,H.A)(Wc),rd=Q(Gc),id=W({[_c]:function(e,t,n){const s=e(),o=s.calendar,a="all"===o.selectedFilterKey,{time:r=o.time,view:i=o.view}=t,l=s.calendar.dayCount,c=function(e,t,n,s){const o=0===n?"week":"isoWeek";let a=e.clone().startOf("day"),r=e.clone().endOf("day");return t===Rl&&(a=e.clone().startOf(o),r=e.clone().endOf(o)),t===Ll&&(a=e.clone().subtract(1,"day").startOf("day"),r=e.clone().add(s-2,"days").endOf("day")),t===Bl&&(a=e.clone().startOf("month").startOf(o),r=e.clone().endOf("month").endOf(o)),t===jl&&(a=e.clone().subtract(1,"day").startOf("day"),r=e.clone().add(1,"month").endOf("day")),{start:a.toISOString(),end:r.toISOString(),time:e.toISOString(),dates:$c(a,r)}}(ko()(r),i,s.settings.ui.item.firstDayOfWeek,l),{start:d,end:u}=Yc(c.start,c.end,i),m=function(e,t,n){const{start:s,end:o,view:a}=n;if(!s||!o)return!1;const{start:r,end:i}=Yc(s,o,a);return!(!ko()(e).isAfter(r)||!ko()(e).isBefore(i))}(d,0,s.calendar),h={section:Rc,isFetching:!0},p=m?{view:i,...h,...c}:h;n(ce(p));const g=J({url:"/calendar",data:{unmonitored:a,start:d,end:u}}).request;g.done((e=>{n((0,_.OJ)([de({section:Rc,data:e}),ce({section:Rc,view:i,...c,isFetching:!1,isPopulated:!0,error:null})]))})),g.fail((e=>{n(ce({section:Rc,isFetching:!1,isPopulated:!1,error:e}))}))},[zc]:function(e,t,n){if(t.dayCount===e().calendar.dayCount)return;n(ce({section:Rc,dayCount:t.dayCount}));const s=e(),{time:o,view:a}=s.calendar;n(Jc({time:o,view:a}))},[Uc]:function(e,t,n){n(ce({section:Rc,selectedFilterKey:t.selectedFilterKey}));const s=e(),{time:o,view:a}=s.calendar;n(Jc({time:o,view:a}))},[Hc]:function(e,t,n){const s=e(),o=t.view,a=o===Ll||jl?ko()():s.calendar.time;n(Jc({time:a,view:o}))},[Vc]:function(e,t,n){const s=e().calendar.view,o=ko()();n(Jc({time:o,view:s}))},[Kc]:function(e,t,n){const s=e(),{view:o,dayCount:a}=s.calendar,r=o===Ll?a:1,i=ko()(s.calendar.time).subtract(r,Bc[o]);n(Jc({time:i,view:o}))},[qc]:function(e,t,n){const s=e(),{view:o,dayCount:a}=s.calendar,r=o===Ll?a:1,i=ko()(s.calendar.time).add(r,Bc[o]);n(Jc({time:i,view:o}))},[Gc]:function(e,t,n){const{bookIds:s}=t;Ac({name:Gl,bookIds:s},n).then((e=>{n(ce({section:Rc,searchMissingCommandId:e.id}))}))}}),ld=fe({[Qc]:Yr(Rc,{isFetching:!1,isPopulated:!1,error:null,items:[]}),[Wc]:function(e,{payload:t}){const n=e.options;return{...e,options:{...n,...t}}}},Lc,Rc);function cd(e){return U().reduce(Object.keys(e),((t,n)=>{const s=e[n];return t[n]="fields"===n?s:s.value,t}),{})}const dd=function(e){const{provider:t,action:n,providerData:s,queryParams:o}=e,a={url:`/${t}/action/${n}`,contentType:"application/json",method:"POST",data:JSON.stringify(cd(s))};return o&&(a.url+=`?${K().param(o,!0)}`),J(a).request},ud="captcha",md={refreshing:!1,token:null,siteKey:null,secretToken:null,ray:null,stoken:null,responseUrl:null},hd="captcha/refreshCaptcha",pd="captcha/getCaptchaCookie",gd="captcha/setCaptchaValue",Ed="captcha/resetCaptcha",fd=Q(hd),Cd=Q(pd),vd=(0,H.A)(gd),Sd=(0,H.A)(Ed),bd=W({[hd]:function(e,t,n){const s={action:"checkCaptcha",...t};n(vd({refreshing:!0}));const o=dd(s);o.done((e=>{e.captchaRequest||n(vd({refreshing:!1})),n(vd({refreshing:!1,...e.captchaRequest}))})),o.fail((()=>{n(vd({refreshing:!1}))}))},[pd]:function(e,t,n){const s=e().captcha,o={action:"getCaptchaCookie",queryParams:{responseUrl:s.responseUrl,ray:s.ray,captchaResponse:t.captchaResponse},...t};dd(o).done((e=>{n(vd({token:e.captchaToken}))}))}}),Pd=fe({[gd]:function(e,{payload:t}){const n=Object.assign(X(e,ud),t);return Z(e,ud,n)},[Ed]:function(e){return Z(e,ud,md)}},md),yd="customFilters",Md={isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,items:[],pendingChanges:{}},Id="customFilters/fetchCustomFilters",kd="customFilters/saveCustomFilter",Od="customFilters/deleteCustomFilter",wd=Q(Id),Td=Q(kd),Nd=Q(Od),Dd=W({[Id]:Pa(yd,"/customFilter"),[kd]:Vo(yd,"/customFilter"),[Od]:jo(yd,"/customFilter")}),Ad=fe({},Md,yd),Fd="editions",xd={isFetching:!1,isPopulated:!1,error:null,items:[],itemMap:{}},Rd="editions/fetchEditions",Bd="editions/clearEditions",Ld="editions/saveEditions",jd=Q(Rd),_d=(0,H.A)(Bd),zd=Q(Ld),Ud=W({[Rd]:Pa(Fd,"/edition"),[Ld]:function(e,t,n){const{id:s,...o}=t,a=_o({id:s,...o},e,"books");n((0,_.OJ)([...a.editions.map((e=>ue({id:e.id,section:"editions",...e})))]))}}),Hd=fe({[Bd]:Yr(Fd,{isFetching:!1,isPopulated:!1,error:null,items:[],itemMap:{}})},xd,Fd),Vd="history",qd={isFetching:!1,isPopulated:!1,error:null,pageSize:20,sortKey:"date",sortDirection:So,items:[],columns:[{name:"eventType",columnLabel:"Event Type",isVisible:!0,isModifiable:!1},{name:"authorMetadata.sortName",label:"Author",isSortable:!0,isVisible:!0},{name:"books.title",label:"Book",isSortable:!0,isVisible:!0},{name:"quality",label:"Quality",isVisible:!0},{name:"customFormats",label:"Formats",isSortable:!1,isVisible:!0},{name:"date",label:"Date",isSortable:!0,isVisible:!0},{name:"downloadClient",label:"Download Client",isVisible:!1},{name:"indexer",label:"Indexer",isVisible:!1},{name:"releaseGroup",label:"Release Group",isVisible:!1},{name:"sourceTitle",label:"Source Title",isVisible:!1},{name:"customFormatScore",columnLabel:"Custom Format Score",label:R.createElement(Lo,{name:ss,title:"Custom format score"}),isVisible:!1},{name:"details",columnLabel:"Details",isVisible:!0,isModifiable:!1}],selectedFilterKey:"all",filters:[{key:"all",label:"All",filters:[]},{key:"grabbed",label:"Grabbed",filters:[{key:"eventType",value:"1",type:Ke}]},{key:"bookFileImported",label:"Book Imported",filters:[{key:"eventType",value:"3",type:Ke}]},{key:"failed",label:"Download Failed",filters:[{key:"eventType",value:"4",type:Ke}]},{key:"importFailed",label:"Import Failed",filters:[{key:"eventType",value:"7",type:Ke}]},{key:"deleted",label:"Deleted",filters:[{key:"eventType",value:"5",type:Ke}]},{key:"renamed",label:"Renamed",filters:[{key:"eventType",value:"6",type:Ke}]},{key:"retagged",label:"Retagged",filters:[{key:"eventType",value:"9",type:Ke}]},{key:"ignored",label:"Ignored",filters:[{key:"eventType",value:"10",type:Ke}]}]},Qd=["history.pageSize","history.sortKey","history.sortDirection","history.selectedFilterKey","history.columns"],Wd="history/fetchHistory",Gd="history/gotoHistoryFirstPage",Kd="history/gotoHistoryPreviousPage",$d="history/gotoHistoryNextPage",Yd="history/gotoHistoryLastPage",Jd="history/gotoHistoryPage",Xd="history/setHistorySort",Zd="history/setHistoryFilter",eu="history/setHistoryTableOption",tu="history/clearHistory",nu="history/markAsFailed",su=Q(Wd),ou=Q(Gd),au=Q(Kd),ru=Q($d),iu=Q(Yd),lu=Q(Jd),cu=Q(Xd),du=Q(Zd),uu=(0,H.A)(eu),mu=(0,H.A)(tu),hu=Q(nu),pu=W({...$r(Vd,"/history",su,{[xr]:Wd,[Rr]:Gd,[Br]:Kd,[Lr]:$d,[jr]:Yd,[_r]:Jd,[zr]:Xd,[Ur]:Zd}),[nu]:function(e,t,n){const s=t.id;n(ue({section:Vd,id:s,isMarkingAsFailed:!0}));const o=J({url:`/history/failed/${s}`,method:"POST",dataType:"json"}).request;o.done((()=>{n(ue({section:Vd,id:s,isMarkingAsFailed:!1,markAsFailedError:null}))})),o.fail((e=>{n(ue({section:Vd,id:s,isMarkingAsFailed:!1,markAsFailedError:e}))}))}}),gu=fe({[eu]:Go(Vd),[tu]:Yr(Vd,{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0})},qd,Vd),Eu=/\d+/g,fu="interactiveImport",Cu=`${fu}.books`,vu=`${fu}.bookFiles`;let Su=null,bu=null,Pu=[];const yu={isFetching:!1,isPopulated:!1,isSaving:!1,error:null,items:[],pendingChanges:{},sortKey:"path",sortDirection:vo,secondarySortKey:"path",secondarySortDirection:vo,recentFolders:[],importMode:"chooseImportMode",sortPredicates:{path:function(e,t){const n=e.path;return(s=n.toLowerCase())?s.replace(Eu,(e=>e.padStart(8,"0"))):"";var s},author:function(e,t){const n=e.author;return n?n.sortName:""},quality:function(e,t){return e.qualityWeight||0}},books:{isFetching:!1,isPopulated:!1,error:null,sortKey:"title",sortDirection:vo,items:[]},bookFiles:{isFetching:!1,isPopulated:!1,error:null,sortKey:"relativePath",sortDirection:vo,items:[]}},Mu=["interactiveImport.sortKey","interactiveImport.sortDirection","interactiveImport.recentFolders","interactiveImport.importMode"],Iu="interactiveImport/fetchInteractiveImportItems",ku="interactiveImport/saveInteractiveImportItem",Ou="interactiveImport/setInteractiveImportSort",wu="interactiveImport/updateInteractiveImportItem",Tu="interactiveImport/updateInteractiveImportItems",Nu="interactiveImport/clearInteractiveImport",Du="interactiveImport/addRecentFolder",Au="interactiveImport/removeRecentFolder",Fu="interactiveImport/setInteractiveImportMode",xu="interactiveImport/fetchInteractiveImportBooks",Ru="interactiveImport/clearInteractiveImportBooksSort",Bu="interactiveImport/clearInteractiveImportBooks",Lu="interactiveImport/fetchInteractiveImportBookFiles",ju="interactiveImport/clearInteractiveImportBookFiles",_u=Q(Iu),zu=(0,H.A)(Ou),Uu=(0,H.A)(wu),Hu=(0,H.A)(Tu),Vu=Q(ku),qu=(0,H.A)(Nu),Qu=(0,H.A)(Du),Wu=(0,H.A)(Au),Gu=(0,H.A)(Fu),Ku=Q(xu),$u=(0,H.A)(Ru),Yu=(0,H.A)(Bu),Ju=Q(Lu),Xu=(0,H.A)(ju),Zu=W({[Iu]:function(e,t,n){if(Su&&(Su(),Su=null),!t.downloadId&&!t.folder)return void n(ce({section:fu,error:{message:"`downloadId` or `folder` is required."}}));n(ce({section:fu,isFetching:!0}));const{request:s,abortRequest:o}=J({url:"/manualimport",data:t});Su=o,s.done((e=>{n((0,_.OJ)([de({section:fu,data:e}),ce({section:fu,isFetching:!1,isPopulated:!0,error:null})]))})),s.fail((e=>{e.aborted||n(ce({section:fu,isFetching:!1,isPopulated:!1,error:e}))}))},[ku]:function(e,t,n){bu&&bu(),n((0,_.OJ)([...Pu.map((e=>ue({section:fu,id:e,isReprocessing:!1,updateOnly:!0}))),...t.ids.map((e=>ue({section:fu,id:e,isReprocessing:!0,updateOnly:!0})))]));const s=e()[fu].items,o=t.ids.map((e=>{const t=s.find((t=>t.id===e));return{id:e,path:t.path,authorId:t.author?t.author.id:void 0,bookId:t.book?t.book.id:void 0,foreignEditionId:t.foreignEditionId?t.ForeignEditionId:void 0,quality:t.quality,releaseGroup:t.releaseGroup,indexerFlags:t.indexerFlags,downloadId:t.downloadId,additionalFile:t.additionalFile,replaceExistingFiles:t.replaceExistingFiles,disableReleaseSwitching:t.disableReleaseSwitching}})),{request:a,abortRequest:r}=J({method:"POST",url:"/manualimport",contentType:"application/json",data:JSON.stringify(o)});bu=r,Pu=t.ids,a.done((e=>{n((0,_.OJ)(e.map((e=>ue({section:fu,...e,isReprocessing:!1,updateOnly:!0})))))})),a.fail((e=>{e.aborted||n((0,_.OJ)(t.ids.map((e=>ue({section:fu,id:e,isReprocessing:!1,updateOnly:!0})))))}))},[xu]:Pa(Cu,"/book"),[Lu]:Pa(vu,"/bookFile")}),em=fe({[wu]:(e,{payload:t})=>{const n=t.id,s=Object.assign({},e),o=s.items,a=o.findIndex((e=>e.id===n)),r=Object.assign({},o[a],t);return s.items=[...o],s.items.splice(a,1,r),s},[Tu]:(e,{payload:t})=>{const n=t.ids,s=Object.assign({},e),o=[...s.items];return n.forEach((e=>{const n=o.findIndex((t=>t.id===e)),s=Object.assign({},o[n],t);o.splice(n,1,s)})),s.items=o,s},[Du]:function(e,{payload:t}){const n=t.folder,s={folder:n,lastUsed:ko()().toISOString()},o=[...e.recentFolders],a=o.findIndex((e=>e.folder===n));a>-1&&o.splice(a,1),o.push(s);const r=Math.max(o.length-10,0);return Object.assign({},e,{recentFolders:o.slice(r)})},[Au]:function(e,{payload:t}){const n=t.folder,s=[...e.recentFolders],o=s.findIndex((e=>e.folder===n));return s.splice(o,1),Object.assign({},e,{recentFolders:s})},[Nu]:function(e){return{...yu,recentFolders:e.recentFolders,importMode:e.importMode}},[Ou]:qo(fu),[Fu]:function(e,{payload:t}){return Object.assign({},e,{importMode:t.importMode})},[Ru]:qo(Cu),[Bu]:e=>Z(e,Cu,{...yu.books}),[ju]:e=>Z(e,vu,{...yu.bookFiles})},yu,fu),tm="oAuth",nm=`${window.location.origin}${window.Researcharr.urlBase}/oauth.html`,sm={authorizing:!1,result:null,error:null},om="oAuth/startOAuth",am="oAuth/setOAuthValue",rm="oAuth/resetOAuth",im=Q(om),lm=(0,H.A)(am),cm=(0,H.A)(rm);function dm(e,t){const n=K().Deferred(),s=window,o=window.open(e);if(!o||o.closed||void 0===o.closed){const e={status:400,responseJSON:[{propertyName:t.name,errorMessage:"Pop-ups are being blocked by your browser"}]};return n.reject(e).promise()}return s.onCompleteOauth=function(e,t){delete s.onCompleteOauth;const o={};e.substring(1).split("&").forEach((e=>{if(e){const t=e.split("=");o[t[0]]=t[1]}})),t(),n.resolve(o)},n.promise()}const um=W({[om]:function(e,t,n){const{name:s,section:o,...a}=t,r={action:"startOAuth",queryParams:{callbackUrl:nm},...a};n(lm({authorizing:!0}));let i={};const l=dd(r).then((e=>(i=e,e.oauthUrl?dm(e.oauthUrl,t):function(e,t){return J(t).request.then((t=>dd({action:"continueOAuth",queryParams:{...t,callbackUrl:nm},...e})))}(a,e).then((e=>(i=e,dm(e.oauthUrl,t))))))).then((e=>dd({action:"getOAuthToken",queryParams:{...i,...e},...a}))).then((e=>{n(lm({authorizing:!1,result:e,error:null}))}));l.done((()=>{n(ce({section:o,saveError:null}))})),l.fail((e=>{const t=[lm({authorizing:!1,result:null,error:e})];400===e.status&&t.splice(0,0,ce({section:o,saveError:e})),n((0,_.OJ)(t))}))}}),mm=fe({[am]:function(e,{payload:t}){const n=Object.assign(X(e,tm),t);return Z(e,tm,n)},[rm]:function(e){return Z(e,tm,sm)}},sm,tm),hm="organizePreview",pm={isFetching:!1,isPopulated:!1,error:null,items:[]},gm="organizePreview/fetchOrganizePreview",Em="organizePreview/clearOrganizePreview",fm=Q(gm),Cm=(0,H.A)(Em),vm=W({[gm]:Pa("organizePreview","/rename")}),Sm=fe({[Em]:e=>Object.assign({},e,pm)},pm,hm),bm="paths",Pm={currentPath:"",isPopulated:!1,isFetching:!1,error:null,directories:[],files:[],parent:null},ym="paths/fetchPaths",Mm="paths/updatePaths",Im="paths/clearPaths",km=Q(ym),Om=(0,H.A)(Mm),wm=(0,H.A)(Im),Tm=W({[ym]:function(e,t,n){n(ce({section:bm,isFetching:!0}));const{path:s,allowFoldersWithoutTrailingSlashes:o=!1,includeFiles:a=!1}=t,r=J({url:"/filesystem",data:{path:s,allowFoldersWithoutTrailingSlashes:o,includeFiles:a}}).request;r.done((e=>{n(Om({path:s,...e})),n(ce({section:bm,isFetching:!1,isPopulated:!0,error:null}))})),r.fail((e=>{n(ce({section:bm,isFetching:!1,isPopulated:!1,error:e}))}))}}),Nm=fe({[Mm]:(e,{payload:t})=>{const n=Object.assign({},e);return n.currentPath=t.path,n.directories=t.directories,n.files=t.files,n.parent=t.parent,n},[Im]:(e,{payload:t})=>{const n=Object.assign({},e);return n.path="",n.directories=[],n.files=[],n.parent="",n}},Pm,bm),Dm="providerOptions",Am={};let Fm=0;const xm={items:[],isFetching:!1,isPopulated:!1,error:!1},Rm="providers/fetchOptions",Bm="providers/clearOptions",Lm=Q(Rm),jm=(0,H.A)(Bm),_m=W({[Rm]:function(e,t,n){const s=`${Dm}.${t.section}`;if(Am[t.section]&&U().isEqual(t,Am[t.section].payload))return;const o=++Fm;Am[t.section]={actionId:o,payload:t},n(ce({section:s,isFetching:!0}));const a=dd(t);a.done((e=>{Am[t.section]&&(Am[t.section].actionId===o&&(Am[t.section]=null),n(ce({section:s,isFetching:!1,isPopulated:!0,error:null,items:e.options||[]})))})),a.fail((e=>{Am[t.section]&&(Am[t.section].actionId===o&&(Am[t.section]=null),n(ce({section:s,isFetching:!1,isPopulated:!1,error:e})))}))}}),zm=fe({[Bm]:function(e,{payload:t}){const n=`${Dm}.${t.section}`;return Am[t.section]=null,Z(e,n,xm)}},{},Dm),Um="queue",Hm=`${Um}.status`,Vm=`${Um}.details`,qm=`${Um}.paged`,Qm={options:{includeUnknownAuthorItems:!0},status:{isFetching:!1,isPopulated:!1,error:null,item:{}},details:{isFetching:!1,isPopulated:!1,error:null,items:[],params:{}},paged:{isFetching:!1,isPopulated:!1,pageSize:20,sortKey:"timeleft",sortDirection:vo,error:null,items:[],isGrabbing:!1,isRemoving:!1,columns:[{name:"status",columnLabel:()=>te("Status"),isSortable:!0,isVisible:!0,isModifiable:!1},{name:"authorMetadata.sortName",label:()=>te("Author"),isSortable:!0,isVisible:!0},{name:"books.title",label:()=>te("BookTitle"),isSortable:!0,isVisible:!0},{name:"books.releaseDate",label:()=>te("ReleaseDate"),isSortable:!0,isVisible:!1},{name:"quality",label:()=>te("Quality"),isSortable:!0,isVisible:!0},{name:"customFormats",label:"Formats",isSortable:!1,isVisible:!0},{name:"customFormatScore",columnLabel:()=>te("CustomFormatScore"),label:R.createElement(Lo,{name:ss,title:()=>te("CustomFormatScore")}),isVisible:!1},{name:"protocol",label:()=>te("Protocol"),isSortable:!0,isVisible:!1},{name:"indexer",label:()=>te("Indexer"),isSortable:!0,isVisible:!1},{name:"downloadClient",label:()=>te("DownloadClient"),isSortable:!0,isVisible:!1},{name:"title",label:()=>te("ReleaseTitle"),isSortable:!0,isVisible:!1},{name:"size",label:()=>te("Size"),isSortable:!0,isVisible:!1},{name:"outputPath",label:()=>te("OutputPath"),isSortable:!1,isVisible:!1},{name:"estimatedCompletionTime",label:()=>te("TimeLeft"),isSortable:!0,isVisible:!0},{name:"progress",label:()=>te("Progress"),isSortable:!0,isVisible:!0},{name:"actions",columnLabel:()=>te("Actions"),isVisible:!0,isModifiable:!1}]}},Wm=["queue.options","queue.paged.pageSize","queue.paged.sortKey","queue.paged.sortDirection","queue.paged.columns"],Gm="queue/fetchQueueStatus",Km="queue/fetchQueueDetails",$m="queue/clearQueueDetails",Ym="queue/fetchQueue",Jm="queue/gotoQueueFirstPage",Xm="queue/gotoQueuePreviousPage",Zm="queue/gotoQueueNextPage",eh="queue/gotoQueueLastPage",th="queue/gotoQueuePage",nh="queue/setQueueSort",sh="queue/setQueueTableOption",oh="queue/setQueueOption",ah="queue/clearQueue",rh="queue/grabQueueItem",ih="queue/grabQueueItems",lh="queue/removeQueueItem",ch="queue/removeQueueItems",dh=Q(Gm),uh=Q(Km),mh=(0,H.A)($m),hh=Q(Ym),ph=Q(Jm),gh=Q(Xm),Eh=Q(Zm),fh=Q(eh),Ch=Q(th),vh=Q(nh),Sh=(0,H.A)(sh),bh=(0,H.A)(oh),Ph=(0,H.A)(ah),yh=Q(rh),Mh=Q(ih),Ih=Q(lh),kh=Q(ch),Oh=Pa(Vm,"/queue/details"),wh=W({[Gm]:Pa(Hm,"/queue/status"),[Km]:function(e,t,n){let s=t;s&&!U().isEmpty(s)?n(ce({section:Vm,params:s})):s=e().queue.details.params,s&&!U().isEmpty(s)&&Oh(e,s,n)},...$r(qm,"/queue",hh,{[xr]:Ym,[Rr]:Jm,[Br]:Xm,[Lr]:Zm,[jr]:eh,[_r]:th,[zr]:nh},(function(e,t,n){n.includeUnknownAuthorItems=e().queue.options.includeUnknownAuthorItems})),[rh]:function(e,t,n){const s=t.id;n(ue({section:qm,id:s,isGrabbing:!0}));const o=J({url:`/queue/grab/${s}`,method:"POST"}).request;o.done((e=>{n((0,_.OJ)([hh(),ce({section:qm,isGrabbing:!1,grabError:null})]))})),o.fail((e=>{n(ue({section:qm,id:s,isGrabbing:!1,grabError:e}))}))},[ih]:function(e,t,n){const s=t.ids;n((0,_.OJ)([...s.map((e=>ue({section:qm,id:e,isGrabbing:!0}))),ce({section:qm,isGrabbing:!0})]));const o=J({url:"/queue/grab/bulk",method:"POST",dataType:"json",data:JSON.stringify(t)}).request;o.done((e=>{n(hh()),n((0,_.OJ)([...s.map((e=>ue({section:qm,id:e,isGrabbing:!1,grabError:null}))),ce({section:qm,isGrabbing:!1,grabError:null})]))})),o.fail((e=>{n((0,_.OJ)([...s.map((e=>ue({section:qm,id:e,isGrabbing:!1,grabError:null}))),ce({section:qm,isGrabbing:!1})]))}))},[lh]:function(e,t,n){const{id:s,remove:o,blocklist:a,skipRedownload:r,changeCategory:i}=t;n(ue({section:qm,id:s,isRemoving:!0}));const l=J({url:`/queue/${s}?removeFromClient=${o}&blocklist=${a}&skipRedownload=${r}&changeCategory=${i}`,method:"DELETE"}).request;l.done((e=>{n(hh())})),l.fail((e=>{n(ue({section:qm,id:s,isRemoving:!1}))}))},[ch]:function(e,t,n){const{ids:s,remove:o,blocklist:a,skipRedownload:r,changeCategory:i}=t;n((0,_.OJ)([...s.map((e=>ue({section:qm,id:e,isRemoving:!0}))),ce({section:qm,isRemoving:!0})]));const l=J({url:`/queue/bulk?removeFromClient=${o}&blocklist=${a}&skipRedownload=${r}&changeCategory=${i}`,method:"DELETE",dataType:"json",data:JSON.stringify({ids:s})}).request;l.done((e=>{n(hh()),n(ce({section:qm,isRemoving:!1}))})),l.fail((e=>{n((0,_.OJ)([...s.map((e=>ue({section:qm,id:e,isRemoving:!1}))),ce({section:qm,isRemoving:!1})]))}))}}),Th=fe({[$m]:Yr(Vm,Qm.details),[sh]:Go(qm),[oh]:function(e,{payload:t}){const n=e.options;return{...e,options:{...n,...t}}},[ah]:Yr(qm,{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0})},Qm,Um),Nh="releases",Dh="releases.book",Ah="releases.author";let Fh=null;const xh={isFetching:!1,isPopulated:!1,error:null,items:[],sortKey:"releaseWeight",sortDirection:vo,sortPredicates:{age:function(e,t){return e.ageMinutes},peers:function(e,t){return 1e6*(e.seeders||0)+(e.leechers||0)},rejections:function(e,t){const n=e.rejections,s=e.releaseWeight;return 0!==n.length?s+1e6:s}},filters:[{key:"all",label:"All",filters:[]},{key:"discography-pack",label:"Discography",filters:[{key:"discography",value:!0,type:Ke}]},{key:"not-discography-pack",label:"Not Discography",filters:[{key:"discography",value:!1,type:Ke}]}],filterPredicates:{quality:function(e,t,n){const s=e.quality.quality.id;return n===Ke?s===t:n===ot&&s!==t},rejectionCount:function(e,t,n){const s=e.rejections.length;switch(n){case Ke:return s===t;case $e:return s>t;case Ye:return s>=t;case tt:return s<t;case nt:return s<=t;case ot:return s!==t;default:return!1}},peers:function(e,t,n){const s=(e.seeders||0)+(e.leechers||0);switch(n){case Ke:return s===t;case $e:return s>t;case Ye:return s>=t;case tt:return s<t;case nt:return s<=t;case ot:return s!==t;default:return!1}}},filterBuilderProps:[{name:"title",label:"Title",type:ht},{name:"age",label:"Age",type:mt},{name:"protocol",label:"Protocol",type:ut,valueType:St},{name:"indexerId",label:"Indexer",type:ut,valueType:Ct},{name:"size",label:"Size",type:mt,valueType:Et},{name:"seeders",label:"Seeders",type:mt},{name:"leechers",label:"Peers",type:mt},{name:"quality",label:"Quality",type:ut,valueType:bt},{name:"customFormatScore",label:()=>te("CustomFormatScore"),type:mt},{name:"rejectionCount",label:"Rejection Count",type:mt}],book:{selectedFilterKey:"all"},author:{selectedFilterKey:"all"}},Rh=["releases.selectedFilterKey","releases.book.customFilters","releases.author.customFilters"],Bh="releases/fetchReleases",Lh="releases/cancelFetchReleases",jh="releases/setReleasesSort",_h="releases/clearReleases",zh="releases/grabRelease",Uh="releases/updateRelease",Hh="releases/setBookReleasesFilter",Vh="releases/setAuthorReleasesFilter",qh=Q(Bh),Qh=Q(Lh),Wh=(0,H.A)(jh),Gh=(0,H.A)(_h),Kh=Q(zh),$h=(0,H.A)(Uh),Yh=(0,H.A)(Hh),Jh=(0,H.A)(Vh),Xh=Pa(Nh,"/release"),Zh=W({[Bh]:function(e,t,n){const s=Xh(e,t,n);Fh=s},[Lh]:function(e,t,n){Fh&&(Fh=Fh())},[zh]:function(e,t,n){const s=t.guid;n($h({guid:s,isGrabbing:!0}));const o=J({url:"/release",method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(t)}).request;o.done((e=>{n($h({guid:s,isGrabbing:!1,isGrabbed:!0,grabError:null}))})),o.fail((e=>{const t=e.responseJSON&&e.responseJSON.message||"Failed to add to download queue";n($h({guid:s,isGrabbing:!1,isGrabbed:!1,grabError:t}))}))}}),ep=fe({[_h]:e=>{const{book:t,author:n,...s}=xh;return Object.assign({},e,s)},[Uh]:(e,{payload:t})=>{const n=t.guid,s=Object.assign({},e),o=s.items;if(!o.length)return;const a=o.findIndex((e=>e.guid===n)),r=Object.assign({},o[a],t);return s.items=[...o],s.items.splice(a,1,r),s},[jh]:qo(Nh),[Hh]:dr(Dh),[Vh]:dr(Ah)},xh,Nh),tp="retagPreview",np={isFetching:!1,isPopulated:!1,error:null,items:[]},sp="retagPreview/fetchRetagPreview",op="retagPreview/clearRetagPreview",ap=Q(sp),rp=(0,H.A)(op),ip=W({[sp]:Pa("retagPreview","/retag")}),lp=fe({[op]:e=>Object.assign({},e,np)},np,tp),cp=function(e,t){const{rootFolderPath:n,monitor:s,monitorNewItems:o,qualityProfileId:a,metadataProfileId:r,tags:i,searchForMissingBooks:l=!1}=t,c={monitor:s,searchForMissingBooks:l};return e.addOptions=c,e.monitored=!0,e.monitorNewItems=o,e.qualityProfileId=a,e.metadataProfileId=r,e.rootFolderPath=n,e.tags=i,e},dp=[{key:"all",value:"All Books"},{key:"none",value:"None"},{key:"new",value:"New"}],up=[{key:"all",value:"All Books"},{key:"future",value:"Future Books"},{key:"missing",value:"Missing Books"},{key:"existing",value:"Existing Books"},{key:"first",value:"Only First Book"},{key:"latest",value:"Only Latest Book"},{key:"none",value:"None"}],mp="search";let hp=null;const pp={isFetching:!1,isPopulated:!1,error:null,isAdding:!1,isAdded:!1,addError:null,items:[],authorDefaults:{rootFolderPath:"",monitor:up[0].key,monitorNewItems:dp[0].key,qualityProfileId:0,metadataProfileId:0,tags:[]},bookDefaults:{rootFolderPath:"",monitor:up[0].key,monitorNewItems:dp[0].key,qualityProfileId:0,metadataProfileId:0,tags:[]}},gp=["search.bookDefaults","search.authorDefaults"],Ep="search/getSearchResults",fp="search/addAuthor",Cp="search/addBook",vp="search/clearSearchResults",Sp="search/setAuthorAddDefault",bp="search/setBookAddDefault",Pp=Q(Ep),yp=Q(fp),Mp=Q(Cp),Ip=(0,H.A)(vp),kp=(0,H.A)(Sp),Op=(0,H.A)(bp),wp=W({[Ep]:function(e,t,n){n(ce({section:mp,isFetching:!0})),hp&&hp();const{request:s,abortRequest:o}=J({url:"/search",data:{term:t.term}});hp=o,s.done((e=>{n((0,_.OJ)([de({section:mp,data:e}),ce({section:mp,isFetching:!1,isPopulated:!0,error:null})]))})),s.fail((e=>{n(ce({section:mp,isFetching:!1,isPopulated:!1,error:e.aborted?null:e}))}))},[fp]:function(e,t,n){n(ce({section:mp,isAdding:!0}));const s=t.foreignAuthorId,o=e().search.items,a=U().find(o,{foreignId:s}),r=cp(U().cloneDeep(a.author),t),i=J({url:"/author",method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(r)}).request;i.done((e=>{n((0,_.OJ)([ue({section:"authors",...e}),ce({section:mp,isAdding:!1,isAdded:!0,addError:null})]))})),i.fail((e=>{n(ce({section:mp,isAdding:!1,isAdded:!1,addError:e}))}))},[Cp]:function(e,t,n){n(ce({section:mp,isAdding:!0}));const s=t.foreignBookId,o=e().search.items,a=U().find(o,{foreignId:s}),r=function(e,t){const{searchForNewBook:n=!1}=t;return"id"in e.author&&0!==e.author.id||(cp(e.author,t),"specificBook"===t.monitor&&(delete e.author.addOptions.monitor,e.author.addOptions.booksToMonitor=[e.foreignBookId])),e.addOptions={searchForNewBook:n},e.monitored=!0,e}(U().cloneDeep(a.book),t),i=J({url:"/book",method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(r)}).request;i.done((e=>{a.book=e,n((0,_.OJ)([ue({section:"authors",...e.author}),ue({section:"books",...e}),ue({section:mp,...a}),ce({section:mp,isAdding:!1,isAdded:!0,addError:null})]))})),i.fail((e=>{n(ce({section:mp,isAdding:!1,isAdded:!1,addError:e}))}))}}),Tp=fe({[Sp]:function(e,{payload:t}){const n=X(e,mp);return n.authorDefaults={...n.authorDefaults,...t},Z(e,mp,n)},[bp]:function(e,{payload:t}){const n=X(e,mp);return n.bookDefaults={...n.bookDefaults,...t},Z(e,mp,n)},[vp]:function(e){const{authorDefaults:t,bookDefaults:n,...s}=pp;return Object.assign({},e,s)}},pp,mp),Np="series",Dp={isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,sortKey:"position",sortDirection:vo,items:[],columns:[{name:"monitored",columnLabel:"Monitored",isVisible:!0,isModifiable:!1},{name:"title",label:"Title",isSortable:!0,isVisible:!0},{name:"series",label:"Series",isSortable:!0,isVisible:!1},{name:"position",label:"Number",isSortable:!0,isVisible:!0},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!0},{name:"pageCount",label:"Pages",isSortable:!0,isVisible:!0},{name:"rating",label:"Rating",isSortable:!0,isVisible:!0},{name:"status",label:"Status",isVisible:!0},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}]},Ap="series/fetchSeries",Fp="books/setSeriesSort",xp="books/setSeriesTableOption",Rp="series/clearSeries",Bp="books/setBookValue",Lp=Q(Ap),jp=(0,H.A)(Fp),_p=(0,H.A)(xp),zp=(0,H.A)(Rp),Up=W({[Ap]:Pa(Np,"/series")}),Hp=fe({[Fp]:qo(Np),[xp]:Go(Np),[Bp]:Qo(Np),[Rp]:e=>Object.assign({},e,{isFetching:!1,isPopulated:!1,error:null,items:[]})},Dp,Np),Vp="settings.customFormats",qp="settings/customFormats/fetchCustomFormats",Qp="settings/customFormats/saveCustomFormat",Wp="settings/customFormats/deleteCustomFormat",Gp="settings/customFormats/setCustomFormatValue",Kp="settings/customFormats/cloneCustomFormat",$p=Q(qp),Yp=Q(Qp),Jp=Q(Wp),Xp=(0,H.A)(Gp,(e=>({section:Vp,...e}))),Zp=(0,H.A)(Kp),eg={defaultState:{isSchemaFetching:!1,isSchemaPopulated:!1,isFetching:!1,isPopulated:!1,schema:{includeCustomFormatWhenRenaming:!1},error:null,isDeleting:!1,deleteError:null,isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[qp]:Pa(Vp,"/customformat"),[Wp]:jo(Vp,"/customformat"),[Qp]:(e,t,n)=>{const s=e(),o=s.settings.customFormats.pendingChanges;o.specifications=s.settings.customFormatSpecifications.items,n(ce({section:Vp,pendingChanges:o})),Vo(Vp,"/customformat")(e,t,n)}},reducers:{[Gp]:Qo(Vp),[Kp]:function(e,{payload:t}){const n=t.id,s=X(e,Vp),o=s.items.find((e=>e.id===n)),a={...o,id:0};return delete a.id,a.name=`${a.name} - Copy`,s.pendingChanges=a,Z(e,Vp,s)}}},tg=function(e,t){return function(n,s,o){o(ce({section:e,isSchemaFetching:!0}));const a=J({url:t}).request;a.done((t=>{o(ce({section:e,isSchemaFetching:!1,isSchemaPopulated:!0,schemaError:null,schema:t}))})),a.fail((t=>{o(ce({section:e,isSchemaFetching:!1,isSchemaPopulated:!0,schemaError:t}))}))}},ng=function(e){return(t,{payload:n})=>{if(e===n.section){const{name:s,value:o}=n,a=X(t,e);a.pendingChanges=Object.assign({},a.pendingChanges);const r=Object.assign({},a.pendingChanges.fields||{});return r[s]=o,a.pendingChanges.fields=r,Z(t,e,a)}return t}},sg=function(e){return e.reduce(((e,t)=>Math.max(e,t.id)),1)+1},og=function(e,t,n,s){const o=X(e,t),{implementation:a,presetName:r}=n,i=U().find(o.schema,{implementation:a}),l=r?U().find(i.presets,{name:r}):i;return o.selectedSchema=function(e,t){return t?U().isFunction(t)?t(e):Object.assign(e,t):e}(U().cloneDeep(l),s),Z(e,t,o)},ag="settings.customFormatSpecifications",rg="settings/customFormatSpecifications/fetchCustomFormatSpecifications",ig="settings/customFormatSpecifications/fetchCustomFormatSpecificationSchema",lg="settings/customFormatSpecifications/selectCustomFormatSpecificationSchema",cg="settings/customFormatSpecifications/setCustomFormatSpecificationValue",dg="settings/customFormatSpecifications/setCustomFormatSpecificationFieldValue",ug="settings/customFormatSpecifications/saveCustomFormatSpecification",mg="settings/customFormatSpecifications/deleteCustomFormatSpecification",hg="settings/customFormatSpecifications/deleteAllCustomFormatSpecification",pg="settings/customFormatSpecifications/cloneCustomFormatSpecification",gg="settings/customFormatSpecifications/clearCustomFormatSpecifications",Eg="settings/customFormatSpecifications/clearCustomFormatSpecificationPending",fg=Q(rg),Cg=Q(ig),vg=(0,H.A)(lg),Sg=Q(ug),bg=Q(mg),Pg=Q(hg),yg=(0,H.A)(cg,(e=>({section:ag,...e}))),Mg=(0,H.A)(dg,(e=>({section:ag,...e}))),Ig=(0,H.A)(pg),kg=(0,H.A)(gg),Og=Q(Eg),wg={defaultState:{isPopulated:!1,error:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:[],selectedSchema:{},isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[ig]:tg(ag,"/customformat/schema"),[rg]:(e,t,n)=>{let s=[];if(t.id){const n=X(e(),"settings.customFormats",!0);s=n.items[n.itemMap[t.id]].specifications.map(((e,t)=>({id:t+1,...e})))}n((0,_.OJ)([de({section:ag,data:s}),ce({section:ag,isPopulated:!0})]))},[ug]:(e,t,n)=>{const{id:s,...o}=t,a=_o({id:s,...o},e,ag,!1);a.id||(a.id=sg(e().settings.customFormatSpecifications.items)),n((0,_.OJ)([ue({section:ag,...a}),ce({section:ag,pendingChanges:{}})]))},[mg]:(e,t,n)=>{const s=t.id;return n(pe({section:ag,id:s}))},[hg]:(e,t,n)=>n(ce({section:ag,items:[]})),[Eg]:(e,t,n)=>n(ce({section:ag,pendingChanges:{}}))},reducers:{[cg]:Qo(ag),[dg]:ng(ag),[lg]:(e,{payload:t})=>og(e,ag,t,(e=>e)),[pg]:function(e,{payload:t}){const n=t.id,s=X(e,ag),o=s.items,a=o.find((e=>e.id===n)),r=sg(s.items),i={...a,id:r,name:`${a.name} - Copy`};return s.items=[...o,i],s.itemMap[r]=s.items.length-1,Z(e,ag,s)},[gg]:Yr(ag,{isPopulated:!1,error:null,items:[]})}},Tg="settings.delayProfiles",Ng="settings/delayProfiles/fetchDelayProfiles",Dg="settings/delayProfiles/fetchDelayProfileSchema",Ag="settings/delayProfiles/saveDelayProfile",Fg="settings/delayProfiles/deleteDelayProfile",xg="settings/delayProfiles/reorderDelayProfile",Rg="settings/delayProfiles/setDelayProfileValue",Bg=Q(Ng),Lg=Q(Dg),jg=Q(Ag),_g=Q(Fg),zg=Q(xg),Ug=(0,H.A)(Rg,(e=>({section:Tg,...e}))),Hg={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[],isSaving:!1,saveError:null,pendingChanges:{}},actionHandlers:{[Ng]:Pa(Tg,"/delayprofile"),[Dg]:tg(Tg,"/delayprofile/schema"),[Ag]:Vo(Tg,"/delayprofile"),[Fg]:jo(Tg,"/delayprofile"),[xg]:(e,t,n)=>{const{id:s,moveIndex:o}=t,a=o+1,r=e().settings.delayProfiles.items;if(U().find(r,{id:s}).order===a)return;const i=o>0?U().find(r,{order:o}):null;J({method:"PUT",url:`/delayprofile/reorder/${s}?${i?`after=${i.id}`:""}`}).request.done((e=>{n(de({section:Tg,data:e}))}))}},reducers:{[Rg]:Qo(Tg)}},Vg=function(e,t){return function(n,s,o){o(ce({section:e,isSaving:!0}));const a=X(n(),e,!0),r=Object.assign({},a.item,a.pendingChanges,s),i=J({url:t,method:"PUT",dataType:"json",data:JSON.stringify(r)}).request;i.done((t=>{o((0,_.OJ)([de({section:e,data:t}),ce({section:e,isSaving:!1,saveError:null,pendingChanges:{}})]))})),i.fail((t=>{o(ce({section:e,isSaving:!1,saveError:t}))}))}},qg="settings.development",Qg="settings/development/fetchDevelopmentSettings",Wg="settings/development/setDevelopmentSettingsValue",Gg="settings/development/saveDevelopmentSettings",Kg=Q(Qg),$g=Q(Gg),Yg=(0,H.A)(Wg,(e=>({section:qg,...e}))),Jg={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[Qg]:Pa(qg,"/config/development"),[Gg]:Vg(qg,"/config/development")},reducers:{[Wg]:Qo(qg)}},Xg="settings.downloadClientOptions",Zg="FETCH_DOWNLOAD_CLIENT_OPTIONS",eE="SET_DOWNLOAD_CLIENT_OPTIONS_VALUE",tE="SAVE_DOWNLOAD_CLIENT_OPTIONS",nE=Q(Zg),sE=Q(tE),oE=(0,H.A)(eE,(e=>({section:Xg,...e}))),aE={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[Zg]:Pa(Xg,"/config/downloadclient"),[tE]:Vg(Xg,"/config/downloadclient")},reducers:{[eE]:Qo(Xg)}},rE=function(e,t){return function(n,s,o){o(ce({section:e,isSaving:!0}));const a=J({url:`${t}`,method:"PUT",data:JSON.stringify(s),dataType:"json"}).request;return a.done((t=>{o((0,_.OJ)([ce({section:e,isSaving:!1,saveError:null}),...t.map((t=>{const{...n}=t;return ue({id:t.id,section:e,...n})}))]))})),a.fail((t=>{o(ce({section:e,isSaving:!1,saveError:t}))})),a}},iE=function(e,t){return function(n,s,o){const{ids:a}=s;o(ce({section:e,isDeleting:!0}));const r=J({url:`${t}`,method:"DELETE",data:JSON.stringify(s),dataType:"json"}).request;return r.done((t=>{o((0,_.OJ)([ce({section:e,isDeleting:!1,deleteError:null}),...a.map((t=>pe({section:e,id:t})))]))})),r.fail((t=>{o(ce({section:e,isDeleting:!1,deleteError:t}))})),r}},lE=function(e,t){return function(n,s,o){o(ce({section:e,isTestingAll:!0}));const a={url:`${t}/testall`,method:"POST",contentType:"application/json",dataType:"json"},{request:r}=J(a);r.done((t=>{o(ce({section:e,isTestingAll:!1,saveError:null}))})),r.fail((t=>{o(ce({section:e,isTestingAll:!1}))}))}},cE={};let dE=null;function uE(e){return function(t,n,s){cE[e]&&(cE[e](),cE[e]=null)}}const mE=function(e,t){return function(n,s,o){o(ce({section:e,isTesting:!0}));const{queryParams:a={},...r}=s,i=_o({...r},n,e),l={...a};U().isEqual(i,dE)&&(l.forceTest=!0),dE=i;const c={url:`${t}/test?${K().param(l,!0)}`,method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)},{request:d,abortRequest:u}=J(c);cE[e]=u,d.done((t=>{dE=null,o(ce({section:e,isTesting:!1,saveError:null}))})),d.fail((t=>{o(ce({section:e,isTesting:!1,saveError:t.aborted?null:t}))}))}},hE="settings.downloadClients",pE="settings/downloadClients/fetchDownloadClients",gE="settings/downloadClients/fetchDownloadClientSchema",EE="settings/downloadClients/selectDownloadClientSchema",fE="settings/downloadClients/setDownloadClientValue",CE="settings/downloadClients/setDownloadClientFieldValue",vE="settings/downloadClients/saveDownloadClient",SE="settings/downloadClients/cancelSaveDownloadClient",bE="settings/downloadClients/deleteDownloadClient",PE="settings/downloadClients/testDownloadClient",yE="settings/downloadClients/cancelTestDownloadClient",ME="settings/downloadClients/testAllDownloadClients",IE="settings/downloadClients/bulkEditDownloadClients",kE="settings/downloadClients/bulkDeleteDownloadClients",OE="settings/downloadClients/setManageDownloadClientsSort",wE=Q(pE),TE=Q(gE),NE=(0,H.A)(EE),DE=Q(vE),AE=Q(SE),FE=Q(bE),xE=Q(PE),RE=Q(yE),BE=Q(ME),LE=Q(IE),jE=Q(kE),_E=(0,H.A)(OE),zE=(0,H.A)(fE,(e=>({section:hE,...e}))),UE=(0,H.A)(CE,(e=>({section:hE,...e}))),HE={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:[],selectedSchema:{},isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,isTesting:!1,isTestingAll:!1,items:[],pendingChanges:{},sortKey:"name",sortDirection:vo,sortPredicates:{name:function(e){return e.name.toLowerCase()}}},actionHandlers:{[pE]:Pa(hE,"/downloadclient"),[gE]:tg(hE,"/downloadclient/schema"),[vE]:Vo(hE,"/downloadclient"),[SE]:Ho(hE),[bE]:jo(hE,"/downloadclient"),[PE]:mE(hE,"/downloadclient"),[yE]:uE(hE),[ME]:lE(hE,"/downloadclient"),[IE]:rE(hE,"/downloadclient/bulk"),[kE]:iE(hE,"/downloadclient/bulk")},reducers:{[fE]:Qo(hE),[CE]:ng(hE),[EE]:(e,{payload:t})=>og(e,hE,t,(e=>(e.enable=!0,e))),[OE]:qo(hE)}},VE="settings.general",qE="settings/general/fetchGeneralSettings",QE="settings/general/setGeneralSettingsValue",WE="settings/general/saveGeneralSettings",GE=Q(qE),KE=Q(WE),$E=(0,H.A)(QE,(e=>({section:VE,...e}))),YE={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[qE]:Pa(VE,"/config/host"),[WE]:Vg(VE,"/config/host")},reducers:{[QE]:Qo(VE)}},JE="settings.importListExclusions",XE="settings/importListExclusions/fetchImportListExclusions",ZE="settings/importListExclusions/saveImportListExclusion",ef="settings/importListExclusions/deleteImportListExclusion",tf="settings/importListExclusions/setImportListExclusionValue",nf=Q(XE),sf=Q(ZE),of=Q(ef),af=(0,H.A)(tf,(e=>({section:JE,...e}))),rf={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[],isSaving:!1,saveError:null,pendingChanges:{}},actionHandlers:{[XE]:Pa(JE,"/importlistexclusion"),[ZE]:Vo(JE,"/importlistexclusion"),[ef]:jo(JE,"/importlistexclusion")},reducers:{[tf]:Qo(JE)}},lf="settings.importLists",cf="settings/importlists/fetchImportLists",df="settings/importlists/fetchImportListSchema",uf="settings/importlists/selectImportListSchema",mf="settings/importlists/setImportListValue",hf="settings/importlists/setImportListFieldValue",pf="settings/importlists/saveImportList",gf="settings/importlists/cancelSaveImportList",Ef="settings/importlists/deleteImportList",ff="settings/importlists/testImportList",Cf="settings/importlists/cancelTestImportList",vf="settings/importlists/testAllImportLists",Sf="settings/importlists/bulkEditImportLists",bf="settings/importlists/bulkDeleteImportLists",Pf=Q(cf),yf=Q(df),Mf=(0,H.A)(uf),If=Q(pf),kf=Q(gf),Of=Q(Ef),wf=Q(ff),Tf=Q(Cf),Nf=Q(vf),Df=Q(Sf),Af=Q(bf),Ff=(0,H.A)(mf,(e=>({section:lf,...e}))),xf=(0,H.A)(hf,(e=>({section:lf,...e}))),Rf={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:[],selectedSchema:{},isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,isTesting:!1,isTestingAll:!1,items:[],pendingChanges:{}},actionHandlers:{[cf]:Pa(lf,"/importlist"),[df]:tg(lf,"/importlist/schema"),[pf]:Vo(lf,"/importlist"),[gf]:Ho(lf),[Ef]:jo(lf,"/importlist"),[ff]:mE(lf,"/importlist"),[Cf]:uE(lf),[vf]:lE(lf,"/importlist"),[Sf]:rE(lf,"/importlist/bulk"),[bf]:iE(lf,"/importlist/bulk")},reducers:{[mf]:Qo(lf),[hf]:ng(lf),[uf]:(e,{payload:t})=>og(e,lf,t,(e=>(e.enableAutomaticAdd=!0,e.shouldMonitor="entireAuthor",e)))}},Bf="settings/indexerFlags/fetchIndexerFlags",Lf=Q(Bf),jf={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[]},actionHandlers:{[Bf]:Pa("settings.indexerFlags","/indexerFlag")},reducers:{}},_f="settings.indexerOptions",zf="settings/indexerOptions/fetchIndexerOptions",Uf="settings/indexerOptions/saveIndexerOptions",Hf="settings/indexerOptions/setIndexerOptionsValue",Vf=Q(zf),qf=Q(Uf),Qf=(0,H.A)(Hf,(e=>({section:_f,...e}))),Wf={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[zf]:Pa(_f,"/config/indexer"),[Uf]:Vg(_f,"/config/indexer")},reducers:{[Hf]:Qo(_f)}},Gf="settings.indexers",Kf="settings/indexers/fetchIndexers",$f="settings/indexers/fetchIndexerSchema",Yf="settings/indexers/selectIndexerSchema",Jf="settings/indexers/cloneIndexer",Xf="settings/indexers/setIndexerValue",Zf="settings/indexers/setIndexerFieldValue",eC="settings/indexers/saveIndexer",tC="settings/indexers/cancelSaveIndexer",nC="settings/indexers/deleteIndexer",sC="settings/indexers/testIndexer",oC="settings/indexers/cancelTestIndexer",aC="settings/indexers/testAllIndexers",rC="settings/indexers/bulkEditIndexers",iC="settings/indexers/bulkDeleteIndexers",lC="settings/indexers/setManageIndexersSort",cC=Q(Kf),dC=Q($f),uC=(0,H.A)(Yf),mC=(0,H.A)(Jf),hC=Q(eC),pC=Q(tC),gC=Q(nC),EC=Q(sC),fC=Q(oC),CC=Q(aC),vC=Q(rC),SC=Q(iC),bC=(0,H.A)(lC),PC=(0,H.A)(Xf,(e=>({section:Gf,...e}))),yC=(0,H.A)(Zf,(e=>({section:Gf,...e}))),MC={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:[],selectedSchema:{},isSaving:!1,saveError:null,isDeleting:!1,deleteError:null,isTesting:!1,isTestingAll:!1,items:[],pendingChanges:{},sortKey:"name",sortDirection:vo,sortPredicates:{name:function(e){return e.name.toLowerCase()}}},actionHandlers:{[Kf]:Pa(Gf,"/indexer"),[$f]:tg(Gf,"/indexer/schema"),[eC]:Vo(Gf,"/indexer"),[tC]:Ho(Gf),[nC]:jo(Gf,"/indexer"),[sC]:mE(Gf,"/indexer"),[oC]:uE(Gf),[aC]:lE(Gf,"/indexer"),[rC]:rE(Gf,"/indexer/bulk"),[iC]:iE(Gf,"/indexer/bulk")},reducers:{[Xf]:Qo(Gf),[Zf]:ng(Gf),[Yf]:(e,{payload:t})=>og(e,Gf,t,(e=>(e.enableRss=e.supportsRss,e.enableAutomaticSearch=e.supportsSearch,e.enableInteractiveSearch=e.supportsSearch,e))),[Jf]:function(e,{payload:t}){const n=t.id,s=X(e,Gf),o=s.items.find((e=>e.id===n)),a={...o};return delete a.id,delete a.name,a.fields=a.fields.map((e=>{const t={...e};return"apiKey"!==t.privacy&&"password"!==t.privacy||(t.value=""),t})),s.selectedSchema=a,s.pendingChanges={name:`${o.name} - Copy`},Z(e,Gf,s)},[lC]:qo(Gf)}},IC="settings/languages/fetchLanguages",kC=Q(IC),OC={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[]},actionHandlers:{[IC]:Pa("settings.languages","/language")},reducers:{}},wC="settings.mediaManagement",TC="settings/mediaManagement/fetchMediaManagementSettings",NC="settings/mediaManagement/saveMediaManagementSettings",DC="settings/mediaManagement/setMediaManagementSettingsValue",AC=Q(TC),FC=Q(NC),xC=(0,H.A)(DC,(e=>({section:wC,...e}))),RC={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[TC]:Pa(wC,"/config/mediamanagement"),[NC]:Vg(wC,"/config/mediamanagement")},reducers:{[DC]:Qo(wC)}},BC="settings.metadata",LC="settings/metadata/fetchMetadata",jC="settings/metadata/setMetadataValue",_C="settings/metadata/setMetadataFieldValue",zC="settings/metadata/saveMetadata",UC=Q(LC),HC=Q(zC),VC=(0,H.A)(jC,(e=>({section:BC,...e}))),qC=(0,H.A)(_C,(e=>({section:BC,...e}))),QC={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[LC]:Pa(BC,"/metadata"),[zC]:Vo(BC,"/metadata")},reducers:{[jC]:Qo(BC),[_C]:ng(BC)}},WC="settings.metadataProfiles",GC="settings/metadataProfiles/fetchMetadataProfiles",KC="settings/metadataProfiles/fetchMetadataProfileSchema",$C="settings/metadataProfiles/saveMetadataProfile",YC="settings/metadataProfiles/deleteMetadataProfile",JC="settings/metadataProfiles/setMetadataProfileValue",XC="settings/metadataProfiles/cloneMetadataProfile",ZC=Q(GC),ev=Q(KC),tv=Q($C),nv=Q(YC),sv=(0,H.A)(JC,(e=>({section:WC,...e}))),ov=(0,H.A)(XC),av={defaultState:{isFetching:!1,isPopulated:!1,error:null,isDeleting:!1,deleteError:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:{},isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[GC]:Pa(WC,"/metadataprofile"),[KC]:tg(WC,"/metadataprofile/schema"),[$C]:Vo(WC,"/metadataprofile"),[YC]:jo(WC,"/metadataprofile")},reducers:{[JC]:Qo(WC),[XC]:function(e,{payload:t}){const n=t.id,s=X(e,WC),o=s.items.find((e=>e.id===n)),a={...o,id:0};return delete a.id,a.name=`${a.name} - Copy`,s.pendingChanges=a,Z(e,WC,s)}}},rv="settings.metadataProvider",iv="settings/metadataProvider/fetchMetadataProvider",lv="settings/metadataProvider/setMetadataProviderValue",cv="settings/metadataProvider/saveMetadataProvider",dv=Q(iv),uv=Q(cv),mv=(0,H.A)(lv,(e=>({section:rv,...e}))),hv={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[iv]:Pa(rv,"/config/metadataProvider"),[cv]:Vg(rv,"/config/metadataProvider")},reducers:{[lv]:Qo(rv)}},pv="settings.naming",gv="settings/naming/fetchNamingSettings",Ev="settings/naming/saveNamingSettings",fv="settings/naming/setNamingSettingsValue",Cv=Q(gv),vv=Q(Ev),Sv=(0,H.A)(fv,(e=>({section:pv,...e}))),bv={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[gv]:Pa(pv,"/config/naming"),[Ev]:Vg(pv,"/config/naming")},reducers:{[fv]:Qo(pv)}},Pv="settings.namingExamples",yv="settings/namingExamples/fetchNamingExamples",Mv=Q(yv),Iv={defaultState:{isFetching:!1,isPopulated:!1,error:null,item:{}},actionHandlers:{[yv]:function(e,t,n){n(ce({section:Pv,isFetching:!0}));const s=e().settings.naming,o=J({url:"/config/naming/examples",data:Object.assign({},s.item,s.pendingChanges)}).request;o.done((e=>{n((0,_.OJ)([de({section:Pv,data:e}),ce({section:Pv,isFetching:!1,isPopulated:!0,error:null})]))})),o.fail((e=>{n(ce({section:Pv,isFetching:!1,isPopulated:!1,error:e}))}))}},reducers:{}},kv="settings.notifications",Ov="settings/notifications/fetchNotifications",wv="settings/notifications/fetchNotificationSchema",Tv="settings/notifications/selectNotificationSchema",Nv="settings/notifications/setNotificationValue",Dv="settings/notifications/setNotificationFieldValue",Av="settings/notifications/saveNotification",Fv="settings/notifications/cancelSaveNotification",xv="settings/notifications/deleteNotification",Rv="settings/notifications/testNotification",Bv="settings/notifications/cancelTestNotification",Lv=Q(Ov),jv=Q(wv),_v=(0,H.A)(Tv),zv=Q(Av),Uv=Q(Fv),Hv=Q(xv),Vv=Q(Rv),qv=Q(Bv),Qv=(0,H.A)(Nv,(e=>({section:kv,...e}))),Wv=(0,H.A)(Dv,(e=>({section:kv,...e}))),Gv={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:[],selectedSchema:{},isSaving:!1,saveError:null,isTesting:!1,items:[],pendingChanges:{}},actionHandlers:{[Ov]:Pa(kv,"/notification"),[wv]:tg(kv,"/notification/schema"),[Av]:Vo(kv,"/notification"),[Fv]:Ho(kv),[xv]:jo(kv,"/notification"),[Rv]:mE(kv,"/notification"),[Bv]:uE(kv)},reducers:{[Nv]:Qo(kv),[Dv]:ng(kv),[Tv]:(e,{payload:t})=>og(e,kv,t,(e=>(e.onGrab=e.supportsOnGrab,e.onReleaseImport=e.supportsOnReleaseImport,e.onUpgrade=e.supportsOnUpgrade,e.onRename=e.supportsOnRename,e.onAuthorAdded=e.supportsOnAuthorAdded,e.onAuthorDelete=e.supportsOnAuthorDelete,e.onBookDelete=e.supportsOnBookDelete,e.onBookFileDelete=e.supportsOnBookFileDelete,e.onBookFileDeleteForUpgrade=e.supportsOnBookFileDeleteForUpgrade,e.onHealthIssue=e.supportsOnHealthIssue,e.onDownloadFailure=e.supportsOnDownloadFailure,e.onImportFailure=e.supportsOnImportFailure,e.onBookRetag=e.supportsOnBookRetag,e.onApplicationUpdate=e.supportsOnApplicationUpdate,e)))}},Kv="settings.qualityDefinitions",$v="settings/qualityDefinitions/fetchQualityDefinitions",Yv="settings/qualityDefinitions/saveQualityDefinitions",Jv="settings/qualityDefinitions/setQualityDefinitionValue",Xv=Q($v),Zv=Q(Yv),eS=(0,H.A)(Jv),tS={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[],isSaving:!1,saveError:null,pendingChanges:{}},actionHandlers:{[$v]:Pa(Kv,"/qualitydefinition"),[Yv]:Vg(Kv,"/qualitydefinition"),[Yv]:function(e,t,n){const s=e().settings.qualityDefinitions,o=Object.keys(s.pendingChanges).map((e=>{const t=parseInt(e),n=s.pendingChanges[t]||{},o=U().find(s.items,{id:t});return Object.assign({},o,n)}));if(!o||!o.length)return;n(ce({section:Kv,isSaving:!0}));const a=J({method:"PUT",url:"/qualityDefinition/update",data:JSON.stringify(o),contentType:"application/json",dataType:"json"}).request;a.done((e=>{n((0,_.OJ)([ce({section:Kv,isSaving:!1,saveError:null}),de({section:Kv,data:e}),he({section:Kv})]))})),a.fail((e=>{n(ce({section:Kv,isSaving:!1,saveError:e}))}))}},reducers:{[Jv]:function(e,{payload:t}){const{id:n,name:s,value:o}=t,a=X(e,Kv);a.pendingChanges=U().cloneDeep(a.pendingChanges);const r=a.pendingChanges[n]||{};return U().find(a.items,{id:n})[s]===o?delete r[s]:r[s]=o,U().isEmpty(r)?delete a.pendingChanges[n]:a.pendingChanges[n]=r,Z(e,Kv,a)}}},nS="settings.qualityProfiles",sS="settings/qualityProfiles/fetchQualityProfiles",oS="settings/qualityProfiles/fetchQualityProfileSchema",aS="settings/qualityProfiles/saveQualityProfile",rS="settings/qualityProfiles/deleteQualityProfile",iS="settings/qualityProfiles/setQualityProfileValue",lS="settings/qualityProfiles/cloneQualityProfile",cS=Q(sS),dS=Q(oS),uS=Q(aS),mS=Q(rS),hS=(0,H.A)(iS,(e=>({section:nS,...e}))),pS=(0,H.A)(lS),gS={defaultState:{isFetching:!1,isPopulated:!1,error:null,isDeleting:!1,deleteError:null,isSchemaFetching:!1,isSchemaPopulated:!1,schemaError:null,schema:{},isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[sS]:Pa(nS,"/qualityprofile"),[oS]:tg(nS,"/qualityprofile/schema"),[aS]:Vo(nS,"/qualityprofile"),[rS]:jo(nS,"/qualityprofile")},reducers:{[iS]:Qo(nS),[lS]:function(e,{payload:t}){const n=t.id,s=X(e,nS),o=s.items.find((e=>e.id===n)),a={...o,id:0};return delete a.id,a.name=`${a.name} - Copy`,s.pendingChanges=a,Z(e,nS,s)}}},ES="settings.releaseProfiles",fS="settings/releaseProfiles/fetchReleaseProfiles",CS="settings/releaseProfiles/saveReleaseProfile",vS="settings/releaseProfiles/deleteReleaseProfile",SS="settings/releaseProfiles/setReleaseProfileValue",bS=Q(fS),PS=Q(CS),yS=Q(vS),MS=(0,H.A)(SS,(e=>({section:ES,...e}))),IS={defaultState:{isFetching:!1,isPopulated:!1,error:null,isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[fS]:Pa(ES,"/releaseprofile"),[CS]:Vo(ES,"/releaseprofile"),[vS]:jo(ES,"/releaseprofile")},reducers:{[SS]:Qo(ES)}},kS="settings.remotePathMappings",OS="settings/remotePathMappings/fetchRemotePathMappings",wS="settings/remotePathMappings/saveRemotePathMapping",TS="settings/remotePathMappings/deleteRemotePathMapping",NS="settings/remotePathMappings/setRemotePathMappingValue",DS=Q(OS),AS=Q(wS),FS=Q(TS),xS=(0,H.A)(NS,(e=>({section:kS,...e}))),RS={defaultState:{isFetching:!1,isPopulated:!1,error:null,items:[],isSaving:!1,saveError:null,pendingChanges:{}},actionHandlers:{[OS]:Pa(kS,"/remotepathmapping"),[wS]:Vo(kS,"/remotepathmapping"),[TS]:jo(kS,"/remotepathmapping")},reducers:{[NS]:Qo(kS)}},BS="settings.rootFolders",LS="settings/rootFolders/fetchRootFolders",jS="settings/rootFolders/setRootFolderValue",_S="settings/rootFolders/saveRootFolder",zS="settings/rootFolders/cancelSaveRootFolder",US="settings/rootFolders/deleteRootFolder",HS=Q(LS),VS=Q(_S),qS=Q(zS),QS=Q(US),WS=(0,H.A)(jS,(e=>({section:BS,...e}))),GS={defaultState:{isFetching:!1,isPopulated:!1,error:null,schema:{isCalibreLibrary:!1,host:"localhost",port:8080,useSsl:!1,outputProfile:"Default",defaultQualityProfileId:0,defaultMetadataProfileId:0,defaultMonitorOption:up[0].key,defaultNewItemMonitorOption:dp[0].key,defaultTags:[]},isSaving:!1,saveError:null,items:[],pendingChanges:{}},actionHandlers:{[LS]:Pa(BS,"/rootFolder"),[_S]:Vo(BS,"/rootFolder"),[zS]:Ho(BS),[US]:jo(BS,"/rootFolder")},reducers:{[jS]:Qo(BS)}},KS="settings.ui",$S="settings/ui/fetchUiSettings",YS="SET_UI_SETTINGS_VALUE",JS="SAVE_UI_SETTINGS",XS=Q($S),ZS=Q(JS),eb=(0,H.A)(YS,(e=>({section:KS,...e}))),tb={defaultState:{isFetching:!1,isPopulated:!1,error:null,pendingChanges:{},isSaving:!1,saveError:null,item:{}},actionHandlers:{[$S]:Pa(KS,"/config/ui"),[JS]:Vg(KS,"/config/ui")},reducers:{[YS]:Qo(KS)}},nb="settings",sb={advancedSettings:!1,customFormatSpecifications:wg.defaultState,customFormats:eg.defaultState,delayProfiles:Hg.defaultState,downloadClients:HE.defaultState,downloadClientOptions:aE.defaultState,general:YE.defaultState,indexerFlags:jf.defaultState,indexerOptions:Wf.defaultState,indexers:MC.defaultState,importLists:Rf.defaultState,importListExclusions:rf.defaultState,languages:OC.defaultState,metadataProfiles:av.defaultState,mediaManagement:RC.defaultState,metadata:QC.defaultState,metadataProvider:hv.defaultState,naming:bv.defaultState,namingExamples:Iv.defaultState,notifications:Gv.defaultState,qualityDefinitions:tS.defaultState,qualityProfiles:gS.defaultState,releaseProfiles:IS.defaultState,remotePathMappings:RS.defaultState,rootFolders:GS.defaultState,development:Jg.defaultState,ui:tb.defaultState},ob=["settings.advancedSettings"],ab="settings/toggleAdvancedSettings",rb=(0,H.A)(ab),ib=W({...wg.actionHandlers,...eg.actionHandlers,...Hg.actionHandlers,...HE.actionHandlers,...aE.actionHandlers,...YE.actionHandlers,...jf.actionHandlers,...Wf.actionHandlers,...MC.actionHandlers,...Rf.actionHandlers,...rf.actionHandlers,...OC.actionHandlers,...av.actionHandlers,...RC.actionHandlers,...QC.actionHandlers,...hv.actionHandlers,...bv.actionHandlers,...Iv.actionHandlers,...Gv.actionHandlers,...tS.actionHandlers,...gS.actionHandlers,...IS.actionHandlers,...RS.actionHandlers,...GS.actionHandlers,...Jg.actionHandlers,...tb.actionHandlers}),lb=fe({[ab]:(e,{payload:t})=>Object.assign({},e,{advancedSettings:!e.advancedSettings}),...wg.reducers,...eg.reducers,...Hg.reducers,...HE.reducers,...aE.reducers,...YE.reducers,...jf.reducers,...Wf.reducers,...MC.reducers,...Rf.reducers,...rf.reducers,...OC.reducers,...av.reducers,...RC.reducers,...QC.reducers,...hv.reducers,...bv.reducers,...Iv.reducers,...Gv.reducers,...tS.reducers,...gS.reducers,...IS.reducers,...RS.reducers,...GS.reducers,...Jg.reducers,...tb.reducers},sb,nb),cb="system",db="system.backups",ub={status:{isFetching:!1,isPopulated:!1,error:null,item:{}},health:{isFetching:!1,isPopulated:!1,error:null,items:[]},diskSpace:{isFetching:!1,isPopulated:!1,error:null,items:[]},tasks:{isFetching:!1,isPopulated:!1,error:null,items:[]},backups:{isFetching:!1,isPopulated:!1,error:null,isRestoring:!1,restoreError:null,isDeleting:!1,deleteError:null,items:[]},updates:{isFetching:!1,isPopulated:!1,error:null,items:[]},logs:{isFetching:!1,isPopulated:!1,pageSize:50,sortKey:"time",sortDirection:So,error:null,items:[],columns:[{name:"level",columnLabel:()=>te("Level"),isSortable:!1,isVisible:!0,isModifiable:!1},{name:"time",label:()=>te("Time"),isSortable:!0,isVisible:!0,isModifiable:!1},{name:"logger",label:()=>te("Component"),isSortable:!1,isVisible:!0,isModifiable:!1},{name:"message",label:()=>te("Message"),isVisible:!0,isModifiable:!1},{name:"actions",columnLabel:()=>te("Actions"),isSortable:!0,isVisible:!0,isModifiable:!1}],selectedFilterKey:"all",filters:[{key:"all",label:"All",filters:[]},{key:"info",label:"Info",filters:[{key:"level",value:"info",type:Ke}]},{key:"warn",label:"Warn",filters:[{key:"level",value:"warn",type:Ke}]},{key:"error",label:"Error",filters:[{key:"level",value:"error",type:Ke}]}]},logFiles:{isFetching:!1,isPopulated:!1,error:null,items:[]},updateLogFiles:{isFetching:!1,isPopulated:!1,error:null,items:[]}},mb=["system.logs.pageSize","system.logs.sortKey","system.logs.sortDirection","system.logs.selectedFilterKey"],hb="system/status/fetchStatus",pb="system/health/fetchHealth",gb="system/diskSpace/fetchDiskSPace",Eb="system/tasks/fetchTask",fb="system/tasks/fetchTasks",Cb="system/backups/fetchBackups",vb="system/backups/restoreBackup",Sb="system/backups/clearRestoreBackup",bb="system/backups/deleteBackup",Pb="system/updates/fetchUpdates",yb="system/logs/fetchLogs",Mb="system/logs/gotoLogsFirstPage",Ib="system/logs/gotoLogsPreviousPage",kb="system/logs/gotoLogsNextPage",Ob="system/logs/gotoLogsLastPage",wb="system/logs/gotoLogsPage",Tb="system/logs/setLogsSort",Nb="system/logs/setLogsFilter",Db="system/logs/setLogsTableOption",Ab="system/logs/clearLogsTable",Fb="system/logFiles/fetchLogFiles",xb="system/updateLogFiles/fetchUpdateLogFiles",Rb="system/restart",Bb="system/shutdown",Lb=Q(hb),jb=Q(pb),_b=Q(gb),zb=Q(Eb),Ub=Q(fb),Hb=Q(Cb),Vb=Q(vb),qb=(0,H.A)(Sb),Qb=Q(bb),Wb=Q(Pb),Gb=Q(yb),Kb=Q(Mb),$b=Q(Ib),Yb=Q(kb),Jb=Q(Ob),Xb=Q(wb),Zb=Q(Tb),eP=Q(Nb),tP=(0,H.A)(Db),nP=(0,H.A)(Ab),sP=Q(Fb),oP=Q(xb),aP=Q(Rb),rP=Q(Bb),iP=W({[hb]:Pa("system.status","/system/status"),[pb]:Pa("system.health","/health"),[gb]:Pa("system.diskSpace","/diskspace"),[Eb]:Pa("system.tasks","/system/task"),[fb]:Pa("system.tasks","/system/task"),[Cb]:Pa(db,"/system/backup"),[vb]:function(e,t,n){const{id:s,file:o}=t;n(ce({section:db,isRestoring:!0}));let a=null;if(s)a={url:`/system/backup/restore/${s}`,method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({id:s})};else if(o){const e=new FormData;e.append("restore",o),a={url:"/system/backup/restore/upload",method:"POST",processData:!1,contentType:!1,data:e}}else n(ce({section:db,isRestoring:!1,restoreError:"Error restoring backup"}));const r=J(a).request;r.done((e=>{n(ce({section:db,isRestoring:!1,restoreError:null}))})),r.fail((e=>{n(ce({section:db,isRestoring:!1,restoreError:e}))}))},[bb]:jo(db,"/system/backup"),[Pb]:Pa("system.updates","/update"),[Fb]:Pa("system.logFiles","/log/file"),[xb]:Pa("system.updateLogFiles","/log/file/update"),...$r("system.logs","/log",Gb,{[xr]:yb,[Rr]:Mb,[Br]:Ib,[Lr]:kb,[jr]:Ob,[_r]:wb,[zr]:Tb,[Ur]:Nb}),[Rb]:function(e,t,n){J({url:"/system/restart",method:"POST"}).request.done((()=>{n(Re({isRestarting:!0})),n(je())}))},[Bb]:function(){J({url:"/system/shutdown",method:"POST"})}}),lP=fe({[Sb]:function(e,{payload:t}){return{...e,backups:{...e.backups,isRestoring:!1,restoreError:null}}},[Db]:Go("logs"),[Ab]:Yr(cb,{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0})},ub,cb),cP="tags",dP={isFetching:!1,isPopulated:!1,error:null,items:[],details:{isFetching:!1,isPopulated:!1,error:null,items:[]}},uP="tags/fetchTags",mP="tags/addTag",hP="tags/deleteTag",pP="tags/fetchTagDetails",gP=Q(uP),EP=Q(mP),fP=Q(hP),CP=Q(pP),vP=W({[uP]:Pa(cP,"/tag"),[mP]:function(e,t,n){J({url:"/tag",method:"POST",data:JSON.stringify(t.tag),dataType:"json"}).request.done((s=>{const o=e().tags.items.slice();o.push(s),n(de({section:cP,data:o})),t.onTagCreated(s)}))},[hP]:jo(cP,"/tag"),[pP]:Pa("tags.details","/tag/detail")}),SP=fe({},dP,cP),bP=function(e,t,n,s){const o=U().reduce(t,((e,t)=>(n.indexOf(t.id)>-1?e.push({...t,...s}):e.push(t),e)),[]);return de({section:e,data:o})},PP=function(e,t){return function(n,s,o){const{bookIds:a,monitored:r}=s,i=X(n(),e,!0);o(bP(e,i.items,a,{isSaving:!0}));const l=J({url:"/book/monitor",method:"PUT",data:JSON.stringify({bookIds:a,monitored:r}),dataType:"json"}).request;l.done((()=>{o(bP(e,i.items,a,{isSaving:!1,monitored:r})),o(t())})),l.fail((()=>{o(bP(e,i.items,a,{isSaving:!1}))}))}},yP="wanted",MP={missing:{isFetching:!1,isPopulated:!1,pageSize:20,sortKey:"releaseDate",sortDirection:So,error:null,items:[],columns:[{name:"authorMetadata.sortName",label:"Author",isSortable:!0,isVisible:!0},{name:"books.title",label:"Book",isSortable:!0,isVisible:!0},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!0},{name:"books.lastSearchTime",label:"Last Searched",isSortable:!0,isVisible:!1},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}],selectedFilterKey:"monitored",filters:[{key:"monitored",label:"Monitored",filters:[{key:"monitored",value:!0,type:Ke}]},{key:"unmonitored",label:"Unmonitored",filters:[{key:"monitored",value:!1,type:Ke}]}]},cutoffUnmet:{isFetching:!1,isPopulated:!1,pageSize:20,sortKey:"releaseDate",sortDirection:So,items:[],columns:[{name:"authorMetadata.sortName",label:"Author",isSortable:!0,isVisible:!0},{name:"books.title",label:"Book",isSortable:!0,isVisible:!0},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!0},{name:"books.lastSearchTime",label:"Last Searched",isSortable:!0,isVisible:!1},{name:"actions",columnLabel:"Actions",isVisible:!0,isModifiable:!1}],selectedFilterKey:"monitored",filters:[{key:"monitored",label:"Monitored",filters:[{key:"monitored",value:!0,type:Ke}]},{key:"unmonitored",label:"Unmonitored",filters:[{key:"monitored",value:!1,type:Ke}]}]}},IP=["wanted.missing.pageSize","wanted.missing.sortKey","wanted.missing.sortDirection","wanted.missing.selectedFilterKey","wanted.missing.columns","wanted.cutoffUnmet.pageSize","wanted.cutoffUnmet.sortKey","wanted.cutoffUnmet.sortDirection","wanted.cutoffUnmet.selectedFilterKey","wanted.cutoffUnmet.columns"],kP="wanted/missing/fetchMissing",OP="wanted/missing/gotoMissingFirstPage",wP="wanted/missing/gotoMissingPreviousPage",TP="wanted/missing/gotoMissingNextPage",NP="wanted/missing/gotoMissingLastPage",DP="wanted/missing/gotoMissingPage",AP="wanted/missing/setMissingSort",FP="wanted/missing/setMissingFilter",xP="wanted/missing/setMissingTableOption",RP="wanted/missing/clearMissing",BP="wanted/missing/batchToggleMissingBooks",LP="wanted/cutoffUnmet/fetchCutoffUnmet",jP="wanted/cutoffUnmet/gotoCutoffUnmetFirstPage",_P="wanted/cutoffUnmet/gotoCutoffUnmetPreviousPage",zP="wanted/cutoffUnmet/gotoCutoffUnmetNextPage",UP="wanted/cutoffUnmet/gotoCutoffUnmetFastPage",HP="wanted/cutoffUnmet/gotoCutoffUnmetPage",VP="wanted/cutoffUnmet/setCutoffUnmetSort",qP="wanted/cutoffUnmet/setCutoffUnmetFilter",QP="wanted/cutoffUnmet/setCutoffUnmetTableOption",WP="wanted/cutoffUnmet/clearCutoffUnmet",GP="wanted/cutoffUnmet/batchToggleCutoffUnmetBooks",KP=Q(kP),$P=Q(OP),YP=Q(wP),JP=Q(TP),XP=Q(NP),ZP=Q(DP),ey=Q(AP),ty=Q(FP),ny=(0,H.A)(xP),sy=(0,H.A)(RP),oy=Q(BP),ay=Q(LP),ry=Q(jP),iy=Q(_P),ly=Q(zP),cy=Q(UP),dy=Q(HP),uy=Q(VP),my=Q(qP),hy=(0,H.A)(QP),py=(0,H.A)(WP),gy=Q(GP),Ey=W({...$r("wanted.missing","/wanted/missing",KP,{[xr]:kP,[Rr]:OP,[Br]:wP,[Lr]:TP,[jr]:NP,[_r]:DP,[zr]:AP,[Ur]:FP}),[BP]:PP("wanted.missing",KP),...$r("wanted.cutoffUnmet","/wanted/cutoff",ay,{[xr]:LP,[Rr]:jP,[Br]:_P,[Lr]:zP,[jr]:UP,[_r]:HP,[zr]:VP,[Ur]:qP}),[GP]:PP("wanted.cutoffUnmet",ay)}),fy=fe({[xP]:Go("wanted.missing"),[QP]:Go("wanted.cutoffUnmet"),[RP]:Yr("wanted.missing",{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0}),[WP]:Yr("wanted.cutoffUnmet",{isFetching:!1,isPopulated:!1,error:null,items:[],totalPages:0,totalRecords:0})},MP,yP),Cy=[s,a,r,i,l,c,d,u,m,o,h,g,E,p,f,C,v,S,b,P,y,M,I,k,O,w,T,N,D,A,F],vy={},Sy={};Cy.forEach((e=>{const t=e.section;vy[t]=e.defaultState,Sy[t]=e.reducers}));var by=n(48606),Py=n(1265),yy=n(97211),My=n.n(yy);const Iy=["blocklist","history","queue.paged","wanted.missing","wanted.cutoffUnmet"];const ky=[],Oy=U().reduce([...Cy],((e,t)=>(t.persistState&&t.persistState.forEach((t=>{t.match(/\.columns$/)&&ky.push(t),e.push(t)})),e)),[]);function wy(e){return JSON.stringify(e,null,2)}const Ty={slicer:function(e){return t=>{const n={};return e.forEach((e=>{U().set(n,e,U().get(t,e))})),n}},serialize:wy,merge:function(e,t){if(!t)return e;const n={};return U().merge(n,e,t),ky.forEach((s=>{!function(e,t,n,s){const o=U().get(t,e),a=U().get(n,e);if(!a||!a.length)return;const r=[];a.forEach((e=>{const t=o.find((t=>t.name===e.name));if(t){const n={};for(const e of Object.keys(t))Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e));n.isVisible=e.isVisible,r.push(n)}})),o.forEach(((e,t)=>{const n=a.findIndex((t=>t.name===e.name)),s=Object.assign({},e);-1===n&&r.splice(t,0,s)})),U().set(s,e,r)}(s,e,t,n)})),n},key:"readarr"};var Ny=n(83741),Dy=n(7412),Ay=n(9128),Fy=n(3577),xy=n(55373),Ry=n.n(xy);const By=document.createElement("a");function Ly(e){By.href=e;const t=U().pick(By,"hash","host","hostname","href","origin","pathname","port","protocol","search");return t.isAbsolute=/^[\w:]*\/\//.test(e),t.search?t.params=Ry().parse(t.search.substring(1)):t.params={},t}const jy=[/ResizeObserver loop limit exceeded/,/ResizeObserver loop completed with undelivered notifications/];function _y(e){const t=Ly(e);return`${t.pathname}${t.search}`}function zy(e,t){const n=U().cloneDeep(e),s=t&&t.originalException;return n.transaction=_y(n.transaction),n.exception&&n.exception.values.forEach((e=>{const t=e.stacktrace;t&&t.frames.forEach((e=>{e.filename=_y(e.filename)}))})),s&&s.message&&(o=s.message)&&jy.find((e=>e.test(o)))?null:(n.request.url=_y(n.request.url),n);var o}function Uy(e){return e.filename&&window.Radarr.urlBase&&(e.filename=e.filename.replace(window.Researcharr.urlBase,"")),e}function Hy(e){const t=[],n=function(){const{analytics:e,branch:t,version:n,release:s,userHash:o,isProduction:a}=window.Researcharr;if(!e)return;const r=a?"https://e4883dadbabf4eb0abdd97c96ec16cd8@sentry.servarr.com/7":"https://a0ec920735ed4e3e9d27d2cdd9c733bf@sentry.servarr.com/8";return Dy.Ts({dsn:r,environment:t,release:s,sendDefaultPii:!0,beforeSend:zy,integrations:[new Ay.F({iteratee:Uy}),new Fy.UA]}),Ny.PN((e=>{e.setUser({username:o}),e.setTag("version",n),e.setTag("production",a)})),e=>t=>n=>{try{return Ny.ZQ({category:"redux",message:n.type}),t(n)}catch(t){console.error(`[sentry] Reporting error to Sentry: ${t}`),Ny.Cp(t,{extra:{action:n,state:e.getState()}})}}}();return n&&t.push(n),t.push((0,by.A)(e)),t.push(Py.A),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.Zz)((0,L.Tw)(...t),function(){const e=JSON.parse(localStorage.getItem(Ty.key));return function(e){!function(e){const t=(0,z.get)(e,"addAuthor.defaults.monitor");t&&(up.find((e=>e.key===t))||(e.addAuthor.defaults.monitor=up[0].key))}(e),function(e){for(const t of Iy){const n=`${t}.sortKey`;"authors.sortName"===(0,z.get)(e,n)&&(0,z.set)(e,n,"authorMetadata.sortName")}}(e),function(e){const t=(0,z.get)(e,"blacklist");t&&(e.blocklist=t,U().remove(e,"blacklist"))}(e)}(e),localStorage.setItem(Ty.key,wy(e)),My()(Oy,Ty)}())}const Vy=function(e){return(0,L.y$)(function(e){return(0,_.yF)((0,L.HY)({...Sy,router:(0,j.S6)(e)}))}(e),vy,Hy(e))};var qy=n(38093),Qy=n.n(qy),Wy=n(6527),Gy=n(24180),Ky=n(1081);const $y=function(){return(0,Ky.Mz)((e=>e.app.dimensions),(e=>e))},Yy=function(){return(0,Ky.Mz)((e=>e.system.status),(e=>e.item))},Jy=function(e,t){return e&&e.responseJSON&&e.responseJSON.message&&e.responseJSON.message||t},Xy={page:"ErrorPage-page-Jiv2O Page-page-TorHA",version:"ErrorPage-version-PGaC9"},Zy=function(e){const{version:t,isLocalStorageSupported:n,translationsError:s,authorError:o,customFiltersError:a,tagsError:r,qualityProfilesError:i,metadataProfilesError:l,uiSettingsError:c,systemStatusError:d}=e;let u="Failed to load Researcharr";return n?s?u=Jy(s,"Failed to load translations from API"):o?u=Jy(o,"Failed to load researcher from API"):a?u=Jy(a,"Failed to load custom filters from API"):r?u=Jy(r,"Failed to load tags from API"):i?u=Jy(i,"Failed to load quality profiles from API"):l?u=Jy(l,"Failed to load metadata profiles from API"):c?u=Jy(c,"Failed to load UI settings from API"):d&&(u=Jy(c,"Failed to load system status from API")):u="Local Storage is not supported or disabled. A plugin or private browsing may have disabled it.",R.createElement("div",{className:Xy.page},R.createElement("div",{className:Xy.errorMessage},u),R.createElement("div",{className:Xy.version},"Version ",t))};function eM({className:e,rippleClassName:t,size:n}){const s=`${n}px`,o=s,a=s;return R.createElement("div",{className:e,style:{height:a}},R.createElement("div",{className:Fo()("LoadingIndicator-rippleContainer-b3h1D","followingBalls"),style:{width:o,height:a}},R.createElement("div",{className:t,style:{width:o,height:a}}),R.createElement("div",{className:t,style:{width:o,height:a}}),R.createElement("div",{className:t,style:{width:o,height:a}})))}eM.defaultProps={className:"LoadingIndicator-loading-DWfav",rippleClassName:"LoadingIndicator-ripple-Dn9J1",size:50};const tM=eM,nM=["Downloading more RAM","Now in Technicolor","Previously on Readarr...","Bleep Bloop.","Locating the required gigapixels to render...","Spinning up the hamster wheel...","At least you're not on hold","Hum something loud while others stare","Loading humorous message... Please Wait","I could've been faster in Python","Don't forget to return your library books","Congratulations! You are the 1000th visitor.","HELP! I'm being held hostage and forced to write these stupid lines!","RE-calibrating the internet...","I'll be here all week","Don't forget to tip your waitress","Apply directly to the forehead","Loading Battlestation"];let sM=null;const oM=function(){if(!sM){const e=Math.floor(Math.random()*nM.length);sM=nM[e]}return R.createElement("div",{className:"LoadingMessage-loadingMessage-WU8sQ"},sM)},aM=function(){return R.createElement("div",{className:"LoadingPage-page-TN4QY Page-page-TorHA"},R.createElement("img",{className:"LoadingPage-logoFull-_XCIG",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+CgogPGc+CiAgPHRpdGxlPmJhY2tncm91bmQ8L3RpdGxlPgogIDxyZWN0IHg9Ii0xIiB5PSItMSIgd2lkdGg9IjEwMjYiIGhlaWdodD0iMTAyNiIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBmaWxsPSJub25lIi8+CiAgPGcgaWQ9ImNhbnZhc0dyaWQiIGRpc3BsYXk9Im5vbmUiPgogICA8cmVjdCBpZD0ic3ZnXzEiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9IjAiIHk9IjAiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0idXJsKCNncmlkcGF0dGVybikiLz4KICA8L2c+CiA8L2c+CiA8Zz4KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+CiAgPGVsbGlwc2UgZmlsbD0iI2VlZWVlZSIgc3Ryb2tlPSIjNDQzYzNjIiBzdHJva2Utd2lkdGg9IjEuNSIgY3g9IjUxMiIgY3k9IjUxMiIgaWQ9InN2Z18yIiByeD0iNTEwIiByeT0iNTEwIi8+CiAgPGVsbGlwc2UgZmlsbD0iIzQ0M2MzYyIgc3Ryb2tlLXdpZHRoPSIxLjUiIGN4PSI1MTIiIGN5PSI1MTIiIGlkPSJzdmdfMTEiIHJ4PSI0NDAiIHJ5PSI0NDAiIHN0cm9rZT0iIzQ0M2MzYyIvPgogIDxlbGxpcHNlIGZpbGw9IiM4ZTIyMjIiIHN0cm9rZS13aWR0aD0iMS41IiBjeD0iNTEyIiBjeT0iNTEyIiBpZD0ic3ZnXzEyIiByeD0iMzg3IiByeT0iMzg3IiBzdHJva2U9IiM0NDNjM2MiLz4KICA8ZWxsaXBzZSBmaWxsPSIjZWVlZWVlIiBzdHJva2U9IiM4ZTIyMjIiIHN0cm9rZS13aWR0aD0iMS41IiBjeD0iNTEyIiBjeT0iNTEyIiBpZD0ic3ZnXzEzIiByeD0iMzc4IiByeT0iMzc4Ii8+CiAgPGVsbGlwc2UgZmlsbD0iIzQ0M2MzYyIgc3Ryb2tlPSIjNDQzYzNjIiBzdHJva2Utd2lkdGg9IjEuNSIgY3g9IjUxMC42NjY2NjciIGN5PSI1MTMuMzMzMzMzIiBpZD0ic3ZnXzE0IiByeD0iMjY1IiByeT0iMjY1Ii8+CiAgPHBhdGggc3Ryb2tlPSIjOGUyMjIyIiBmaWxsPSIjZWVlZWVlIiBzdHJva2Utd2lkdGg9IjEwIiBkPSJtMTc1LjcxMDA1Myw2ODEuMjM3MjIxYzAsMCAtNS4wNzU2MDMsLTM1Ni4wMDcwNjYgLTUuNzEwMDQ2LC0zNTYuNjY1NTA2YzAuNjM0NDQ0LC01My4xMDU5IDE3LjQ5OTgyOSwtNDcuODI5Mzk2IDMwLjQ1MzYxNiwtNDkuNDA1MDZjMTk4LjU4Mjk4NSwxMC44MzAwNjUgMjcwLjkxMDMyOCw3MS4yNTE2NDQgMjc1LjM1MTQ4Nyw3My40OTkzNzhjMTMuMzIzNDU5LDUuMDE3NzE4IDIwLjkzNjg1NCwzMS43ODE1NDcgMjAuMzAyNDExLDMxLjEyMzEwOGMwLjYzNDQ0NCwwLjY1ODQzOSA0LjQ0MTE1OSw0MjAuNjAxNDcgMy44MDY2OTcsNDE5Ljk0MzAzMWMzLjE3MjI3MiwyMi40NTQ3NzggLTEzLjMyMzQ1OSwyMS4wMDE2OTEgLTEzLjk1NzkwMywyMC4zNDMyNTFjLTEyNC45ODY3MzcsLTk4LjE1MTY4MSAtMjk3LjU1NzI2NCwtMTIyLjg1NDIxMSAtMjk4LjE5MTcwOCwtMTIzLjUxMjY1MWMtMTIuMDU0NTU0LC0wLjc5NDY0NyAtMTIuMDU0NTU0LC0xNS4zMjU1NTIgLTEyLjA1NDU1NCwtMTUuMzI1NTUyeiIgaWQ9InN2Z18zIi8+CiAgPHBhdGggc3Ryb2tlPSIjOGUyMjIyIiBmaWxsPSIjZWVlZWVlIiBzdHJva2Utd2lkdGg9IjEwIiBkPSJtODQ1Ljc4OTE1Nyw2ODIuMDYzNjM3YzAsMCA1LjA3NjAyOCwtMzU2Ljg3NzcwNCA1LjcxMDU1NSwtMzU3LjUzNzc1OWMtMC42MzQ1MDgsLTUzLjIzNTc3NCAtMTcuNTAxMzUxLC00Ny45NDYzNjIgLTMwLjQ1NjI0NCwtNDkuNTI1ODc3Yy0xOTguNjAwMDMxLDEwLjg1NjU1MSAtMjcwLjkzMzU4Myw3MS40MjU4OTUgLTI3NS4zNzUxMjIsNzMuNjc5MTIyYy0xMy4zMjQ1OTcsNS4wMjk5ODcgLTIwLjkzODY0OSwzMS44NTkyNyAtMjAuMzA0MTUsMzEuMTk5MjI1Yy0wLjYzNDQ5OSwwLjY2MDA0NSAtNC40NDE1MzksNDIxLjYzMDA3NCAtMy44MDcwMjEsNDIwLjk3MDAyOWMtMy4xNzI1MjIsMjIuNTA5Njg4IDEzLjMyNDU5NywyMS4wNTMwNDcgMTMuOTU5MTA2LDIwLjM5MzAwMmMxMjQuOTk3NDQzLC05OC4zOTE3MTkgMjk3LjU4Mjc3OCwtMTIzLjE1NDY2MiAyOTguMjE3Mjg2LC0xMjMuODE0NzA4YzEyLjA1NTU5LC0wLjc5NjU5NiAxMi4wNTU1OSwtMTUuMzYzMDM0IDEyLjA1NTU5LC0xNS4zNjMwMzR6IiBpZD0ic3ZnXzQiLz4KICA8cGF0aCBzdHJva2U9IiM4ZTIyMjIiIGZpbGw9IiM4ZTIyMjIiIHN0cm9rZS13aWR0aD0iNSIgZD0ibTE3My4xMzU1OCw3MzguNTcwNTUyYzAsMCAtNS4xNTc1NSwtMzU2LjAwNzA3NCAtNS44MDIyNCwtMzU2LjY2NTUwOGMwLjY0NDY5LC01My4xMDU5IDE3Ljc4MjM4LC00Ny44Mjk0IDMwLjk0NTMyLC00OS40MDUwNjVjMjAxLjc4OTMxLDEwLjgzMDA2NCAyNzUuMjg0NDUsNzEuMjUxNjUgMjc5Ljc5NzMyLDczLjQ5OTM3NmMxMy41Mzg1OCw1LjAxNzcyMyAyMS4yNzQ5LDMxLjc4MTU0NyAyMC42MzAyMSwzMS4xMjMxMTNjMC42NDQ2OSwwLjY1ODQzNCA0LjUxMjg3LDQyMC42MDE0ODIgMy44NjgxNiw0MTkuOTQzMDM4YzMuMjIzNDksMjIuNDU0NzgyIC0xMy41Mzg1OCwyMS4wMDE2OTMgLTE0LjE4MzI3LDIwLjM0MzI1OGMtMTI3LjAwNDc3LC05OC4xNTE2ODYgLTMwMi4zNjE2MywtMTIyLjg1NDIxNCAtMzAzLjAwNjMxLC0xMjMuNTEyNjU4Yy0xMi4yNDkxOSwtMC43OTQ2NDYgLTEyLjI0OTE5LC0xNS4zMjU1NTQgLTEyLjI0OTE5LC0xNS4zMjU1NTR6IiBpZD0ic3ZnXzUiLz4KICA8cGF0aCBzdHJva2U9IiM4ZTIyMjIiIGZpbGw9IiM4ZTIyMjIiIHN0cm9rZS13aWR0aD0iNSIgZD0ibTg0OC4zNjM2NCw3MzkuMDYzNjUxYzAsMCA1LjE1Nzk4LC0zNTYuODc3NjkzIDUuODAyNzYsLTM1Ny41Mzc3NDdjLTAuNjQ0NzYsLTUzLjIzNTc2NiAtMTcuNzgzOTEsLTQ3Ljk0NjM1NiAtMzAuOTQ3OTYsLTQ5LjUyNTg3MWMtMjAxLjgwNjM2LDEwLjg1NjU1MiAtMjc1LjMwNzcxLDcxLjQyNTg5NCAtMjc5LjgyMDk2LDczLjY3OTEyYy0xMy41Mzk3Miw1LjAyOTk4MyAtMjEuMjc2NywzMS44NTkyNjUgLTIwLjYzMTk1LDMxLjE5OTIyMWMtMC42NDQ3NSwwLjY2MDA0NCAtNC41MTMyNSw0MjEuNjMwMDU1IC0zLjg2ODQ5LDQyMC45NzAwMTFjLTMuMjIzNzQsMjIuNTA5NjkxIDEzLjUzOTcyLDIxLjA1MzA0MSAxNC4xODQ0NywyMC4zOTI5OTdjMTI3LjAxNTQ5LC05OC4zOTE3MDggMzAyLjM4NzE2LC0xMjMuMTU0NjUzIDMwMy4wMzE5MSwtMTIzLjgxNDY5N2MxMi4yNTAyMiwtMC43OTY1OTYgMTIuMjUwMjIsLTE1LjM2MzAzMyAxMi4yNTAyMiwtMTUuMzYzMDMzeiIgaWQ9InN2Z182Ii8+CiA8L2c+Cjwvc3ZnPg=="}),R.createElement(oM,null),R.createElement(tM,null))};var rM=n(92010),iM=n.n(rM),lM=n(417);function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cM.apply(null,arguments)}class dM extends R.Component{constructor(e,t){super(e,t),this.state={error:null,info:null}}componentDidCatch(e,t){this.setState({error:e,info:t}),Ny.Cp(e)}render(){const{children:e,errorComponent:t,...n}=this.props,{error:s,info:o}=this.state;return s?R.createElement(t,cM({error:s,info:o},n)):e}}const uM=dM;var mM=n(41179);const hM=new(n.n(mM)())(window.navigator.userAgent);function pM(){return null!=hM.mobile()}function gM(){return hM.is("iOS")}let EM=0;function fM(){return"id-"+EM++}let CM=!1;function vM(e){CM=e}var SM=n(8139),bM=n.n(SM);const PM={container:"ErrorBoundaryError-container-u1Yk8",message:"ErrorBoundaryError-message-YnXdu",imageContainer:"ErrorBoundaryError-imageContainer-GMwwj",image:"ErrorBoundaryError-image-jfjKW",details:"ErrorBoundaryError-details-c3TVO",version:"ErrorBoundaryError-version-KXhFf"},yM=function(e){const{className:t=PM.container,messageClassName:n=PM.message,detailsClassName:s=PM.details,message:o=te("ErrorLoadingContent"),error:a,info:r}=e,[i,l]=(0,R.useState)(null);return(0,R.useEffect)((()=>{a?bM().fromError(a).then((e=>{l(e)})):l(null)}),[a,l]),R.createElement("div",{className:t},R.createElement("div",{className:n},o),R.createElement("div",{className:PM.imageContainer},R.createElement("img",{className:PM.image,src:`${window.Researcharr.urlBase}/Content/Images/error.png`})),R.createElement("details",{className:s},a?R.createElement("div",null,a.message):null,i?i.map(((e,t)=>R.createElement("div",{key:t},`  at ${e.functionName} (${e.fileName}:${e.lineNumber}:${e.columnNumber})`))):R.createElement("div",null,r.componentStack),R.createElement("div",{className:PM.version},"Version: ",window.Researcharr.version)))};var MM=n(54625);const IM=function(e){const{className:t,component:n="button",to:s,target:o,type:a,isDisabled:r,noRouter:i=!1,onPress:l,...c}=e,d=(0,R.useCallback)((e=>{!r&&l&&l(e)}),[r,l]),u={target:o};let m=n;s&&(/\w+?:\/\//.test(s)?(m="a",u.href=s,u.target=o||"_blank",u.rel="noreferrer"):i?(m="a",u.href=s,u.target=o||"_self"):(m=MM.N_,u.to=`${window.Researcharr.urlBase}/${s.replace(/^\//,"")}`,u.target=o)),"button"!==m&&"input"!==m||(u.type=a||"button",u.disabled=r),u.className=Fo()(t,"Link-link-RInnp",s&&"Link-to-kylTi",r&&"isDisabled");const h={...c,type:a,...u};return h.onClick=d,R.createElement(m,h)},kM={button:"Button-button-paJ9a Link-link-RInnp",danger:"Button-danger-vthZW",default:"Button-default-UXlBi",primary:"Button-primary-MZWFG",success:"Button-success-MO1fp",warning:"Button-warning-Ta5XG",small:"Button-small-aExXc",medium:"Button-medium-ZwfFe",large:"Button-large-W5TD4",left:"Button-left-XRzO_",center:"Button-center-tF4Zr",right:"Button-right-zEjWk"};function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OM.apply(null,arguments)}class wM extends R.Component{render(){const{className:e,buttonGroupPosition:t,kind:n,size:s,children:o,...a}=this.props;return R.createElement(IM,OM({className:Fo()(e,kM[n],kM[s],t&&kM[t])},a),o)}}wM.defaultProps={className:kM.button,kind:Zs,size:go};const TM=wM,NM={scroller:"Scroller-scroller-lhubq",none:"Scroller-none-lIEhI",vertical:"Scroller-vertical-OLDmS",autoScroll:"Scroller-autoScroll-RVZ6m",horizontal:"Scroller-horizontal-Od7JK",both:"Scroller-both-u6blh"};function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DM.apply(null,arguments)}class AM extends R.Component{constructor(e,t){super(e,t),this._setScrollerRef=e=>{this._scroller=e,this.props.registerScroller(e)},this._scroller=null}componentDidMount(){const{scrollDirection:e,autoFocus:t,scrollTop:n}=this.props;null!=this.props.scrollTop&&(this._scroller.scrollTop=n),t&&e!==lo&&this._scroller.focus({preventScroll:!0})}render(){const{className:e,scrollDirection:t,autoScroll:n,children:s,scrollTop:o,onScroll:a,registerScroller:r,...i}=this.props;return R.createElement("div",DM({ref:this._setScrollerRef,className:Fo()(e,NM.scroller,NM[t],n&&NM.autoScroll),tabIndex:-1},i),s)}}AM.defaultProps={scrollDirection:mo,autoFocus:!0,autoScroll:!0,registerScroller:()=>{}};const FM=AM;function xM(){return xM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xM.apply(null,arguments)}class RM extends R.Component{render(){const{innerClassName:e,scrollDirection:t,children:n,...s}=this.props;let o=this.props.className;const a=t!==lo;return o||(o=a?"ModalBody-modalScroller-Oqq2l":"ModalBody-modalBody-RVK6D"),R.createElement(FM,xM({className:o,scrollDirection:t,scrollTop:0},s),a?R.createElement("div",{className:e},n):n)}}RM.defaultProps={innerClassName:"ModalBody-innerModalBody-XiTXT",scrollDirection:mo};const BM=RM;function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LM.apply(null,arguments)}function jM(e){const{className:t,children:n,showCloseButton:s,onModalClose:o,...a}=e;return R.createElement("div",LM({className:t},a),s&&R.createElement(IM,{className:"ModalContent-closeButton-GYCdL",onPress:o},R.createElement(Lo,{name:Xt,size:18})),n)}jM.defaultProps={className:"ModalContent-modalContent-bdTLe",showCloseButton:!0};const _M=jM;function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zM.apply(null,arguments)}class UM extends R.Component{render(){const{children:e,...t}=this.props;return R.createElement("div",zM({className:"ModalFooter-modalFooter-wjkx5"},t),e)}}const HM=UM;function VM(){return VM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VM.apply(null,arguments)}class qM extends R.Component{render(){const{children:e,...t}=this.props;return R.createElement("div",VM({className:"ModalHeader-modalHeader-THPud"},t),e)}}const QM=qM;function WM(){return WM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WM.apply(null,arguments)}const GM=function(e){const{onModalClose:t,...n}=e;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,"Error"),R.createElement(BM,null,R.createElement(yM,WM({messageClassName:"ModalError-message-HZzN5 ErrorBoundaryError-message-YnXdu",detailsClassName:"ModalError-details-bpGAW ErrorBoundaryError-details-c3TVO"},n,{message:te("ThereWasAnErrorLoadingThisItem")}))),R.createElement(HM,null,R.createElement(TM,{onPress:t},"Close")))},KM={modalContainer:"Modal-modalContainer-xTUsI",modalBackdrop:"Modal-modalBackdrop-XqzNZ",modal:"Modal-modal-_3qBG",modalOpen:"Modal-modalOpen-pzkAX",modalOpenIOS:"Modal-modalOpenIOS-_maM4",small:"Modal-small-oEjjG Modal-modal-_3qBG",medium:"Modal-medium-keEoF Modal-modal-_3qBG",large:"Modal-large-EKpkE Modal-modal-_3qBG",extraLarge:"Modal-extraLarge-wEJo5 Modal-modal-_3qBG",extraExtraLarge:"Modal-extraExtraLarge-NtrWr Modal-modal-_3qBG"},$M=[];class YM extends R.Component{constructor(e,t){super(e,t),this._setBackgroundRef=e=>{this._backgroundRef=e},this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{const{closeOnBackgroundClick:t,onModalClose:n}=this.props;this._isBackdropPressed&&this._isBackdropTarget(e)&&t&&n(),this._isBackdropPressed=!1},this.onKeyDown=e=>{27===e.keyCode&&$M.indexOf(this._modalId)===$M.length-1&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose())},this._node=document.getElementById("portal-root"),this._backgroundRef=null,this._modalId=fM(),this._bodyScrollTop=0}componentDidMount(){this.props.isOpen&&this._openModal()}componentDidUpdate(e){const{isOpen:t}=this.props;!e.isOpen&&t?this._openModal():e.isOpen&&!t&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){if($M.push(this._modalId),window.addEventListener("keydown",this.onKeyDown),1===$M.length)if(gM()){vM(!0);const e=document.body.scrollTop;this._bodyScrollTop=e,iM()(document.body).add(KM.modalOpenIOS)}else iM()(document.body).add(KM.modalOpen)}_closeModal(){!function(e){const t=$M.indexOf(e);t>=0&&$M.splice(t,1)}(this._modalId),window.removeEventListener("keydown",this.onKeyDown),0===$M.length&&(vM(!1),gM()?(iM()(document.body).remove(KM.modalOpenIOS),document.body.scrollTop=this._bodyScrollTop):iM()(document.body).remove(KM.modalOpen))}_isBackdropTarget(e){const t=this._findEventTarget(e);return!!t&&B.findDOMNode(this._backgroundRef).isEqualNode(t)}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,style:t,backdropClassName:n,size:s,children:o,isOpen:a,onModalClose:r}=this.props;return a?B.createPortal(R.createElement(lM.Ay,{disabled:!1},R.createElement("div",{className:KM.modalContainer},R.createElement("div",{ref:this._setBackgroundRef,className:n,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress},R.createElement("div",{className:Fo()(e,KM[s]),style:t},R.createElement(uM,{errorComponent:GM,onModalClose:r},o))))),this._node):null}}YM.defaultProps={className:KM.modal,backdropClassName:KM.modalBackdrop,size:Eo,closeOnBackgroundClick:!0};const JM=YM;class XM extends R.Component{render(){const{className:e,data:t,blockClassName:n}=this.props,s=[];if(t){const e=RegExp(/\[(.+?)\]\((.+?)\)/g);let o=0,a=null;for(;null!==(a=e.exec(t));)a.index>o&&s.push(t.substr(o,a.index-o)),s.push(R.createElement(IM,{key:a.index,to:a[2]},a[1])),o=a.index+a[0].length;o!==t.length&&s.length>0&&s.push(t.substr(o,t.length-o));const r=RegExp(/(?=`)`(?!`)[^`]*(?=`)`(?!`)/g);o=0,a=null;let i=!1;for(;null!==(a=r.exec(t));)i=!0,a.index>o&&s.push(t.substr(o,a.index-o)),s.push(R.createElement("code",{key:`code-${a.index}`,className:null!=n?n:null},a[0].substring(1,a[0].length-1))),o=a.index+a[0].length;o!==t.length&&s.length>0&&i&&s.push(t.substr(o,t.length-o)),0===s.length&&s.push(t)}return R.createElement("span",{className:e},s)}}const ZM=XM,eI=function(e){const{title:t,changes:n}=e;if(0===n.length)return null;const s=[...new Set(n)];return R.createElement("div",null,R.createElement("div",{className:"UpdateChanges-title-iaqWz"},t),R.createElement("ul",null,s.map(((e,t)=>{const n=e.replace(/#\d{4,5}\b/g,(e=>`[${e}](https://github.com/Readarr/Readarr/issues/${e.substring(1)})`));return R.createElement("li",{key:t},R.createElement(ZM,{data:n}))}))))},tI=function(e){const{version:t,prevVersion:n,isPopulated:s,error:o,items:a,onSeeChangesPress:r,onModalClose:i}=e,l=function(e,t,n){let s=e.findIndex((e=>e.version===t)),o=e.findIndex((e=>e.version===n));-1===s&&(s=0),-1===o?o=e.length:o===s&&e.length&&(o+=1);const a=e.slice(s,o);if(!a.length)return null;const r={new:[],fixed:[]};a.forEach((e=>{e.changes&&(r.new.push(...e.changes.new),r.fixed.push(...e.changes.fixed))}));const i=Object.assign({},a[0],{changes:r});return r.new.length||r.fixed.length||(i.changes=null),i}(a,t,n);return R.createElement(_M,{onModalClose:i},R.createElement(QM,null,te("AppUpdated",{appName:"Readarr"})),R.createElement(BM,null,R.createElement("div",null,R.createElement(ZM,{data:te("AppUpdatedVersion",{appName:"Readarr",version:t}),blockClassName:"AppUpdatedModalContent-version-FNMj4"})),s&&!o&&!!l&&R.createElement("div",null,!l.changes&&R.createElement("div",{className:"AppUpdatedModalContent-maintenance-icjTi"},te("MaintenanceRelease")),!!l.changes&&R.createElement("div",null,R.createElement("div",{className:"AppUpdatedModalContent-changes-pxSEa"},te("WhatsNew")),R.createElement(eI,{title:te("New"),changes:l.changes.new}),R.createElement(eI,{title:te("Fixed"),changes:l.changes.fixed}))),!s&&!o&&R.createElement(tM,null)),R.createElement(HM,null,R.createElement(TM,{onPress:r},te("RecentChanges")),R.createElement(TM,{kind:so,onPress:i},te("Reload"))))};class nI extends R.Component{componentDidMount(){this.props.dispatchFetchUpdates()}componentDidUpdate(e){e.version!==this.props.version&&this.props.dispatchFetchUpdates()}render(){const{dispatchFetchUpdates:e,...t}=this.props;return R.createElement(tI,t)}}const sI=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app.version),(e=>e.app.prevVersion),(e=>e.system.updates),((e,t,n)=>{const{isPopulated:s,error:o,items:a}=n;return{version:e,prevVersion:t,isPopulated:s,error:o,items:a}}))}),(function(e,t){return{dispatchFetchUpdates(){e(Wb())},onSeeChangesPress(){window.location=`${window.Researcharr.urlBase}/system/updates`}}}))(nI),oI=(0,Wy.Ng)(null,(function(e,t){return{onModalClose(){location.reload()}}}))((function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,closeOnBackgroundClick:!1,onModalClose:n},R.createElement(sI,{onModalClose:n}))})),aI=R.createContext(!1),rI=aI.Consumer,iI=aI,lI=(0,Wy.Ng)(void 0,(function(e,t){return{onModalClose(){location.reload()}}}))((function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(_M,{onModalClose:n},R.createElement(QM,null,te("ConnectionLost")),R.createElement(BM,null,R.createElement("div",null,te("ConnectionLostToBackend",{appName:"Readarr"})),R.createElement("div",{className:"ConnectionLostModal-automatic-O5Z3a"},te("ConnectionLostReconnect",{appName:"Readarr"}))),R.createElement(HM,null,R.createElement(TM,{kind:so,onPress:n},te("Reload")))))}));var cI=n(81884);let dI=null,uI=[];function mI(e,t=[]){dI=e,uI=t}function hI(e){dI===e&&(dI=null,uI=[])}function pI(e){dI&&(e||dI(),e&&uI.includes(e)&&dI())}const gI=/\b\w+/g,EI=function(e){return e?e.replace(gI,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())):""},fI={dispatchFetchCommands:yc,dispatchUpdateCommand:Oc,dispatchFinishCommand:wc,dispatchSetAppValue:Re,dispatchSetVersion:Fe,dispatchUpdate:de,dispatchUpdateItem:ue,dispatchRemoveItem:pe,dispatchDeleteAuthorBooks:Ca,dispatchFetchAuthor:Ra,dispatchFetchHealth:jb,dispatchFetchQualityDefinitions:Xv,dispatchFetchQueue:hh,dispatchFetchQueueDetails:uh,dispatchFetchRootFolders:HS,dispatchFetchTags:gP,dispatchFetchTagDetails:CP};function CI(e){this.minimumLogLevel=e}CI.prototype.cleanse=function(e){const t=new RegExp(`access_token=${encodeURIComponent(window.Researcharr.apiKey)}`,"g");return e.replace(t,"access_token=(removed)")},CI.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case cI.LogLevel.Critical:case cI.LogLevel.Error:console.error(`[signalR] ${cI.LogLevel[e]}: ${this.cleanse(t)}`);break;case cI.LogLevel.Warning:console.warn(`[signalR] ${cI.LogLevel[e]}: ${this.cleanse(t)}`);break;case cI.LogLevel.Information:console.info(`[signalR] ${cI.LogLevel[e]}: ${this.cleanse(t)}`);break;default:console.log(`[signalR] ${cI.LogLevel[e]}: ${this.cleanse(t)}`)}};class vI extends R.Component{constructor(e,t){super(e,t),this.handleMessage=e=>{const{name:t,body:n}=e,s=this[function(e){return`handle${e=(e=EI(e)).replace("/","")}`}(t)];s?s(n):console.error(`signalR: Unable to find handler for ${t}`)},this.handleCalendar=e=>{"updated"===e.action&&this.props.dispatchUpdateItem({section:"calendar",updateOnly:!0,...e.resource})},this.handleCommand=e=>{if("sync"===e.action)return void this.props.dispatchFetchCommands();const t=e.resource,n=t.status;"completed"===n||"failed"===n?this.props.dispatchFinishCommand(t):this.props.dispatchUpdateCommand(t)},this.handleBook=e=>{const t=e.action,n="books";"updated"===t?this.props.dispatchUpdateItem({section:n,...e.resource}):"deleted"===t&&this.props.dispatchRemoveItem({section:n,id:e.resource.id})},this.handleBookfile=e=>{const t="bookFiles";"updated"===e.action?this.props.dispatchUpdateItem({section:t,...e.resource}):"deleted"===e.action&&(this.props.dispatchRemoveItem({section:t,id:e.resource.id}),pI("bookFileDeleted")),pI("bookFileUpdated")},this.handleHealth=()=>{this.props.dispatchFetchHealth()},this.handleAuthor=e=>{const t=e.action,n="authors";"updated"===t?this.props.dispatchUpdateItem({section:n,...e.resource}):"deleted"===t&&(this.props.dispatchRemoveItem({section:n,id:e.resource.id}),this.props.dispatchDeleteAuthorBooks({authorId:e.resource.id}))},this.handleQualitydefinition=()=>{this.props.dispatchFetchQualityDefinitions()},this.handleQueue=()=>{this.props.isQueuePopulated&&this.props.dispatchFetchQueue()},this.handleQueueDetails=()=>{this.props.dispatchFetchQueueDetails()},this.handleQueueStatus=e=>{this.props.dispatchUpdate({section:"queue.status",data:e.resource})},this.handleVersion=e=>{const t=e.version;this.props.dispatchSetVersion({version:t})},this.handleWantedCutoff=e=>{"updated"===e.action&&this.props.dispatchUpdateItem({section:"wanted.cutoffUnmet",updateOnly:!0,...e.resource})},this.handleWantedMissing=e=>{"updated"===e.action&&this.props.dispatchUpdateItem({section:"wanted.missing",updateOnly:!0,...e.resource})},this.handleSystemTask=()=>{this.props.dispatchFetchCommands()},this.handleRootfolder=e=>{"updated"===e.action&&this.props.dispatchUpdateItem({section:"settings.rootFolders",updateOnly:!0,...e.resource})},this.handleTag=e=>{if("sync"===e.action)return this.props.dispatchFetchTags(),void this.props.dispatchFetchTagDetails()},this.onStartFail=e=>{console.error("[signalR] failed to connect"),console.error(e),this.props.dispatchSetAppValue({isConnected:!1,isReconnecting:!1,isDisconnected:!1,isRestarting:!1})},this.onStart=()=>{console.debug("[signalR] connected"),this.props.dispatchSetAppValue({isConnected:!0,isReconnecting:!1,isDisconnected:!1,isRestarting:!1})},this.onReconnecting=()=>{this.props.dispatchSetAppValue({isReconnecting:!0})},this.onReconnected=()=>{const{dispatchFetchCommands:e,dispatchFetchAuthor:t,dispatchSetAppValue:n}=this.props;n({isConnected:!0,isReconnecting:!1,isDisconnected:!1,isRestarting:!1}),t(),e(),pI()},this.onClose=()=>{console.debug("[signalR] connection closed")},this.onReceiveMessage=e=>{console.debug("[signalR] received",e.name,e.body),this.handleMessage(e)},this.connection=null}componentDidMount(){console.log("[signalR] starting");const e=`${window.Researcharr.urlBase}/signalr/messages`;this.connection=(new cI.HubConnectionBuilder).configureLogging(new CI(cI.LogLevel.Information)).withUrl(`${e}?access_token=${encodeURIComponent(window.Researcharr.apiKey)}`).withAutomaticReconnect({nextRetryDelayInMilliseconds:e=>(e.elapsedMilliseconds>18e4&&this.props.dispatchSetAppValue({isDisconnected:!0}),1e3*Math.min(e.previousRetryCount,10))}).build(),this.connection.onreconnecting(this.onReconnecting),this.connection.onreconnected(this.onReconnected),this.connection.onclose(this.onClose),this.connection.on("receiveMessage",this.onReceiveMessage),this.connection.start().then(this.onStart,this.onStartFail)}componentWillUnmount(){this.connection.stop(),this.connection=null}render(){return null}}const SI=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app.isReconnecting),(e=>e.app.isDisconnected),(e=>e.queue.paged.isPopulated),((e,t,n)=>({isReconnecting:e,isDisconnected:t,isQueuePopulated:n})))}),fI)(vI);function bI(e){return{message:e.errorMessage,link:e.infoLink,detailedMessage:e.detailedDescription}}const PI=function(e,t,n){const s=function(e){return e&&400===e.status?U().cloneDeep(e.responseJSON):[]}(n),o=Object.assign({},e,t),a=U().reduce(o,((n,o,a)=>{if("fields"===a)return n;if("implementationName"===a)return n.implementationName=e[a],n;const r={value:e[a],errors:U().map(U().remove(s,(e=>e.propertyName.toLowerCase()===a.toLowerCase()&&!e.isWarning)),bI),warnings:U().map(U().remove(s,(e=>e.propertyName.toLowerCase()===a.toLowerCase()&&e.isWarning)),bI)};return t.hasOwnProperty(a)&&(r.previousValue=r.value,r.value=t[a],r.pending=!0),n[a]=r,n}),{}),r=U().reduce(e.fields,((e,n)=>{const o=Object.assign({pending:!1},n);return t.fields&&t.fields.hasOwnProperty(o.name)&&(o.previousValue=o.value,o.value=t.fields[o.name],o.pending=!0),o.errors=U().map(U().remove(s,(e=>e.propertyName.toLowerCase()===o.name.toLowerCase()&&!e.isWarning)),bI),o.warnings=U().map(U().remove(s,(e=>e.propertyName.toLowerCase()===o.name.toLowerCase()&&e.isWarning)),bI),e.push(o),e}),[]);return r.length&&(a.fields=r),{settings:a,validationErrors:U().filter(s,(e=>!e.isWarning)),validationWarnings:U().filter(s,(e=>e.isWarning)),hasPendingChanges:!U().isEmpty(t),hasSettings:!U().isEmpty(a),pendingChanges:t}},yI=function(e){return(0,Ky.Mz)((t=>t.settings[e]),(e=>{const{isFetching:t,isPopulated:n,error:s,item:o,pendingChanges:a,isSaving:r,saveError:i}=e;return{isFetching:t,isPopulated:n,error:s,isSaving:r,saveError:i,...PI(o,a,i)}}))},MI={alert:"Alert-alert-_KgnQ",danger:"Alert-danger-nugZ_",info:"Alert-info-BFcpa",success:"Alert-success-DPVBw",warning:"Alert-warning-K7oQl"};function II(){return II=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},II.apply(null,arguments)}function kI(e){const{className:t,kind:n,children:s,...o}=e;return R.createElement("div",II({className:Fo()(t,MI[n])},o),s)}kI.defaultProps={className:MI.alert,kind:to};const OI=kI;function wI(e,t,n){let s=0;return R.Children.map(e,(e=>R.isValidElement(e)?t.call(n,e,s++):e))}const TI={group:"FormGroup-group-UkYsg",extraSmall:"FormGroup-extraSmall-Xgs0f",small:"FormGroup-small-cZTV8",medium:"FormGroup-medium-HIpH5",large:"FormGroup-large-qJv2k"};function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NI.apply(null,arguments)}function DI(e){const{className:t,children:n,size:s,advancedSettings:o,isAdvanced:a,...r}=e;if(!o&&a)return null;const i=a?{isAdvanced:a}:{};return R.createElement("div",NI({className:Fo()(t,TI[s])},r),wI(n,(e=>R.cloneElement(e,i))))}DI.defaultProps={className:TI.group,size:po,advancedSettings:!1,isAdvanced:!1};const AI=DI;var FI=n(15339),xI=n.n(FI),RI=n(62243),BI=n.n(RI),LI=n(22884),jI=n(77550),_I=n(16802),zI=n(5556),UI=n.n(zI);function HI(e){const{children:t,target:n}=e;return B.createPortal(t,n)}HI.propTypes={children:UI().node.isRequired,target:UI().object.isRequired},HI.defaultProps={target:document.getElementById("portal-root")};const VI=HI,qI="AutoSuggestInput-suggestionsContainerOpen-qrEjQ";function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QI.apply(null,arguments)}class WI extends R.Component{constructor(e,t){super(e,t),this.renderInputComponent=e=>{const{renderInputComponent:t}=this.props;return R.createElement(LI.A,null,(({ref:n})=>t?t(e,n):R.createElement("div",{ref:n},R.createElement("input",e))))},this.renderSuggestionsContainer=({containerProps:e,children:t})=>R.createElement(VI,null,R.createElement(jI.Ay,{placement:"bottom-start",modifiers:{computeMaxHeight:{order:851,enabled:!0,fn:this.onComputeMaxHeight},flip:{padding:this.props.minHeight}}},(({ref:n,style:s,scheduleUpdate:o})=>(this._scheduleUpdate=o,R.createElement("div",{ref:n,style:s,className:t?qI:void 0},R.createElement("div",QI({},e,{style:{maxHeight:s.maxHeight}}),t)))))),this.onComputeMaxHeight=e=>{const{top:t,bottom:n,width:s}=e.offsets.reference,o=window.innerHeight;return/^botton/.test(e.placement)?e.styles.maxHeight=o-n:e.styles.maxHeight=t,e.styles.width=s,e},this.onInputChange=(e,{newValue:t})=>{this.props.onChange({name:this.props.name,value:t})},this.onInputKeyDown=e=>{const{name:t,value:n,suggestions:s,onChange:o}=this.props;"Tab"===e.key&&s.length&&s[0]!==this.props.value&&(e.preventDefault(),n&&o({name:t,value:s[0]}))},this._scheduleUpdate=null}componentDidUpdate(e){this._scheduleUpdate&&e.suggestions!==this.props.suggestions&&this._scheduleUpdate()}render(){const{forwardedRef:e,className:t,inputContainerClassName:n,name:s,value:o,placeholder:a,suggestions:r,hasError:i,hasWarning:l,getSuggestionValue:c,renderSuggestion:d,onInputChange:u,onInputKeyDown:m,onInputFocus:h,onInputBlur:p,onSuggestionsFetchRequested:g,onSuggestionsClearRequested:E,onSuggestionSelected:f,...C}=this.props,v={className:Fo()(t,i&&"AutoSuggestInput-hasError-TzeMk Input-hasError-_3DW5",l&&"AutoSuggestInput-hasWarning-c6pm0 Input-hasWarning-K_6E_"),name:s,value:o,placeholder:a,autoComplete:"off",spellCheck:!1,onChange:u||this.onInputChange,onKeyDown:m||this.onInputKeyDown,onFocus:h,onBlur:p},S={container:n,containerOpen:qI,suggestionsContainer:"AutoSuggestInput-suggestionsContainer-IdHtU",suggestionsList:"AutoSuggestInput-suggestionsList-Uq7sG",suggestion:"AutoSuggestInput-suggestion-zjy1f",suggestionHighlighted:"AutoSuggestInput-suggestionHighlighted-KrGhN"};return R.createElement(_I.Ay,null,R.createElement(BI(),QI({},C,{ref:e,id:s,inputProps:v,theme:S,suggestions:r,getSuggestionValue:c,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,renderSuggestion:d,onSuggestionSelected:f,onSuggestionsFetchRequested:g,onSuggestionsClearRequested:E})))}}WI.defaultProps={className:"AutoSuggestInput-input-Irz_T Input-input-KWeec",inputContainerClassName:"AutoSuggestInput-inputContainer-MKwJ1",enforceMaxHeight:!0,minHeight:50,maxHeight:200};const GI=WI;function KI(){return KI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KI.apply(null,arguments)}class $I extends R.Component{constructor(e,t){super(e,t),this.onInputChange=(e,{newValue:t})=>{this.props.onChange({name:this.props.name,value:t})},this.onInputBlur=()=>{this.setState({suggestions:[]})},this.onSuggestionsFetchRequested=({value:e})=>{const{values:t}=this.props,n=xI().replace(e).toLowerCase(),s=t.filter((e=>xI().replace(e).toLowerCase().contains(n)));this.setState({suggestions:s})},this.onSuggestionsClearRequested=()=>{this.setState({suggestions:[]})},this.state={suggestions:[]}}getSuggestionValue(e){return e}renderSuggestion(e){return e}render(){const{name:e,value:t,...n}=this.props,{suggestions:s}=this.state;return R.createElement(GI,KI({},n,{name:e,value:t,suggestions:s,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onInputBlur:this.onInputBlur,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested}))}}$I.defaultProps={value:""};const YI=$I;function JI(){return JI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},JI.apply(null,arguments)}class XI extends R.Component{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange({name:this.props.name,value:e.target.value})}}render(){const{className:e,disabledClassName:t,name:n,value:s,values:o,isDisabled:a,hasError:r,hasWarning:i,autoFocus:l,onBlur:c}=this.props;return R.createElement("select",{className:Fo()(e,r&&"SelectInput-hasError-e0Agk Input-hasError-_3DW5",i&&"SelectInput-hasWarning-zCkL1 Input-hasWarning-K_6E_",a&&t),disabled:a,name:n,value:s,autoFocus:l,onChange:this.onChange,onBlur:c},o.map((e=>{const{key:t,value:n,isDisabled:s=!1,...o}=e;return R.createElement("option",JI({key:t,value:t,disabled:s},o),"function"==typeof n?n():n)})))}}XI.defaultProps={className:"SelectInput-select-M6gsU Input-input-KWeec",disabledClassName:"SelectInput-isDisabled-OTdBg",isDisabled:!1,autoFocus:!1};const ZI=XI;function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ek.apply(null,arguments)}class tk extends R.Component{constructor(...e){super(...e),this.onChange=({name:e,value:t})=>{const{bookEditions:n}=this.props,s=U().map(n.value,(e=>({...e,monitored:!1})));U().find(s,{foreignEditionId:t}).monitored=!0,this.props.onChange({name:e,value:s})}}render(){return R.createElement(ZI,ek({},this.props,{onChange:this.onChange}))}}const nk=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{bookEditions:t})=>t),(e=>{const t=U().map(e.value,(e=>{let t=`${e.title}`;e.disambiguation&&(t=`${t} (${EI(e.disambiguation)})`);const n=[];return e.language&&n.push(e.language),e.publisher&&n.push(e.publisher),e.isbn13&&n.push(e.isbn13),e.format&&n.push(e.format),e.pageCount>0&&n.push(`${e.pageCount}p`),n&&(t=`${t} [${n.join(", ")}]`),{key:e.foreignEditionId,value:t}}));return{values:U().orderBy(t,["value"]),value:U().find(e.value,{monitored:!0}).foreignEditionId}}))}))(tk);function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sk.apply(null,arguments)}class ok extends R.Component{render(){const{className:e,children:t,...n}=this.props;return R.createElement("td",sk({className:e},n),t)}}ok.defaultProps={className:"TableRowCell-cell-giPrj"};const ak=ok;function rk(e){const{className:t,text:n,link:s,tooltip:o,isError:a,isWarning:r,isCheckInput:i}=e;return R.createElement("div",{className:Fo()(t,a&&"FormInputHelpText-isError-JjyAg",r&&"FormInputHelpText-isWarning-f3T6M",i&&"FormInputHelpText-isCheckInput-zYt2f")},n,s?R.createElement(IM,{className:"FormInputHelpText-link-YQ2vD Link-link-RInnp",to:s,title:o},R.createElement(Lo,{name:pn})):null,!s&&o?R.createElement(Lo,{containerClassName:"FormInputHelpText-details-sqWRq",name:kn,title:o}):null)}rk.defaultProps={className:"FormInputHelpText-helpText-Z2REp",isError:!1,isWarning:!1,isCheckInput:!1};const ik=rk,lk={container:"CheckInput-container-FXKYv",label:"CheckInput-label-JQ5QV",checkbox:"CheckInput-checkbox-WEQ3S",input:"CheckInput-input-VAM1T",dangerIsChecked:"CheckInput-dangerIsChecked-Un0dj",isDisabled:"CheckInput-isDisabled-DGdm7",primaryIsChecked:"CheckInput-primaryIsChecked-bUxcU",successIsChecked:"CheckInput-successIsChecked-PjC9g",warningIsChecked:"CheckInput-warningIsChecked-YkKmG",isNotChecked:"CheckInput-isNotChecked-DeQ7b",isIndeterminate:"CheckInput-isIndeterminate-YIxOB",helpText:"CheckInput-helpText-Cofbn FormInputHelpText-helpText-Z2REp"};class ck extends R.Component{constructor(e,t){super(e,t),this.toggleChecked=(e,t)=>{const{name:n,value:s,checkedValue:o,uncheckedValue:a}=this.props,r=e?o:a;s!==r&&this.props.onChange({name:n,value:r,shiftKey:t})},this.setRef=e=>{this._checkbox=e},this.onClick=e=>{if(this.props.isDisabled)return;const t=e.nativeEvent.shiftKey,n=!this._checkbox.checked;e.preventDefault(),this.toggleChecked(n,t)},this.onChange=e=>{const t=e.target.checked,n=e.nativeEvent.shiftKey;this.toggleChecked(t,n)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(!this._checkbox)return;const{value:e,uncheckedValue:t,checkedValue:n}=this.props;this._checkbox.indeterminate=e!==t&&e!==n}render(){const{className:e,containerClassName:t,name:n,value:s,checkedValue:o,uncheckedValue:a,helpText:r,helpTextWarning:i,isDisabled:l,kind:c}=this.props,d=s===o,u=!(d||s===a),m=`${c}IsChecked`;return R.createElement("div",{className:t},R.createElement("label",{className:lk.label,onClick:this.onClick},R.createElement("input",{ref:this.setRef,className:lk.checkbox,type:"checkbox",name:n,checked:d,disabled:l,onChange:this.onChange}),R.createElement("div",{className:Fo()(e,d?lk[m]:lk.isNotChecked,u&&lk.isIndeterminate,l&&lk.isDisabled)},d&&R.createElement(Lo,{name:qt}),u&&R.createElement(Lo,{name:Qt})),r&&R.createElement(ik,{className:lk.helpText,text:r}),!r&&i&&R.createElement(ik,{className:lk.helpText,text:i,isWarning:!0})))}}ck.defaultProps={className:lk.input,containerClassName:lk.container,checkedValue:!0,uncheckedValue:!1,kind:so};const dk=ck;function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uk.apply(null,arguments)}class mk extends R.Component{constructor(...e){super(...e),this.onChange=({value:e,shiftKey:t},n,s,o,a)=>{const{id:r,onSelectedChange:i}=this.props;i({id:r,value:e,shiftKey:t})}}componentDidMount(){const{id:e,isSelected:t,onSelectedChange:n}=this.props;n({id:e,value:t})}componentWillUnmount(){const{id:e,onSelectedChange:t}=this.props;t({id:e,value:null})}render(){const{className:e,id:t,isSelected:n,...s}=this.props;return R.createElement(ak,{className:e},R.createElement(dk,uk({className:"TableSelectCell-input-YHSWy CheckInput-input-VAM1T",name:t.toString(),value:n},s,{onChange:this.onChange})))}}mk.defaultProps={className:"TableSelectCell-selectCell-ip5ko TableRowCell-cell-giPrj",isSelected:!1};const hk=mk;function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pk.apply(null,arguments)}function gk(e){const{className:t,iconClassName:n,name:s,kind:o,size:a,isSpinning:r,isDisabled:i,...l}=e;return R.createElement(IM,pk({className:Fo()(t,i&&"IconButton-isDisabled-qx70J"),"aria-label":"Table Options Button",isDisabled:i},l),R.createElement(Lo,{className:n,name:s,kind:o,size:a,isSpinning:r}))}gk.defaultProps={className:"IconButton-button-t4C5V Link-link-RInnp",size:12};const Ek=gk;var fk=n(13019),Ck=n(75872);function vk(e){const{children:t,validationErrors:n,validationWarnings:s,...o}=e;return R.createElement("div",null,n.length||s.length?R.createElement("div",{className:"Form-validationFailures-wVc3a"},n.map(((e,t)=>R.createElement(OI,{key:t,kind:Xs},e.errorMessage))),s.map(((e,t)=>R.createElement(OI,{key:t,kind:ro},e.errorMessage)))):null,t)}vk.defaultProps={validationErrors:[],validationWarnings:[]};const Sk=vk,bk={label:"FormLabel-label-gwvhu",hasError:"FormLabel-hasError-Q3yuI",isAdvanced:"FormLabel-isAdvanced-EuOsg",small:"FormLabel-small-SkLXp",large:"FormLabel-large-KjVUJ"};function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pk.apply(null,arguments)}function yk(e){const{children:t,className:n,errorClassName:s,size:o,name:a,hasError:r,isAdvanced:i,...l}=e;return R.createElement("label",Pk({},l,{className:Fo()(n,bk[o],r&&s,i&&bk.isAdvanced),htmlFor:a}),t)}yk.defaultProps={className:bk.label,errorClassName:bk.hasError,isAdvanced:!1,size:Eo};const Mk=yk,Ik=function(e){const{name:t,label:n,isVisible:s,isModifiable:o,isDragging:a,connectDragSource:r,onVisibleChange:i}=e;return R.createElement("div",{className:o?void 0:"TableOptionsColumn-notDragable-nSG4k"},R.createElement("div",{className:Fo()("TableOptionsColumn-column-Ek0f4",a&&"TableOptionsColumn-isDragging-Zz7RX")},R.createElement("label",{className:"TableOptionsColumn-label-Dye87"},R.createElement(dk,{containerClassName:"TableOptionsColumn-checkContainer-y0Oh2",name:t,value:s,isDisabled:!1===o,onChange:i}),"function"==typeof n?n():n),!!r&&r(R.createElement("div",{className:"TableOptionsColumn-dragHandle-LrZSw"},R.createElement(Lo,{className:"TableOptionsColumn-dragIcon-sjJF_",name:$n})))))};var kk=n(53936);function Ok({children:e,...t}){return R.createElement("div",t,e)}Ok.defaultProps={className:"DragPreviewLayer-dragLayer-lJxaW"};const wk=Ok,Tk="qualityProfileItem",Nk="delayProfile",Dk="tableColumn";var Ak=n(69462),Fk=n.n(Ak);function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xk.apply(null,arguments)}const Rk=parseInt(Fk().formGroupSmallWidth),Bk=parseInt(Fk().formLabelLargeWidth),Lk=parseInt(Fk().formLabelRightMarginWidth),jk=parseInt(Fk().dragHandleWidth);class _k extends R.Component{render(){const{item:e,itemType:t,currentOffset:n}=this.props;if(!n||t!==Dk)return null;const{x:s,y:o}=n,a=`translate3d(${s-(Rk-Bk-Lk-jk)}px, ${o}px, 0)`,r={position:"absolute",WebkitTransform:a,msTransform:a,transform:a};return R.createElement(wk,null,R.createElement("div",{className:"TableOptionsColumnDragPreview-dragPreview-rMhuQ",style:r},R.createElement(Ik,xk({isDragging:!1},e))))}}const zk=(0,kk.M)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(_k);var Uk=n(35425),Hk=n(23415);const Vk={columnDragSource:"TableOptionsColumnDragSource-columnDragSource-AJsPg",columnPlaceholder:"TableOptionsColumnDragSource-columnPlaceholder-CGz6l",columnPlaceholderBefore:"TableOptionsColumnDragSource-columnPlaceholderBefore-O5xwl",columnPlaceholderAfter:"TableOptionsColumnDragSource-columnPlaceholderAfter-rdEel"},qk={beginDrag:e=>e,endDrag(e,t,n){e.onColumnDragEnd(t.getItem(),t.didDrop())}},Qk={hover(e,t,n){const s=t.getItem().index,o=e.index,a=(0,B.findDOMNode)(n).getBoundingClientRect(),r=(a.bottom-a.top)/2,i=t.getClientOffset().y-a.top;s!==o&&(s<o&&i<r||s>o&&i>r||e.onColumnDragMove(s,o))}};class Wk extends R.Component{render(){const{name:e,label:t,isVisible:n,isModifiable:s,index:o,isDragging:a,isDraggingUp:r,isDraggingDown:i,isOver:l,connectDragSource:c,connectDropTarget:d,onVisibleChange:u}=this.props,m=!a&&r&&l,h=!a&&i&&l;return d(R.createElement("div",{className:Fo()(Vk.columnDragSource,m&&Vk.isDraggingUp,h&&Vk.isDraggingDown)},m&&R.createElement("div",{className:Fo()(Vk.columnPlaceholder,Vk.columnPlaceholderBefore)}),R.createElement(Ik,{name:e,label:"function"==typeof t?t():t,isVisible:n,isModifiable:s,index:o,isDragging:a,isOver:l,connectDragSource:c,onVisibleChange:u}),h&&R.createElement("div",{className:Fo()(Vk.columnPlaceholder,Vk.columnPlaceholderAfter)})))}}const Gk=(0,Uk.T)(Dk,Qk,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Hk.I)(Dk,qk,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Wk));class Kk extends R.Component{constructor(e,t){super(e,t),this.onPageSizeChange=({value:e})=>{let t=null;e<5?t="Page size must be at least 5":e>250?t="Page size must not exceed 250":this.props.onTableOptionChange({pageSize:e}),this.setState({pageSize:e,pageSizeError:t})},this.onVisibleChange=({name:e,value:t})=>{const n=U().cloneDeep(this.props.columns);U().find(n,{name:e}).isVisible=t,this.props.onTableOptionChange({columns:n})},this.onColumnDragMove=(e,t)=>{this.state.dragIndex===e&&this.state.dropIndex===t||this.setState({dragIndex:e,dropIndex:t})},this.onColumnDragEnd=({id:e},t)=>{const{dragIndex:n,dropIndex:s}=this.state;if(t&&null!==s){const e=U().cloneDeep(this.props.columns),t=e.splice(n,1);e.splice(s,0,t[0]),this.props.onTableOptionChange({columns:e})}this.setState({dragIndex:null,dropIndex:null})},this.state={hasPageSize:!!e.pageSize,pageSize:e.pageSize,pageSizeError:null,dragIndex:null,dropIndex:null}}componentDidUpdate(e){e.pageSize!==this.state.pageSize&&this.setState({pageSize:this.props.pageSize})}render(){const{isOpen:e,columns:t,canModifyColumns:n,optionsComponent:s,onTableOptionChange:o,onModalClose:a}=this.props,{hasPageSize:r,pageSize:i,pageSizeError:l,dragIndex:c,dropIndex:d}=this.state,u=null!==d,m=u&&d<c,h=u&&d>c;return R.createElement(fk.QP,{options:Ck.A},R.createElement(JM,{isOpen:e,onModalClose:a},e?R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Table Options"),R.createElement(BM,null,R.createElement(Sk,null,r?R.createElement(AI,null,R.createElement(Mk,null,te("PageSize")),R.createElement(ED,{type:Fs,name:"pageSize",value:i||0,helpText:te("PageSizeHelpText"),errors:l?[{message:l}]:void 0,onChange:this.onPageSizeChange})):null,s?R.createElement(s,{onTableOptionChange:o}):null,n?R.createElement(AI,null,R.createElement(Mk,null,te("Columns")),R.createElement("div",null,R.createElement(ik,{text:"Choose which columns are visible and which order they appear in"}),R.createElement("div",{className:"TableOptionsModal-columns-PtB2N"},t.map(((e,t)=>{const{name:n,label:s,columnLabel:o,isVisible:a,isModifiable:r}=e;return!1!==r?R.createElement(Gk,{key:n,name:n,label:o||s,isVisible:a,isModifiable:!0,index:t,isDragging:u,isDraggingUp:m,isDraggingDown:h,onVisibleChange:this.onVisibleChange,onColumnDragMove:this.onColumnDragMove,onColumnDragEnd:this.onColumnDragEnd}):R.createElement(Ik,{key:n,name:n,label:o||s,isVisible:a,index:t,isModifiable:!1,onVisibleChange:this.onVisibleChange})})),R.createElement(zk,null)))):null)),R.createElement(HM,null,R.createElement(TM,{onPress:a},"Close"))):null))}}Kk.defaultProps={canModifyColumns:!0};const $k=Kk;function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yk.apply(null,arguments)}class Jk extends R.Component{constructor(e,t){super(e,t),this.onTableOptionsPress=()=>{this.setState({isTableOptionsModalOpen:!0})},this.onTableOptionsModalClose=()=>{this.setState({isTableOptionsModalOpen:!1})},this.state={isTableOptionsModalOpen:!1}}render(){const{columns:e,children:t,...n}=this.props;return R.createElement(R.Fragment,null,R.cloneElement(t,{onPress:this.onTableOptionsPress}),R.createElement($k,Yk({},n,{isOpen:this.state.isTableOptionsModalOpen,columns:e,onModalClose:this.onTableOptionsModalClose})))}}const Xk=Jk;class Zk extends R.Component{render(){const{children:e}=this.props;return R.createElement("thead",null,R.createElement("tr",null,e))}}const eO=Zk;function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tO.apply(null,arguments)}class nO extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,fixedSortDirection:t}=this.props;t?this.props.onSortPress(e,t):this.props.onSortPress(e)}}render(){const{className:e,name:t,label:n,columnLabel:s,isSortable:o,isVisible:a,isModifiable:r,sortKey:i,sortDirection:l,fixedSortDirection:c,children:d,onSortPress:u,...m}=this.props,h=o&&i===t,p=l===vo?ds:us;return o?R.createElement(IM,tO({},m,{component:"th",className:e,label:"function"==typeof n?n():n,title:"function"==typeof s?s():s,onPress:this.onPress}),d,h&&R.createElement(Lo,{name:p,className:"TableHeaderCell-sortIcon-zaT8O"})):R.createElement("th",{className:e},d)}}nO.defaultProps={className:"TableHeaderCell-headerCell-aJDuw",isSortable:!1};const sO=nO,oO=function(e){const{allSelected:t,allUnselected:n,onSelectAllChange:s}=e,o=function(e,t){return!!e||!t&&null}(t,n);return R.createElement(sO,{className:"TableSelectAllHeaderCell-selectAllHeaderCell-jSJyZ VirtualTableHeaderCell-headerCell-oq_lz",name:"selectAll"},R.createElement(dk,{className:"TableSelectAllHeaderCell-input-UDHSn CheckInput-input-VAM1T",name:"selectAll",value:o,onChange:s}))},aO={tableContainer:"Table-tableContainer-QgrKY",horizontalScroll:"Table-horizontalScroll-pEqaG",table:"Table-table-uAtH3"};function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rO.apply(null,arguments)}const iO=["sortKey","sortDirection"];function lO(e){const{className:t,horizontalScroll:n,selectAll:s,columns:o,optionsComponent:a,pageSize:r,canModifyColumns:i,children:l,onSortPress:c,onTableOptionChange:d,...u}=e;return R.createElement(FM,{className:Fo()(aO.tableContainer,n&&aO.horizontalScroll),scrollDirection:n?uo:lo,autoFocus:!1},R.createElement("table",{className:t},R.createElement(eO,null,s?R.createElement(oO,u):null,o.map((e=>{const{name:t,isVisible:n}=e;return n?"actions"!==t&&"details"!==t||!d?R.createElement(sO,rO({key:e.name,onSortPress:c},function(e){return U().reduce(iO,((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}(u),e),"function"==typeof e.label?e.label():e.label):R.createElement(sO,rO({key:t,className:aO[t],name:t,isSortable:!1},u),R.createElement(Xk,{columns:o,optionsComponent:a,pageSize:r,canModifyColumns:i,onTableOptionChange:d},R.createElement(Ek,{name:At}))):null}))),l))}lO.defaultProps={className:aO.table,horizontalScroll:!0,selectAll:!1};const cO=lO;class dO extends R.Component{render(){const{children:e}=this.props;return R.createElement("tbody",null,e)}}const uO=dO;function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mO.apply(null,arguments)}function hO(e){const{className:t,children:n,overlayContent:s,...o}=e;return R.createElement("tr",mO({className:t},o),n)}hO.defaultProps={className:"TableRow-row-lgbLy"};const pO=hO;UI().oneOfType([UI().bool,UI().number,UI().string]).isRequired,UI().oneOfType([UI().number,UI().string]).isRequired;const gO=function(e,{parseIds:t=!0}={}){return U().reduce(e,((e,n,s)=>{if(n){const n=t?parseInt(s):s;e.push(n)}return e}),[])},EO=function(e,t){const n=U().reduce(Object.keys(e),((e,n)=>(e[n]=t,e)),{});return{allSelected:t,allUnselected:!t,lastToggled:null,selectedState:n}};function fO(e){let t=!0,n=!0;return Object.keys(e).forEach((s=>{e[s]?n=!1:t=!1})),{allSelected:t,allUnselected:n}}const CO=function(e,t,n){const s=U().findIndex(e,{id:n}),o=U().findIndex(e,{id:t});let a=0,r=0;return s>o?(a=o,r=s+1):(a=s,r=o),{lower:a,upper:r}},vO=function(e,t,n,s,o){const a=e.lastToggled,r={...e.selectedState,[n]:s};if(null==s&&delete r[n],o&&a){const{lower:e,upper:o}=CO(t,n,a);for(let n=e;n<o;n++)r[t[n].id]=s}return{...fO(r),lastToggled:n,selectedState:r}},SO={bookshelfInputWrapper:"BookshelfInput-bookshelfInputWrapper-x35gL",input:"BookshelfInput-input-l06tm TagInput-input-WFs2s AutoSuggestInput-input-Irz_T Input-input-KWeec Input-hasButton-XcYCR"},bO=[{name:"name",label:"Bookshelf",isSortable:!1,isVisible:!0}];class PO extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState,{parseIds:!1}),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState(((s,o)=>vO(s,o.items,e,t,n)))};const n=U().mapValues(U().keyBy(e.value),(()=>!0));this.state={allSelected:!1,allUnselected:!1,selectedState:n}}componentDidUpdate(e,t){const{name:n,onChange:s}=this.props,o=gO(t.selectedState,{parseIds:!1}).sort(),a=this.getSelectedIds().sort();U().isEqual(o,a)||s({name:n,value:a})}render(){const{className:e,helptext:t,items:n,user:s,isFetching:o,isPopulated:a}=this.props,{allSelected:r,allUnselected:i,selectedState:l}=this.state;return R.createElement("div",{className:e},o&&R.createElement(tM,null),!a&&!o&&R.createElement("div",null,"Authenticate to retrieve collections."),a&&!o&&!s&&R.createElement("div",null,"Could not retrieve data. Try re-authenticating."),a&&!o&&s&&!n.length&&R.createElement("div",null,"No collections found for user ",s,"."),a&&!o&&s&&!!n.length&&R.createElement("div",{className:e},t,R.createElement(cO,{columns:bO,selectAll:!0,allSelected:r,allUnselected:i,onSelectAllChange:this.onSelectAllChange},R.createElement(uO,null,n.map((e=>R.createElement(pO,{key:e.id},R.createElement(hk,{id:e.id,isSelected:l[e.id],onSelectedChange:this.onSelectedChange}),R.createElement(ak,{className:SO.relativePath,title:e.name},e.name))))))))}}PO.defaultProps={className:SO.bookshelfInputWrapper,inputClassName:SO.input,isPopulated:!1};const yO=PO;function MO(){return MO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},MO.apply(null,arguments)}const IO={dispatchFetchOptions:Lm,dispatchClearOptions:jm};class kO extends R.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this._getAccessToken(this.props)&&this._populate()},this.componentWillUnmount=()=>{this.props.dispatchClearOptions({section:"bookshelves"})}}componentDidUpdate(e,t){const n=this._getAccessToken(this.props),s=this._getAccessToken(e);n&&n!==s&&this._populate()}_populate(){const{provider:e,providerData:t,dispatchFetchOptions:n,name:s}=this.props;n({section:"bookshelves",action:"getBookshelves",queryParams:{name:s},provider:e,providerData:t})}_getAccessToken(e){return U().filter(e.providerData.fields,{name:"accessToken"})[0].value}render(){return R.createElement(yO,MO({},this.props,{onRefreshPress:this.onRefreshPress}))}}const OO=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.providerOptions.bookshelves||xm),((e,t)=>t.name),((e,t)=>{const{items:n,...s}=e;return{helptext:n&&n.helptext&&n.helptext[t]?n.helptext[t]:"",user:n&&n.user?n.user:"",items:n&&n.shelves?n.shelves:[],...s}}))}),IO)(kO);var wO=n(73413);const TO="SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp";function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NO.apply(null,arguments)}function DO(e){const{className:t,isSpinning:n,isDisabled:s,spinnerIcon:o,children:a,...r}=e;return R.createElement(TM,NO({className:Fo()(t,TO,n&&"SpinnerButton-isSpinning-DGQnw"),isDisabled:s||n},r),R.createElement("span",{className:"SpinnerButton-spinnerContainer-GOQ2V"},R.createElement(Lo,{className:"SpinnerButton-spinner-hbCOH",name:o,isSpinning:!0})),R.createElement("span",{className:"SpinnerButton-label-YD8Ey"},a))}DO.defaultProps={className:TO,spinnerIcon:ms};const AO=DO,FO="FormInputButton-middleButton-n2rOv";function xO(){return xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xO.apply(null,arguments)}function RO(e){const{className:t,canSpin:n,isLastButton:s,...o}=e;return n?R.createElement(AO,xO({className:Fo()(t,!s&&FO),kind:so},o)):R.createElement(TM,xO({className:Fo()(t,!s&&FO),kind:so},o))}RO.defaultProps={className:"FormInputButton-button-qvTt5 Button-button-paJ9a Link-link-RInnp",isLastButton:!0,canSpin:!1};const BO=RO;class LO extends R.Component{constructor(e,t){super(e,t),this.setInputRef=e=>{this._input=e},this.onChange=e=>{const{name:t,type:n,onChange:s}=this.props,o={name:t,value:e.target.value};"file"===n&&(o.files=e.target.files),s(o)},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e),this.selectionChange()},this.onKeyUp=()=>{this.selectionChange()},this.onMouseDown=()=>{this._isMouseTarget=!0},this.onMouseUp=()=>{this.selectionChange()},this.onDocumentMouseUp=()=>{this._isMouseTarget&&this.selectionChange(),this._isMouseTarget=!1},this.onWheel=()=>{"number"===this.props.type&&this._input.blur()},this._input=null,this._selectionStart=null,this._selectionEnd=null,this._selectionTimeout=null,this._isMouseTarget=!1}componentDidMount(){window.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){window.removeEventListener("mouseup",this.onDocumentMouseUp),this._selectionTimeout&&(this._selectionTimeout=clearTimeout(this._selectionTimeout))}selectionChange(){this._selectionTimeout&&(this._selectionTimeout=clearTimeout(this._selectionTimeout)),this._selectionTimeout=setTimeout((()=>{const e=this._input.selectionStart,t=this._input.selectionEnd,n=this._selectionStart!==e||this._selectionEnd!==t;this._selectionStart=e,this._selectionEnd=t,this.props.onSelectionChange&&n&&this.props.onSelectionChange(e,t)}),10)}render(){const{className:e,type:t,readOnly:n,autoFocus:s,placeholder:o,name:a,value:r,hasError:i,hasWarning:l,hasButton:c,step:d,min:u,max:m,onBlur:h,onCopy:p}=this.props;return R.createElement("input",{ref:this.setInputRef,type:t,readOnly:n,autoFocus:s,placeholder:o,className:Fo()(e,n&&"TextInput-readOnly-WH5Lg",i&&"TextInput-hasError-Gbw0Q Input-hasError-_3DW5",l&&"TextInput-hasWarning-ZPiVp Input-hasWarning-K_6E_",c&&"TextInput-hasButton-Z1LGV Input-hasButton-XcYCR"),name:a,value:r,step:d,min:u,max:m,onChange:this.onChange,onFocus:this.onFocus,onBlur:h,onCopy:p,onCut:p,onKeyUp:this.onKeyUp,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onWheel:this.onWheel})}}LO.defaultProps={className:"TextInput-input-svfXu Input-input-KWeec",type:"text",readOnly:!1,autoFocus:!1,value:""};const jO=LO;function _O(e){const{className:t,name:n,value:s,hasError:o,hasWarning:a,refreshing:r,siteKey:i,secretToken:l,onChange:c,onRefreshPress:d,onCaptchaChange:u}=e;return R.createElement("div",null,R.createElement("div",{className:"CaptchaInput-captchaInputWrapper-SGGbE"},R.createElement(jO,{className:Fo()(t,"CaptchaInput-hasButton-JL2W4 Input-hasButton-XcYCR",o&&"CaptchaInput-hasError-vrVc9 Input-hasError-_3DW5",a&&"CaptchaInput-hasWarning-gqCgC Input-hasWarning-K_6E_"),name:n,value:s,onChange:c}),R.createElement(BO,{onPress:d},R.createElement(Lo,{name:Gn,isSpinning:r}))),!!i&&!!l&&R.createElement("div",{className:"CaptchaInput-recaptchaWrapper-edEg_"},R.createElement(wO.A,{sitekey:i,stoken:l,onChange:u})))}_O.defaultProps={className:"CaptchaInput-input-hZojs Input-input-KWeec",value:""};const zO=_O;function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UO.apply(null,arguments)}const HO={refreshCaptcha:fd,getCaptchaCookie:Cd,resetCaptcha:Sd};class VO extends R.Component{constructor(...e){super(...e),this.componentWillUnmount=()=>{this.props.resetCaptcha()},this.onRefreshPress=()=>{const{provider:e,providerData:t}=this.props;this.props.refreshCaptcha({provider:e,providerData:t})},this.onCaptchaChange=e=>{if(!e)return;const{provider:t,providerData:n}=this.props;this.props.getCaptchaCookie({provider:t,providerData:n,captchaResponse:e})}}componentDidUpdate(e){const{name:t,token:n,onChange:s}=this.props;n&&n!==e.token&&s({name:t,value:n})}render(){return R.createElement(zO,UO({},this.props,{onRefreshPress:this.onRefreshPress,onCaptchaChange:this.onCaptchaChange}))}}const qO=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.captcha),(e=>e))}),HO)(VO);class QO extends R.Component{constructor(...e){super(...e),this.onMouseDown=e=>{e.preventDefault();const{isFocused:t,onInputContainerPress:n}=this.props;t||n()}}render(){const{forwardedRef:e,className:t,tags:n,inputProps:s,kind:o,canEdit:a,tagComponent:r,onTagDelete:i,onTagEdit:l}=this.props;return R.createElement("div",{ref:e,className:t,onMouseDown:this.onMouseDown},n.map(((e,t)=>R.createElement(r,{key:e.id,index:t,tag:e,kind:o,canEdit:a,isLastTag:t===n.length-1,onDelete:i,onEdit:l}))),R.createElement("input",s))}}QO.defaultProps={className:"TagInputInput-inputContainer-b14Au"};const WO=QO,GO={label:"Label-label-DYldh",danger:"Label-danger-NLIVv",outline:"Label-outline-Xn6SE",default:"Label-default-PeYXO",disabled:"Label-disabled-zzPjC",info:"Label-info-QWFsu",inverse:"Label-inverse-gByCz",primary:"Label-primary-oG9By",success:"Label-success-KHmdj",warning:"Label-warning-UhdwP",small:"Label-small-DLxDw",medium:"Label-medium-Vxy3t",large:"Label-large-qZ9AP"};function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KO.apply(null,arguments)}function $O(e){const{className:t,kind:n,size:s,outline:o,children:a,...r}=e;return R.createElement("span",KO({className:Fo()(t,GO[n],GO[s],o&&GO.outline)},r),a)}$O.defaultProps={className:GO.label,kind:Zs,size:po,outline:!1};const YO=$O;class JO extends R.Component{constructor(...e){super(...e),this.onDelete=()=>{const{index:e,tag:t,onDelete:n}=this.props;n({index:e,id:t.id})},this.onEdit=()=>{const{index:e,tag:t,onEdit:n}=this.props;n({index:e,id:t.id,value:t.name})}}render(){const{tag:e,kind:t,canEdit:n}=this.props;return R.createElement("div",{className:"TagInputTag-tag-njPEe",tabIndex:-1},R.createElement(YO,{className:"TagInputTag-label-pMnFv Label-label-DYldh",kind:t},R.createElement(IM,{className:n?"TagInputTag-linkWithEdit-mn76A":"TagInputTag-link-iJdlh",tabIndex:-1,onPress:this.onDelete},e.name),n?R.createElement("div",{className:"TagInputTag-editContainer-w53jt"},R.createElement(Ek,{className:"TagInputTag-editButton-NWOuM IconButton-button-t4C5V Link-link-RInnp",name:cn,size:9,onPress:this.onEdit})):null))}}const XO=JO;function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZO.apply(null,arguments)}function ew(e,t,n,s){if(null==t&&e){const t=n.find((t=>t.name===e));if(t)return t;if(s)return{name:e}}else if(null!=t)return n[t]}class tw extends R.Component{constructor(e,t){super(e,t),this._setAutosuggestRef=e=>{this._autosuggestRef=e},this.shouldRenderSuggestions=e=>e.length>=this.props.minQueryLength,this.addTag=U().debounce((e=>{this.props.onTagAdd(e),this.setState({value:"",suggestions:[]})}),250,{leading:!0,trailing:!1}),this.onTagEdit=({value:e,...t})=>{const n=this.state.value;n&&this.props.onTagReplace?this.props.onTagReplace(t,{name:n}):this.props.onTagDelete(t),this.setState({value:e})},this.onInputContainerPress=()=>{this._autosuggestRef.input.focus()},this.onInputChange=(e,{newValue:t,method:n})=>{const s=U().isObject(t)?t.name:t;"type"===n&&this.setState({value:s})},this.onInputKeyDown=e=>{const{tags:t,allowNew:n,delimiters:s,onTagDelete:o}=this.props,{value:a,suggestions:r}=this.state,i=e.key;if("Backspace"===i&&!a.length){const n=t.length-1;n>=0&&o({index:n,id:t[n].id}),setTimeout((()=>{this.onSuggestionsFetchRequested({value:""})})),e.preventDefault()}if(s.includes(i)){const t=ew(a,this._autosuggestRef.highlightedSuggestionIndex,r,n);t&&(this.addTag(t),e.preventDefault())}},this.onInputFocus=()=>{this.setState({isFocused:!0})},this.onInputBlur=()=>{if(this.setState({isFocused:!1}),!this._autosuggestRef)return;const{allowNew:e}=this.props,{value:t,suggestions:n}=this.state,s=ew(t,this._autosuggestRef.highlightedSuggestionIndex,n,e);s&&this.addTag(s)},this.onSuggestionsFetchRequested=({value:e})=>{const t=e.toLowerCase(),{tags:n,tagList:s}=this.props,o=s.filter((e=>e.name.toLowerCase().includes(t)&&!n.some((t=>t.id===e.id))));this.setState({suggestions:o})},this.onSuggestionsClearRequested=()=>{},this.onSuggestionSelected=(e,{suggestion:t})=>{this.addTag(t)},this.renderInputComponent=(e,t)=>{const{tags:n,kind:s,canEdit:o,tagComponent:a,onTagDelete:r}=this.props;return R.createElement(WO,{forwardedRef:t,tags:n,kind:s,inputProps:e,isFocused:this.state.isFocused,canEdit:o,tagComponent:a,onTagDelete:r,onTagEdit:this.onTagEdit,onInputContainerPress:this.onInputContainerPress})},this.state={value:"",suggestions:[],isFocused:!1},this._autosuggestRef=null}componentWillUnmount(){this.addTag.cancel()}getSuggestionValue({name:e}){return e}renderSuggestion({name:e}){return e}render(){const{className:e,inputContainerClassName:t,hasError:n,hasWarning:s,...o}=this.props,{value:a,suggestions:r,isFocused:i}=this.state;return R.createElement(GI,ZO({},o,{forwardedRef:this._setAutosuggestRef,className:e,inputContainerClassName:Fo()(t,i&&"TagInput-isFocused-r5YrC",n&&"TagInput-hasError-H2wEt Input-hasError-_3DW5",s&&"TagInput-hasWarning-Lms3G Input-hasWarning-K_6E_"),value:a,suggestions:r,getSuggestionValue:this.getSuggestionValue,shouldRenderSuggestions:this.shouldRenderSuggestions,focusInputOnSuggestionClick:!1,renderSuggestion:this.renderSuggestion,renderInputComponent:this.renderInputComponent,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onChange:this.onInputChange}))}}tw.defaultProps={className:"TagInput-internalInput-bbdd_",inputContainerClassName:"TagInput-input-WFs2s AutoSuggestInput-input-Irz_T Input-input-KWeec",allowNew:!0,kind:to,placeholder:"",delimiters:["Tab","Enter"," ",","],minQueryLength:1,canEdit:!1,tagComponent:XO};const nw=tw,sw="DeviceInput-input-fQj3h TagInput-input-WFs2s AutoSuggestInput-input-Irz_T Input-input-KWeec Input-hasButton-XcYCR";class ow extends R.Component{constructor(...e){super(...e),this.onTagAdd=e=>{const{name:t,value:n,onChange:s}=this.props;s({name:t,value:[...n,e.id||e.name]})},this.onTagDelete=({index:e})=>{const{name:t,value:n,onChange:s}=this.props,o=n.slice();o.splice(e,1),s({name:t,value:o})}}render(){const{className:e,name:t,items:n,selectedDevices:s,hasError:o,hasWarning:a,isFetching:r,onRefreshPress:i}=this.props;return R.createElement("div",{className:e},R.createElement(nw,{inputContainerClassName:sw,name:t,tags:s,tagList:n,allowNew:!0,minQueryLength:0,hasError:o,hasWarning:a,onTagAdd:this.onTagAdd,onTagDelete:this.onTagDelete}),R.createElement(BO,{onPress:i},R.createElement(Lo,{name:Gn,isSpinning:r})))}}ow.defaultProps={className:"DeviceInput-deviceInputWrapper-ca_nS",inputClassName:sw};const aw=ow;function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rw.apply(null,arguments)}const iw={dispatchFetchOptions:Lm,dispatchClearOptions:jm};class lw extends R.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this._populate()},this.componentWillUnmount=()=>{this.props.dispatchClearOptions({section:"devices"})},this.onRefreshPress=()=>{this._populate()}}_populate(){const{provider:e,providerData:t,dispatchFetchOptions:n}=this.props;n({section:"devices",action:"getDevices",provider:e,providerData:t})}render(){return R.createElement(aw,rw({},this.props,{onRefreshPress:this.onRefreshPress}))}}const cw=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{value:t})=>t),(e=>e.providerOptions.devices||xm),((e,t)=>({...t,selectedDevices:e.map((e=>{const n=t.items.find((t=>t.id==e));return n?{id:n.id,name:`${n.name} (${n.id})`}:{id:e,name:`Unknown (${e})`}}))})))}),iw)(lw);var dw=n(71304);function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uw.apply(null,arguments)}class mw extends R.Component{constructor(...e){super(...e),this.onMeasure=e=>{this.props.onMeasure(e.bounds)}}render(){const{className:e,style:t,onMeasure:n,children:s,...o}=this.props;return R.createElement(dw.A,uw({bounds:!0,onResize:this.onMeasure},o),(({measureRef:n})=>R.createElement("div",{ref:n,className:e,style:t},s)))}}const hw=mw;class pw extends R.Component{constructor(...e){super(...e),this.onPress=e=>{e.preventDefault();const{id:t,onSelect:n}=this.props;n(t)},this.onCheckPress=()=>{}}render(){const{className:e,id:t,depth:n,isSelected:s,isDisabled:o,isHidden:a,isMultiSelect:r,isMobile:i,children:l}=this.props;return R.createElement(IM,{className:Fo()(e,s&&!r&&"EnhancedSelectInputOption-isSelected-pIXx7",o&&!r&&"EnhancedSelectInputOption-isDisabled-M55XA",a&&"EnhancedSelectInputOption-isHidden-h6uxR",i&&"EnhancedSelectInputOption-isMobile-q8Myj"),component:"div",isDisabled:o,onPress:this.onPress},0!==n&&R.createElement("div",{style:{width:20*n+"px"}}),r&&R.createElement(dk,{className:"EnhancedSelectInputOption-optionCheckInput-Bs9Ub CheckInput-input-VAM1T",containerClassName:"EnhancedSelectInputOption-optionCheck-Y7gBR CheckInput-container-FXKYv",name:`select-${t}`,value:s,isDisabled:o,onChange:this.onCheckPress}),l,i&&R.createElement("div",{className:"EnhancedSelectInputOption-iconContainer-r4s6E"},R.createElement(Lo,{name:s?Wt:$t})))}}pw.defaultProps={className:"EnhancedSelectInputOption-option-g4V97",depth:0,isDisabled:!1,isHidden:!1,isMultiSelect:!1};const gw=pw;function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ew.apply(null,arguments)}function fw(e){const{id:t,value:n,hint:s,depth:o,isSelected:a,isDisabled:r,isMultiSelect:i,isMobile:l,...c}=e;return R.createElement(gw,Ew({id:t,depth:o,isSelected:a,isDisabled:r,isHidden:r,isMultiSelect:i,isMobile:l},c),R.createElement("div",{className:Fo()("HintedSelectInputOption-optionText-QmbvS",l&&"HintedSelectInputOption-isMobile-h3Yur")},R.createElement("div",null,n),null!=s&&R.createElement("div",{className:"HintedSelectInputOption-hintText-iDR9s"},s)))}fw.defaultProps={isDisabled:!1,isHidden:!1,isMultiSelect:!1};const Cw=fw;function vw(e){const{className:t,children:n,isDisabled:s}=e;return R.createElement("div",{className:Fo()(t,s&&"EnhancedSelectInputSelectedValue-isDisabled-v9VOt")},n)}vw.defaultProps={className:"EnhancedSelectInputSelectedValue-selectedValue-ZYeSR",isDisabled:!1};const Sw=vw;function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bw.apply(null,arguments)}function Pw(e){const{value:t,values:n,hint:s,isMultiSelect:o,includeHint:a,...r}=e,i=o&&U().keyBy(n,"key");return R.createElement(Sw,bw({className:"HintedSelectInputSelectedValue-selectedValue-cvLD7 EnhancedSelectInputSelectedValue-selectedValue-ZYeSR"},r),R.createElement("div",{className:"HintedSelectInputSelectedValue-valueText-kkxXq"},o?t.map(((e,t)=>{const n=i[e];return R.createElement(YO,{key:e},n?n.value:e)})):null,o?null:t),null!=s&&a?R.createElement("div",{className:"HintedSelectInputSelectedValue-hintText-muqsJ"},s):null)}Pw.defaultProps={isMultiSelect:!1,includeHint:!0};const yw=Pw,Mw={enhancedSelect:"EnhancedSelectInput-enhancedSelect-RG1RD Input-input-KWeec",editableContainer:"EnhancedSelectInput-editableContainer-QdAjb",hasError:"EnhancedSelectInput-hasError-FPHTI Input-hasError-_3DW5",hasWarning:"EnhancedSelectInput-hasWarning-SVaLF Input-hasWarning-K_6E_",isDisabled:"EnhancedSelectInput-isDisabled-c1BlZ",dropdownArrowContainer:"EnhancedSelectInput-dropdownArrowContainer-AsPaM",dropdownArrowContainerEditable:"EnhancedSelectInput-dropdownArrowContainerEditable-TbMe4",dropdownArrowContainerDisabled:"EnhancedSelectInput-dropdownArrowContainerDisabled-NNydK EnhancedSelectInput-dropdownArrowContainer-AsPaM",optionsContainer:"EnhancedSelectInput-optionsContainer-Ysa4r",options:"EnhancedSelectInput-options-XkIt1 Scroller-scroller-lhubq",optionsModal:"EnhancedSelectInput-optionsModal-QunSQ",optionsModalBody:"EnhancedSelectInput-optionsModalBody-BGHb1 ModalBody-modalBody-RVK6D",optionsModalScroller:"EnhancedSelectInput-optionsModalScroller-ww3Ko Scroller-scroller-lhubq",loading:"EnhancedSelectInput-loading-lFAQq",mobileCloseButtonContainer:"EnhancedSelectInput-mobileCloseButtonContainer-pcL9h",mobileCloseButton:"EnhancedSelectInput-mobileCloseButton-vR_hc"};function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Iw.apply(null,arguments)}function kw(e,t){return t[e]}function Ow(e,t,n){let s=e+t;for(;s!==e;){if(s<0?s=n.length-1:s>=n.length&&(s=0),!kw(s,n).isDisabled)return s;s+=t}}function ww(e,t){return Ow(e,-1,t)}function Tw(e,t){return Ow(e,1,t)}function Nw(e){const{value:t,values:n}=e;return Array.isArray(t)?n.findIndex((e=>t.size&&e.key===t[0])):n.findIndex((e=>e.key===t))}function Dw(e,t){const{value:n,values:s}=t;return Array.isArray(n)?n.includes(s[e].key):s[e].key===n}function Aw(e,t){return t[e].key}class Fw extends R.Component{constructor(e,t){super(e,t),this.onComputeMaxHeight=e=>{const t=window.innerHeight;return e.styles.maxHeight=t-10,e},this.onWindowClick=e=>{const t=document.getElementById(this._buttonId),n=document.getElementById(this._optionsId);t&&e.target.isConnected&&!this.state.isMobile&&!t.contains(e.target)&&n&&!n.contains(e.target)&&this.state.isOpen&&(this.setState({isOpen:!1}),this._removeListener())},this.onFocus=()=>{this.state.isOpen&&(this._removeListener(),this.setState({isOpen:!1}))},this.onBlur=()=>{if(!this.props.isEditable){const e=Nw(this.props);e!==this.state.selectedIndex&&this.setState({selectedIndex:e})}},this.onKeyDown=e=>{const{values:t}=this.props,{isOpen:n,selectedIndex:s}=this.state,o=e.keyCode,a={};if(!n)return function(e){return 38===e||40===e}(o)&&(e.preventDefault(),a.isOpen=!0),(null==s||-1===s||kw(s,t).isDisabled)&&(38===o?a.selectedIndex=ww(0,t):40===o&&(a.selectedIndex=Tw(t.length-1,t))),void this.setState(a);38===o&&(e.preventDefault(),a.selectedIndex=ww(s,t)),40===o&&(e.preventDefault(),a.selectedIndex=Tw(s,t)),13===o&&(e.preventDefault(),a.isOpen=!1,this.onSelect(Aw(s,t))),9===o&&(a.isOpen=!1,this.onSelect(Aw(s,t))),27===o&&(e.preventDefault(),e.stopPropagation(),a.isOpen=!1,a.selectedIndex=Nw(this.props)),U().isEmpty(a)||this.setState(a)},this.onPress=()=>{this.state.isOpen?this._removeListener():this._addListener(),!this.state.isOpen&&this.props.onOpen&&this.props.onOpen(),this.setState({isOpen:!this.state.isOpen})},this.onSelect=e=>{if(Array.isArray(this.props.value)){let t=null;const n=this.props.value.indexOf(e);-1===n?t=this.props.values.map((e=>e.key)).filter((t=>t===e||this.props.value.includes(t))):(t=[...this.props.value],t.splice(n,1)),this.props.onChange({name:this.props.name,value:t})}else this.setState({isOpen:!1}),this.props.onChange({name:this.props.name,value:e})},this.onMeasure=({width:e})=>{this.setState({width:e})},this.onOptionsModalClose=()=>{this.setState({isOpen:!1})},this._scheduleUpdate=null,this._buttonId=fM(),this._optionsId=fM(),this.state={isOpen:!1,selectedIndex:Nw(e),width:0,isMobile:pM()}}componentDidUpdate(e){this._scheduleUpdate&&this._scheduleUpdate(),Array.isArray(this.props.value)||e.value===this.props.value&&e.values===this.props.values||this.setState({selectedIndex:Nw(this.props)})}_addListener(){window.addEventListener("click",this.onWindowClick)}_removeListener(){window.removeEventListener("click",this.onWindowClick)}render(){const{className:e,disabledClassName:t,name:n,value:s,values:o,isDisabled:a,isEditable:r,isFetching:i,hasError:l,hasWarning:c,valueOptions:d,selectedValueOptions:u,selectedValueComponent:m,optionComponent:h,onChange:p}=this.props,{selectedIndex:g,width:E,isOpen:f,isMobile:C}=this.state,v=Array.isArray(s),S=kw(g,o);let b=s;return o.length||(b=v?[]:""),R.createElement("div",null,R.createElement(_I.Ay,null,R.createElement(LI.A,null,(({ref:d})=>R.createElement("div",{ref:d,id:this._buttonId},R.createElement(hw,{whitelist:["width"],onMeasure:this.onMeasure},r?R.createElement("div",{className:Mw.editableContainer},R.createElement(jO,{className:e,name:n,value:s,readOnly:a,hasError:l,hasWarning:c,onFocus:this.onFocus,onBlur:this.onBlur,onChange:p}),R.createElement(IM,{className:Fo()(Mw.dropdownArrowContainerEditable,a?Mw.dropdownArrowContainerDisabled:Mw.dropdownArrowContainer),onPress:this.onPress},i?R.createElement(tM,{className:Mw.loading,size:20}):null,i?null:R.createElement(Lo,{name:Vt}))):R.createElement(IM,{className:Fo()(e,l&&Mw.hasError,c&&Mw.hasWarning,a&&t),isDisabled:a,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onPress:this.onPress},R.createElement(m,Iw({value:b,values:o},u,S,{isDisabled:a,isMultiSelect:v}),S?S.value:null),R.createElement("div",{className:a?Mw.dropdownArrowContainerDisabled:Mw.dropdownArrowContainer},i?R.createElement(tM,{className:Mw.loading,size:20}):null,i?null:R.createElement(Lo,{name:Vt}))))))),R.createElement(VI,null,R.createElement(jI.Ay,{placement:"bottom-start",modifiers:{computeMaxHeight:{order:851,enabled:!0,fn:this.onComputeMaxHeight},preventOverflow:{enabled:!0,boundariesElement:"viewport"}}},(({ref:e,style:t,scheduleUpdate:n})=>(this._scheduleUpdate=n,R.createElement("div",{ref:e,id:this._optionsId,className:Mw.optionsContainer,style:{...t,minWidth:E}},f&&!C?R.createElement(FM,{className:Mw.options,style:{maxHeight:t.maxHeight}},o.map(((e,t)=>{const n=void 0!==e.parentKey,o=n?1:0,a=n&&s.includes(e.parentKey);return R.createElement(h,Iw({key:e.key,id:e.key,depth:o,isSelected:Dw(t,this.props),isDisabled:a,isMultiSelect:v},d,e,{isMobile:!1,onSelect:this.onSelect}),e.value)}))):null)))))),C?R.createElement(JM,{className:Mw.optionsModal,size:ho,isOpen:f,onModalClose:this.onOptionsModalClose},R.createElement(BM,{className:Mw.optionsModalBody,innerClassName:Mw.optionsInnerModalBody,scrollDirection:lo},R.createElement(FM,{className:Mw.optionsModalScroller},R.createElement("div",{className:Mw.mobileCloseButtonContainer},R.createElement(IM,{className:Mw.mobileCloseButton,onPress:this.onOptionsModalClose},R.createElement(Lo,{name:Xt,size:18}))),o.map(((e,t)=>{const n=void 0!==e.parentKey,o=n?1:0,a=n&&s.includes(e.parentKey);return R.createElement(h,Iw({key:e.key,id:e.key,depth:o,isSelected:Dw(t,this.props),isMultiSelect:v,isDisabled:a},d,e,{isMobile:!0,onSelect:this.onSelect}),e.value)}))))):null)}}Fw.defaultProps={className:Mw.enhancedSelect,disabledClassName:Mw.isDisabled,isDisabled:!1,isFetching:!1,isEditable:!1,valueOptions:{},selectedValueOptions:{},selectedValueComponent:yw,optionComponent:Cw};const xw=Fw;function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rw.apply(null,arguments)}const Bw={dispatchFetchDownloadClients:wE};class Lw extends R.Component{constructor(...e){super(...e),this.onChange=({name:e,value:t})=>{this.props.onChange({name:e,value:parseInt(t)})}}componentDidMount(){this.props.isPopulated||this.props.dispatchFetchDownloadClients()}render(){return R.createElement(xw,Rw({},this.props,{onChange:this.onChange}))}}Lw.defaultProps={includeAny:!1,protocol:"torrent"};const jw=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.downloadClients),((e,{includeAny:t})=>t),((e,{protocol:t})=>t),((e,t,n)=>{const{isFetching:s,isPopulated:o,error:a,items:r}=e,i=r.filter((e=>e.protocol===n)),l=U().map(i.sort(cr),(e=>({key:e.id,value:e.name,hint:`(${e.id})`})));return t&&l.unshift({key:0,value:"(Any)"}),{isFetching:s,isPopulated:o,error:a,values:l}}))}),Bw)(Lw);function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_w.apply(null,arguments)}const zw=["baseUrl","apiPath","apiKey"];function Uw(e){return e&&e.fields?e.fields.filter((e=>zw.includes(e.name))).map((e=>e.value)):null}const Hw={dispatchFetchOptions:Lm,dispatchClearOptions:jm};class Vw extends R.Component{constructor(e,t){super(e,t),this.componentDidMount=()=>{this._populate()},this.componentDidUpdate=e=>{const t=Uw(e.providerData),n=Uw(this.props.providerData);U().isEqual(t,n)||this.setState({refetchRequired:!0})},this.componentWillUnmount=()=>{this._cleanup()},this.onOpen=()=>{this.state.refetchRequired&&this._populate()},this.state={refetchRequired:!1}}_populate(){const{provider:e,providerData:t,selectOptionsProviderAction:n,dispatchFetchOptions:s}=this.props;n&&(this.setState({refetchRequired:!1}),s({section:n,action:n,provider:e,providerData:t}))}_cleanup(){const{selectOptionsProviderAction:e,dispatchClearOptions:t}=this.props;e&&t({section:e})}render(){return R.createElement(xw,_w({},this.props,{onOpen:this.onOpen}))}}const qw=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{selectOptionsProviderAction:t})=>e.providerOptions[t]||xm),(e=>{if(e)return{isFetching:e.isFetching,values:(t=e.items,t?t.map((e=>({key:e.value,value:e.name,hint:e.hint,parentKey:e.parentValue}))):[])};var t}))}),Hw)(Vw);function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qw.apply(null,arguments)}const Ww=function(e){const{indexerFlags:t,onChange:n}=e,{value:s,values:o}=(0,Wy.d4)((a=t,(0,Ky.Mz)((e=>e.settings.indexerFlags),(e=>({value:e.items.reduce(((e,{id:t})=>((a&t)===t&&e.push(t),e)),[]),values:e.items.map((({id:e,name:t})=>({key:e,value:t})))})))));var a;const r=(0,R.useCallback)((({name:e,value:t})=>{const s=t.reduce(((e,t)=>e+t),0);n({name:e,value:s})}),[n]);return R.createElement(xw,Qw({},e,{value:s,values:o,onChange:r}))};function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gw.apply(null,arguments)}const Kw={dispatchFetchIndexers:cC};class $w extends R.Component{constructor(...e){super(...e),this.onChange=({name:e,value:t})=>{this.props.onChange({name:e,value:parseInt(t)})}}componentDidMount(){this.props.isPopulated||this.props.dispatchFetchIndexers()}render(){return R.createElement(xw,Gw({},this.props,{onChange:this.onChange}))}}$w.defaultProps={includeAny:!1};const Yw=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.indexers),((e,{includeAny:t})=>t),((e,t)=>{const{isFetching:n,isPopulated:s,error:o,items:a}=e,r=U().map(a.sort(cr),(e=>({key:e.id,value:e.name})));return t&&r.unshift({key:0,value:"(Any)"}),{isFetching:n,isPopulated:s,error:o,values:r}}))}),Kw)($w),Jw="KeyValueListInputItem-inputWrapper-zIEtx";class Xw extends R.Component{constructor(...e){super(...e),this.onKeyChange=({value:e})=>{const{index:t,value:n,onChange:s}=this.props;s(t,{key:e,value:n})},this.onValueChange=({value:e})=>{const{index:t,keyValue:n,onChange:s}=this.props;s(t,{key:n,value:e})},this.onRemovePress=()=>{const{index:e,onRemove:t}=this.props;t(e)},this.onFocus=()=>{this.props.onFocus()},this.onBlur=()=>{this.props.onBlur()}}render(){const{keyValue:e,value:t,keyPlaceholder:n,valuePlaceholder:s,isNew:o}=this.props;return R.createElement("div",{className:"KeyValueListInputItem-itemContainer-ZADcc"},R.createElement("div",{className:Jw},R.createElement(jO,{className:"KeyValueListInputItem-keyInput-Fwwg9",name:"key",value:e,placeholder:n,onChange:this.onKeyChange,onFocus:this.onFocus,onBlur:this.onBlur})),R.createElement("div",{className:Jw},R.createElement(jO,{className:"KeyValueListInputItem-valueInput-jTI0x",name:"value",value:t,placeholder:s,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur})),R.createElement("div",{className:"KeyValueListInputItem-buttonWrapper-URTxg"},o?null:R.createElement(Ek,{name:Kn,tabIndex:-1,onPress:this.onRemovePress})))}}Xw.defaultProps={keyPlaceholder:"Key",valuePlaceholder:"Value"};const Zw=Xw;class eT extends R.Component{constructor(e,t){super(e,t),this.onItemChange=(e,t)=>{const{name:n,value:s,onChange:o}=this.props,a=[...s];null==e?a.push(t):a.splice(e,1,t),o({name:n,value:a})},this.onRemoveItem=e=>{const{name:t,value:n,onChange:s}=this.props,o=[...n];o.splice(e,1),s({name:t,value:o})},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1});const{name:e,value:t,onChange:n}=this.props,s=t.reduce(((e,t)=>((t.key||t.value)&&e.push(t),e)),[]);s.length!==t.length&&n({name:e,value:s})},this.state={isFocused:!1}}render(){const{className:e,value:t,keyPlaceholder:n,valuePlaceholder:s,hasError:o,hasWarning:a}=this.props,{isFocused:r}=this.state;return R.createElement("div",{className:Fo()(e,r&&"KeyValueListInput-isFocused-FfsJJ",o&&"KeyValueListInput-hasError-ASy4m Input-hasError-_3DW5",a&&"KeyValueListInput-hasWarning-FACms Input-hasWarning-K_6E_")},[...t,{key:"",value:""}].map(((e,o)=>R.createElement(Zw,{key:o,index:o,keyValue:e.key,value:e.value,keyPlaceholder:n,valuePlaceholder:s,isNew:o===t.length,onChange:this.onItemChange,onRemove:this.onRemoveItem,onFocus:this.onFocus,onBlur:this.onBlur}))))}}eT.defaultProps={className:"KeyValueListInput-inputContainer-CTTl0 Input-input-KWeec",value:[]};const tT=eT,nT=function(e,t){return(0,Ky.Mz)((e=>e),(n=>{const s=X(n,e,!0);return{...s,items:[...s.items].sort(t)}}))};function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sT.apply(null,arguments)}class oT extends R.Component{constructor(...e){super(...e),this.onChange=({name:e,value:t})=>{this.props.onChange({name:e,value:"noChange"===t?t:parseInt(t)})}}componentDidMount(){const{name:e,value:t,values:n}=this.props;if(!t||!n.some((e=>e.key===t||parseInt(e.key)===t))){const t=n.find((e=>!isNaN(parseInt(e.key))));t&&this.onChange({name:e,value:t.key})}}render(){return R.createElement(ZI,sT({},this.props,{onChange:this.onChange}))}}oT.defaultProps={includeNoChange:!1,includeNone:!0};const aT=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.metadataProfiles",cr),((e,{includeNoChange:t})=>t),((e,{includeNoChangeDisabled:t})=>t),((e,{includeMixed:t})=>t),((e,{includeNone:t})=>t),((e,t,n=!0,s,o)=>{const a=e.items.filter((e=>e.name!==io)),r=e.items.find((e=>e.name===io)),i=U().map(a,(e=>({key:e.id,value:e.name})));return o&&i.push({key:r.id,value:r.name}),t&&i.unshift({key:"noChange",value:te("NoChange"),isDisabled:n}),s&&i.unshift({key:"mixed",value:"(Mixed)",isDisabled:!0}),{values:i}}))}))(oT);function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rT.apply(null,arguments)}function iT(e){const{includeNoChange:t,includeMixed:n,includeSpecificBook:s,...o}=e,a=[...up];return t&&a.unshift({key:"noChange",value:te("NoChange"),isDisabled:!0}),n&&a.unshift({key:"mixed",value:"(Mixed)",isDisabled:!0}),s&&a.push({key:"specificBook",value:"Only This Book"}),R.createElement(ZI,rT({values:a},o))}iT.defaultProps={includeNoChange:!1,includeMixed:!1,includeSpecificBook:!1};const lT=iT;function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cT.apply(null,arguments)}function dT(e){const{includeNoChange:t,includeMixed:n,...s}=e,o=[...dp];return t&&o.unshift({key:"noChange",value:te("NoChange"),isDisabled:!0}),n&&o.unshift({key:"mixed",value:"(Mixed)",isDisabled:!0}),R.createElement(ZI,cT({values:o},s))}dT.defaultProps={includeNoChange:!1,includeMixed:!1};const uT=dT;function mT(){return mT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mT.apply(null,arguments)}function hT(e,t){const{isFloat:n,min:s,max:o}=e;if(null==t||""===t)return null;let a=n?parseFloat(t):parseInt(t);return null!=s&&null!=a&&a<s?a=s:null!=o&&null!=a&&a>o&&(a=o),a}class pT extends R.Component{constructor(e,t){super(e,t),this.onChange=({name:e,value:t})=>{this.setState({value:t}),this.props.onChange({name:e,value:hT(this.props,t)})},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{const{name:e,onChange:t}=this.props,{value:n}=this.state,s=hT(this.props,n),o=null==s?"":s.toString();o===n?this.setState({isFocused:!1}):this.setState({value:o,isFocused:!1}),t({name:e,value:s})},this.state={value:null==e.value?"":e.value.toString(),isFocused:!1}}componentDidUpdate(e,t){const{value:n}=this.props;isNaN(n)||n===e.value||this.state.isFocused||this.setState({value:null==n?"":n.toString()})}render(){const e=this.state.value;return R.createElement(jO,mT({},this.props,{type:"number",value:null==e?"":e,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus}))}}pT.defaultProps={value:null,isFloat:!1};const gT=pT;function ET(){return ET=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ET.apply(null,arguments)}class fT extends R.Component{constructor(e,t){super(e,t),this.resetState=()=>{this.setState({wasSuccessful:!1,hasWarning:!1,hasError:!1})},this._testResultTimeout=null,this.state={wasSuccessful:!1,hasWarning:!1,hasError:!1}}componentDidUpdate(e){const{isSpinning:t,error:n}=this.props;if(e.isSpinning&&!t){const e=function(e){if(!e)return{wasSuccessful:!0,hasWarning:!1,hasError:!1};if(400!==e.status)return{wasSuccessful:!1,hasWarning:!1,hasError:!0};const t=e.responseJSON;return{wasSuccessful:!1,hasWarning:U().some(t,{isWarning:!0}),hasError:U().some(t,(e=>!e.isWarning))}}(n);this.setState(e,(()=>{const{wasSuccessful:t,hasWarning:n,hasError:s}=e;(t||n||s)&&(this._testResultTimeout=setTimeout(this.resetState,3e3))}))}}componentWillUnmount(){this._testResultTimeout&&clearTimeout(this._testResultTimeout)}render(){const{kind:e,isSpinning:t,error:n,children:s,...o}=this.props,{wasSuccessful:a,hasWarning:r,hasError:i}=this.state,l=a||r||i;let c=qt,d=e===so?Zs:ao;return r&&(c=Ms,d=ro),i&&(c=nn,d=Xs),R.createElement(AO,ET({kind:e,isSpinning:t},o),R.createElement("span",{className:l?"SpinnerErrorButton-showIcon-ZPhkZ":void 0},l&&R.createElement("span",{className:"SpinnerErrorButton-iconContainer-0zupp SpinnerButton-spinnerContainer-GOQ2V"},R.createElement(Lo,{name:c,kind:d})),R.createElement("span",{className:"SpinnerErrorButton-label-BnsYP SpinnerButton-label-YD8Ey"},s)))}}const CT=fT;function vT(e){const{label:t,authorizing:n,error:s,onPress:o}=e;return R.createElement("div",null,R.createElement(CT,{kind:so,isSpinning:n,error:s,onPress:o},t))}vT.defaultProps={label:"Start OAuth"};const ST=vT;function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bT.apply(null,arguments)}const PT={startOAuth:im,resetOAuth:cm};class yT extends R.Component{constructor(...e){super(...e),this.componentWillUnmount=()=>{this.props.resetOAuth()},this.onPress=()=>{const{name:e,provider:t,providerData:n,section:s}=this.props;this.props.startOAuth({name:e,provider:t,providerData:n,section:s})}}componentDidUpdate(e){const{result:t,onChange:n}=this.props;t&&t!==e.result&&Object.keys(t).forEach((e=>{n({name:e,value:t[e]})}))}render(){return R.createElement(ST,bT({},this.props,{onPress:this.onPress}))}}const MT=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.oAuth),(e=>e))}),PT)(yT);function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},IT.apply(null,arguments)}function kT(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation()}const OT=function(e){return R.createElement(jO,IT({},e,{type:"password",onCopy:kT}))};function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wT.apply(null,arguments)}const TT=function(e){return R.createElement(IM,wT({className:"TableRowButton-row-dh_T6 Link-link-RInnp TableRow-row-lgbLy",component:pO},e))};function NT(e){switch(e){case"computer":return tn;case"drive":return ln;case"file":return En;case"parent":return zn;default:return vn}}class DT extends R.Component{constructor(...e){super(...e),this.onPress=()=>{this.props.onPress(this.props.path)}}render(){const{type:e,name:t}=this.props;return R.createElement(TT,{onPress:this.onPress},R.createElement(ak,{className:"FileBrowserRow-type-WduSE TableRowCell-cell-giPrj"},R.createElement(Lo,{name:NT(e)})),R.createElement(ak,null,t))}}const AT=DT;function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FT.apply(null,arguments)}const xT=[{name:"type",label:"Type",isVisible:!0},{name:"name",label:"Name",isVisible:!0}];class RT extends R.Component{constructor(e,t){super(e,t),this.onPathInputChange=({value:e})=>{this.setState({currentPath:e})},this.onRowPress=e=>{this.props.onFetchPaths(e)},this.onOkPress=()=>{this.props.onChange({name:this.props.name,value:this.state.currentPath}),this.props.onClearPaths(),this.props.onModalClose()},this._scrollerRef=R.createRef(),this.state={isFileBrowserModalOpen:!1,currentPath:e.value}}componentDidUpdate(e,t){const{currentPath:n}=this.props;n!==this.state.currentPath&&n!==t.currentPath&&(this.setState({currentPath:n}),this._scrollerRef.current.scrollTop=0)}render(){const{isFetching:e,isPopulated:t,error:n,parent:s,directories:o,files:a,isWindowsService:r,onModalClose:i,...l}=this.props,c=""===s;return R.createElement(_M,{onModalClose:i},R.createElement(QM,null,"File Browser"),R.createElement(BM,{className:"FileBrowserModalContent-modalBody-kXPlo ModalBody-modalBody-RVK6D",scrollDirection:lo},r&&R.createElement(OI,{className:"FileBrowserModalContent-mappedDrivesWarning-Mu33l Alert-alert-_KgnQ",kind:ro},"Mapped network drives are not available when running as a Windows Service, see the ",R.createElement(IM,{className:"FileBrowserModalContent-faqLink-M0Z1P",to:"https://wiki.servarr.com/readarr/faq"},"FAQ")," for more information."),R.createElement(WT,FT({className:"FileBrowserModalContent-pathInput-niMXM PathInput-inputWrapper-tZDyS",placeholder:te("StartTypingOrSelectAPathBelow"),hasFileBrowser:!1},l,{value:this.state.currentPath,onChange:this.onPathInputChange})),R.createElement(FM,{ref:this._scrollerRef,className:"FileBrowserModalContent-scroller-KsfcP",scrollDirection:co},!!n&&R.createElement("div",null,te("ErrorLoadingContents")),t&&!n&&R.createElement(cO,{horizontalScroll:!1,columns:xT},R.createElement(uO,null,c&&R.createElement(AT,{type:"computer",name:"My Computer",path:s,onPress:this.onRowPress}),!c&&s&&R.createElement(AT,{type:"parent",name:"...",path:s,onPress:this.onRowPress}),o.map((e=>R.createElement(AT,{key:e.path,type:e.type,name:e.name,path:e.path,onPress:this.onRowPress}))),a.map((e=>R.createElement(AT,{key:e.path,type:e.type,name:e.name,path:e.path,onPress:this.onRowPress}))))))),R.createElement(HM,null,e&&R.createElement(tM,{className:"FileBrowserModalContent-loading-qSfj8",size:20}),R.createElement(TM,{onPress:i},"Cancel"),R.createElement(TM,{onPress:this.onOkPress},"Ok")))}}const BT=RT;function LT(){return LT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LT.apply(null,arguments)}const jT={dispatchFetchPaths:km,dispatchClearPaths:wm};class _T extends R.Component{constructor(...e){super(...e),this.onFetchPaths=e=>{const{includeFiles:t,dispatchFetchPaths:n}=this.props;n({path:e,allowFoldersWithoutTrailingSlashes:!0,includeFiles:t})},this.onClearPaths=()=>{},this.onModalClose=()=>{this.props.dispatchClearPaths(),this.props.onModalClose()}}componentDidMount(){const{value:e,includeFiles:t,dispatchFetchPaths:n}=this.props;n({path:e,allowFoldersWithoutTrailingSlashes:!0,includeFiles:t})}render(){return R.createElement(BT,LT({onFetchPaths:this.onFetchPaths,onClearPaths:this.onClearPaths},this.props,{onModalClose:this.onModalClose}))}}_T.defaultProps={includeFiles:!1};const zT=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.paths),Yy(),((e,t)=>{const{isFetching:n,isPopulated:s,error:o,parent:a,currentPath:r,directories:i,files:l}=e,c=U().filter([...i,...l],(({path:e})=>e.toLowerCase().startsWith(r.toLowerCase())));return{isFetching:n,isPopulated:s,error:o,parent:a,currentPath:r,directories:i,files:l,paths:c,isWindowsService:t.isWindows&&"service"===t.mode}}))}),jT)(_T);function UT(){return UT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UT.apply(null,arguments)}class HT extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{className:"FileBrowserModal-modal-XB8yQ Modal-modal-_3qBG",isOpen:e,onModalClose:t},R.createElement(zT,UT({},n,{onModalClose:t})))}}const VT=HT;function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qT.apply(null,arguments)}class QT extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({value:e})=>{this.setState({value:e})},this.onInputKeyDown=e=>{if("Tab"===e.key){e.preventDefault();const t=this.props.paths[0];t&&(this.props.onChange({name:this.props.name,value:t.path}),"file"!==t.type&&this.props.onFetchPaths(t.path))}},this.onInputBlur=()=>{this.props.onChange({name:this.props.name,value:this.state.value}),this.props.onClearPaths()},this.onSuggestionsFetchRequested=({value:e})=>{this.props.onFetchPaths(e)},this.onSuggestionsClearRequested=()=>{},this.onSuggestionSelected=(e,{suggestionValue:t})=>{this.props.onFetchPaths(t)},this.onFileBrowserOpenPress=()=>{this.setState({isFileBrowserModalOpen:!0})},this.onFileBrowserModalClose=()=>{this.setState({isFileBrowserModalOpen:!1})},this._node=document.getElementById("portal-root"),this.state={value:e.value,isFileBrowserModalOpen:!1}}componentDidUpdate(e){const{value:t}=this.props;e.value!==t&&this.setState({value:t})}getSuggestionValue({path:e}){return e}renderSuggestion({path:e},{query:t}){const n=t.lastIndexOf("\\")||t.lastIndexOf("/");return-1===n?R.createElement("span",null,e):R.createElement("span",null,R.createElement("span",{className:"PathInput-pathMatch-zp2Sr"},e.substr(0,n)),e.substr(n))}render(){const{className:e,name:t,paths:n,includeFiles:s,hasFileBrowser:o,onChange:a,...r}=this.props,{value:i,isFileBrowserModalOpen:l}=this.state;return R.createElement("div",{className:e},R.createElement(GI,qT({},r,{className:o?"PathInput-hasFileBrowser-EHxWx AutoSuggestInput-input-Irz_T Input-input-KWeec Input-hasButton-XcYCR":void 0,name:t,value:i,suggestions:n,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onInputKeyDown:this.onInputKeyDown,onInputBlur:this.onInputBlur,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onChange:this.onInputChange})),o&&R.createElement("div",null,R.createElement(BO,{className:"PathInput-fileBrowserButton-Zi80W FormInputButton-button-qvTt5 Button-button-paJ9a Link-link-RInnp",onPress:this.onFileBrowserOpenPress},R.createElement(Lo,{name:Sn})),R.createElement(VT,{isOpen:l,name:t,value:i,includeFiles:s,onChange:a,onModalClose:this.onFileBrowserModalClose})))}}QT.defaultProps={className:"PathInput-inputWrapper-tZDyS",value:"",hasFileBrowser:!0};const WT=QT;function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GT.apply(null,arguments)}const KT={dispatchFetchPaths:km,dispatchClearPaths:wm};class $T extends R.Component{constructor(...e){super(...e),this.onFetchPaths=e=>{const{includeFiles:t,dispatchFetchPaths:n}=this.props;n({path:e,includeFiles:t})},this.onClearPaths=()=>{this.props.dispatchClearPaths()}}render(){return R.createElement(WT,GT({onFetchPaths:this.onFetchPaths,onClearPaths:this.onClearPaths},this.props))}}$T.defaultProps={includeFiles:!1};const YT=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.paths),(e=>{const{currentPath:t,directories:n,files:s}=e;return{paths:U().filter([...n,...s],(({path:e})=>e.toLowerCase().startsWith(t.toLowerCase())))}}))}),KT)($T);function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},JT.apply(null,arguments)}class XT extends R.Component{constructor(...e){super(...e),this.onChange=({name:e,value:t})=>{this.props.onChange({name:e,value:"noChange"===t?t:parseInt(t)})}}componentDidMount(){const{name:e,value:t,values:n}=this.props;if(!t||!n.some((e=>e.key===t||parseInt(e.key)===t))){const t=n.find((e=>!isNaN(parseInt(e.key))));t&&this.onChange({name:e,value:t.key})}}render(){return R.createElement(ZI,JT({},this.props,{onChange:this.onChange}))}}XT.defaultProps={includeNoChange:!1};const ZT=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.qualityProfiles",cr),((e,{includeNoChange:t})=>t),((e,{includeNoChangeDisabled:t})=>t),((e,{includeMixed:t})=>t),((e,t,n=!0,s)=>{const o=U().map(e.items,(e=>({key:e.id,value:e.name})));return t&&o.unshift({key:"noChange",value:te("NoChange"),isDisabled:n}),s&&o.unshift({key:"mixed",value:"(Mixed)",isDisabled:!0}),{values:o}}))}))(XT),eN=function(e){return(0,Ky.Mz)(((e,{id:t})=>t),(t=>t.settings[e]),((e,t)=>{if(!e){const e=U().isArray(t.schema)?t.selectedSchema:t.schema,n=PI(Object.assign({name:""},e),t.pendingChanges,t.saveError),{isSchemaFetching:s,isSchemaPopulated:o,schemaError:a,isSaving:r,saveError:i,isTesting:l,pendingChanges:c}=t;return{isFetching:s,isPopulated:o,error:a,isSaving:r,saveError:i,isTesting:l,pendingChanges:c,...n,item:n.settings}}const{isFetching:n,isPopulated:s,error:o,isSaving:a,saveError:r,isTesting:i,pendingChanges:l}=t,c=PI(U().find(t.items,{id:e}),l,r);return{isFetching:n,isPopulated:s,error:o,isSaving:a,saveError:r,isTesting:i,...c,item:c.settings}}))},tN=function(){return R.createElement("div",null,"Select 'None' to only include items manually added via search or that match files on disk")};class nN extends R.Component{render(){const{className:e,children:t}=this.props;return R.createElement("dl",{className:e},t)}}nN.defaultProps={className:"DescriptionList-descriptionList-o7bt3"};const sN=nN;function oN(e){const{className:t,children:n}=e;return R.createElement("dd",{className:t},n)}oN.defaultProps={className:"DescriptionListItemDescription-description-IZlGY"};const aN=oN;function rN(e){const{className:t,children:n}=e;return R.createElement("dt",{className:t},n)}rN.defaultProps={className:"DescriptionListItemTitle-title-br1UE"};const iN=rN;class lN extends R.Component{render(){const{titleClassName:e,descriptionClassName:t,title:n,data:s}=this.props;return R.createElement("div",null,R.createElement(iN,{className:e},n),R.createElement(aN,{className:t},s))}}const cN=lN,dN=function(){return R.createElement(R.Fragment,null,R.createElement(OI,null,te("MonitoringOptionsHelpText")),R.createElement(sN,null,R.createElement(cN,{title:te("AllBooks"),data:te("DataAllBooks")}),R.createElement(cN,{title:te("FutureBooks"),data:te("DataFutureBooks")}),R.createElement(cN,{title:te("MissingBooks"),data:te("DataMissingBooks")}),R.createElement(cN,{title:te("ExistingBooks"),data:te("DataExistingBooks")}),R.createElement(cN,{title:te("FirstBook"),data:te("DataFirstBook")}),R.createElement(cN,{title:te("LatestBook"),data:te("DataLatestBook")}),R.createElement(cN,{title:te("None"),data:te("DataNone")})))},uN=function(){return R.createElement(sN,null,R.createElement(cN,{title:te("AllBooks"),data:te("DataNewAllBooks")}),R.createElement(cN,{title:te("NewBooks"),data:te("DataNewBooks")}),R.createElement(cN,{title:te("None"),data:te("DataNewNone")}))};class mN extends R.Component{render(){const{size:e,legend:t,children:n}=this.props;return R.createElement("fieldset",{className:"FieldSet-fieldSet-CMapa"},R.createElement("legend",{className:Fo()("FieldSet-legend-M8__d",e===po&&"FieldSet-small-SxwJl")},t),n)}}mN.defaultProps={size:go};const hN=mN,pN={tooltipContainer:"Tooltip-tooltipContainer-gDO7_",tooltip:"Tooltip-tooltip-qMfbq",default:"Tooltip-default-esYBk",inverse:"Tooltip-inverse-Tdtfn",arrow:"Tooltip-arrow-EePNR",arrowDisabled:"Tooltip-arrowDisabled-TxV9g",top:"Tooltip-top-yIoOO",right:"Tooltip-right-clP43",bottom:"Tooltip-bottom-awZ3q",left:"Tooltip-left-WEn0f",body:"Tooltip-body-EY7l7",verticalContainer:"Tooltip-verticalContainer-Q9BQj",horizontalContainer:"Tooltip-horizontalContainer-vrDdq"};let gN=null;class EN extends R.Component{constructor(e,t){super(e,t),this.computeMaxSize=e=>{const{top:t,right:n,bottom:s,left:o}=e.offsets.reference,a=window.innerWidth,r=window.innerHeight;return/^top/.test(e.placement)?e.styles.maxHeight=t-20:/^bottom/.test(e.placement)?e.styles.maxHeight=r-s-20:/^right/.test(e.placement)?(e.styles.maxWidth=Math.min(this._maxWidth,a-n-20),e.styles.maxHeight=t-20):(e.styles.maxWidth=Math.min(this._maxWidth,o-20),e.styles.maxHeight=t-20),e},this.onMeasure=({width:e})=>{this.setState({width:e})},this.onClick=()=>{pM()&&this.setState({isOpen:!this.state.isOpen})},this.onMouseEnter=()=>{this._closeTimeout&&(this._closeTimeout=clearTimeout(this._closeTimeout)),this.setState({isOpen:!0})},this.onMouseLeave=()=>{this._closeTimeout=setTimeout((()=>{this.setState({isOpen:!1})}),100)},this._scheduleUpdate=null,this._closeTimeout=null,this._maxWidth=gN||function(){const e=window.innerWidth;return gN=e>=parseInt(Fk().breakpointLarge)?800:e>=parseInt(Fk().breakpointMedium)?650:e>=parseInt(Fk().breakpointSmall)?500:450,gN}(),this.state={isOpen:!1}}componentDidUpdate(){this._scheduleUpdate&&this.state.isOpen&&this._scheduleUpdate()}componentWillUnmount(){this._closeTimeout&&(this._closeTimeout=clearTimeout(this._closeTimeout))}render(){const{className:e,bodyClassName:t,anchor:n,tooltip:s,kind:o,position:a,canFlip:r}=this.props;return R.createElement(_I.Ay,null,R.createElement(LI.A,null,(({ref:t})=>R.createElement("span",{ref:t,className:e,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n))),R.createElement(VI,null,R.createElement(jI.Ay,{placement:a,eventsEnabled:!1,modifiers:{computeMaxHeight:{order:851,enabled:!0,fn:this.computeMaxSize},preventOverflow:{escapeWithReference:!1},flip:{enabled:r}}},(({ref:e,style:n,placement:r,arrowProps:i,scheduleUpdate:l})=>{this._scheduleUpdate=l;const c=r?r.split("-")[0]:a,d="top"===c||"bottom"===c;return R.createElement("div",{ref:e,className:Fo()(pN.tooltipContainer,d?pN.verticalContainer:pN.horizontalContainer),style:n,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},R.createElement("div",{className:this.state.isOpen?Fo()(pN.arrow,pN[o],pN[c]):pN.arrowDisabled,ref:i.ref,style:i.style}),this.state.isOpen?R.createElement("div",{className:Fo()(pN.tooltip,pN[o])},R.createElement("div",{className:t},s)):null)}))))}}EN.defaultProps={bodyClassName:pN.body,kind:Zs,position:bo,canFlip:!1};const fN=EN;function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CN.apply(null,arguments)}const vN=function(e){const{title:t,body:n,...s}=e;return R.createElement(fN,CN({},s,{bodyClassName:"Popover-tooltipBody-VJBHk",tooltip:R.createElement("div",null,R.createElement("div",{className:"Popover-title-GAfA1"},t),R.createElement("div",{className:"Popover-body-nroDV"},n))}))},SN="EditRootFolderModalContent-labelIcon-tkshJ";function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bN.apply(null,arguments)}const PN=function(e){var t;const{advancedSettings:n,isFetching:s,error:o,isSaving:a,saveError:r,item:i,onInputChange:l,onModalClose:c,onSavePress:d,onDeleteRootFolderPress:u,showMetadataProfile:m,...h}=e,{id:p,name:g,path:E,defaultMetadataProfileId:f,defaultMonitorOption:C,defaultNewItemMonitorOption:v,defaultTags:S,isCalibreLibrary:b,host:P,port:y,urlBase:M,username:I,password:k,library:O,outputFormat:w,outputProfile:T,useSsl:N}=i;return null!=T&&T.value&&(null==(t=We.find((e=>e.key===T.value)))||t.description),R.createElement(_M,{onModalClose:c},R.createElement(QM,null,p?"Edit Root Folder":"Add Root Folder"),R.createElement(BM,null,s&&R.createElement(tM,null),!s&&!!o&&R.createElement("div",null,te("UnableToAddANewRootFolderPleaseTryAgain")),!s&&!o&&R.createElement(Sk,h,R.createElement(hN,{legend:te("RootFolder")},R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,bN({type:Gs,name:"name"},g,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("Path")),R.createElement(ED,bN({type:p?Gs:Bs,readOnly:!!p,name:"path",helpText:te("PathHelpText"),helpTextWarning:te("PathHelpTextWarning")},E,{onChange:l})))),R.createElement(hN,{legend:te("AddedAuthorSettings")},R.createElement(AI,null,R.createElement(Mk,null,te("Monitor"),R.createElement(vN,{anchor:R.createElement(Lo,{className:SN,name:kn}),title:te("MonitoringOptions"),body:R.createElement(dN,null),position:Po})),R.createElement(ED,bN({type:Ds,name:"defaultMonitorOption",onChange:l},C,{helpText:te("DefaultMonitorOptionHelpText")}))),R.createElement(AI,null,R.createElement(Mk,null,te("MonitorNewItems"),R.createElement(vN,{anchor:R.createElement(Lo,{className:SN,name:kn}),title:te("MonitorNewItems"),body:R.createElement(uN,null),position:Po})),R.createElement(ED,bN({type:As,name:"defaultNewItemMonitorOption"},v,{onChange:l,helpText:te("MonitorNewItemsHelpText")}))),R.createElement(AI,{className:m?void 0:"EditRootFolderModalContent-hideMetadataProfile-G6Ihj FormGroup-group-UkYsg"},R.createElement(Mk,null,te("MetadataProfile"),R.createElement(vN,{anchor:R.createElement(Lo,{className:SN,name:kn}),title:te("MetadataProfile"),body:R.createElement(tN,null),position:Po})),R.createElement(ED,bN({type:js,name:"defaultMetadataProfileId",helpText:te("DefaultMetadataProfileIdHelpText")},f,{includeNone:!0,onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("DefaultReadarrTags")),R.createElement(ED,bN({type:Ws,name:"defaultTags",helpText:te("DefaultTagsHelpText")},S,{onChange:l})))),!1)),R.createElement(HM,null,p&&R.createElement(TM,{className:"EditRootFolderModalContent-deleteButton-h717U Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:u},te("Delete")),R.createElement(TM,{onPress:c},te("Cancel")),R.createElement(CT,{isSpinning:a,error:r,onPress:d},te("Save"))))};function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yN.apply(null,arguments)}const MN={setRootFolderValue:WS,saveRootFolder:VS};class IN extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setRootFolderValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveRootFolder({id:this.props.id}),this.props.onRootFolderAdded&&this.props.onRootFolderAdded(this.props.item.path)}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(PN,yN({},this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange}))}}const kN=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{id:t})=>t),(e=>e.settings.advancedSettings),(e=>e.settings.metadataProfiles),(e=>e.settings.rootFolders),eN("rootFolders"),((e,t,n,s,o)=>({advancedSettings:t,showMetadataProfile:n.items.length>1,...o,isFetching:s.isFetching})))}),MN)(IN);function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ON.apply(null,arguments)}const wN=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(kN,ON({},n,{onModalClose:t})))};function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TN.apply(null,arguments)}class NN extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.dispatchCancelSaveRootFolder(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,dispatchCancelSaveRootFolder:t,...n}=this.props;return R.createElement(wN,TN({},n,{onModalClose:this.onModalClose}))}}const DN=(0,Wy.Ng)(null,(function(e,t){const n="settings.rootFolders";return{dispatchClearPendingChanges(){e(he({section:n}))},dispatchCancelSaveRootFolder(){e(qS({section:n}))}}}))(NN);var AN=n(19412);const FN=function(e,t=!1){const n=Number(e);return isNaN(n)?"":`${(0,AN.O)(n,{base:2,round:1,bits:t})}`};function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xN.apply(null,arguments)}function RN(e){const{id:t,value:n,name:s,freeSpace:o,authorFolder:a,isMissing:r,isMobile:i,isWindows:l,...c}=e,d=l?"\\":"/",u=""===s?n:`[${s}] ${n}`;return R.createElement(gw,xN({id:t,isMobile:i},c),R.createElement("div",{className:Fo()("RootFolderSelectInputOption-optionText-kW7hj",i&&"RootFolderSelectInputOption-isMobile-UAHiE")},R.createElement("div",{className:"RootFolderSelectInputOption-value-BaWTE"},u,a&&"addNew"!==t?R.createElement("div",{className:"RootFolderSelectInputOption-authorFolder-BPxBo"},d,a):null),null==o?null:R.createElement("div",{className:"RootFolderSelectInputOption-freeSpace-qzV1M"},FN(o)," Free"),r?R.createElement("div",{className:"RootFolderSelectInputOption-isMissing-ZGVV4"},"Missing"):null))}RN.defaultProps={name:""};const BN=RN;function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LN.apply(null,arguments)}function jN(e){const{name:t,value:n,freeSpace:s,authorFolder:o,includeFreeSpace:a,isWindows:r,...i}=e,l=r?"\\":"/",c=""===t?n:`[${t}] ${n}`;return R.createElement(Sw,LN({className:"RootFolderSelectInputSelectedValue-selectedValue-u1zQX EnhancedSelectInputSelectedValue-selectedValue-ZYeSR"},i),R.createElement("div",{className:"RootFolderSelectInputSelectedValue-pathContainer-F0iuJ"},R.createElement("div",{className:"RootFolderSelectInputSelectedValue-path-RO3q2"},c),o?R.createElement("div",{className:"RootFolderSelectInputSelectedValue-authorFolder-c2YEp"},l,o):null),null!=s&&a&&R.createElement("div",{className:"RootFolderSelectInputSelectedValue-freeSpace-jhiEe"},FN(s)," Free"))}jN.defaultProps={name:"",includeFreeSpace:!0};const _N=jN;function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zN.apply(null,arguments)}class UN extends R.Component{constructor(e,t){super(e,t),this.onChange=({name:e,value:t})=>{"addNew"===t?this.setState({isAddNewRootFolderModalOpen:!0}):this.props.onChange({name:e,value:t})},this.onNewRootFolderSelect=({value:e})=>{this.setState({newRootFolderPath:e})},this.onAddRootFolderModalClose=()=>{this.setState({isAddNewRootFolderModalOpen:!1})},this.state={isAddNewRootFolderModalOpen:!1}}componentDidUpdate(e){const{name:t,isSaving:n,saveError:s,onChange:o}=this.props,a=this.state.newRootFolderPath;e.isSaving&&!n&&!s&&a&&(o({name:t,value:a}),this.setState({newRootFolderPath:""}))}render(){const{includeNoChange:e,...t}=this.props;return R.createElement("div",null,R.createElement(xw,zN({},t,{selectedValueComponent:_N,optionComponent:BN,onChange:this.onChange})),R.createElement(DN,{isOpen:this.state.isAddNewRootFolderModalOpen,onModalClose:this.onAddRootFolderModalClose,onRootFolderAdded:this.onNewRootFolderSelect}))}}UN.defaultProps={includeNoChange:!1};const HN=UN;function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VN.apply(null,arguments)}const qN="addNew";class QN extends R.Component{UNSAFE_componentWillMount(){const{value:e,values:t,onChange:n}=this.props;null==e&&""===t[0].key&&n({name,value:""})}componentDidMount(){const{name:e,value:t,values:n,onChange:s}=this.props;if(!t||!n.some((e=>e.key===t))||t===qN){const t=n[0];t.key===qN?s({name:e,value:""}):s({name:e,value:t.key})}}componentDidUpdate(e){const{name:t,value:n,values:s,onChange:o}=this.props;if(e.values!==s&&!n&&s.length&&s.some((e=>!!e.key&&e.key!==qN))){const e=s[0];e.key!==qN&&o({name:t,value:e.key})}}render(){const{...e}=this.props;return R.createElement(HN,VN({},e,{onNewRootFolderSelect:this.onNewRootFolderSelect}))}}QN.defaultProps={includeNoChange:!1};const WN=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.rootFolders),((e,{value:t})=>t),((e,{includeMissingValue:t})=>t),((e,{includeNoChange:t})=>t),((e,{includeNoChangeDisabled:t})=>t),((e,t,n,s,o=!0)=>{const a=e.items.map((e=>({key:e.path,value:e.path,name:e.name,freeSpace:e.freeSpace,isMissing:!1})));return s&&a.unshift({key:"noChange",value:te("NoChange"),isDisabled:o,isMissing:!1}),a.length||a.push({key:"",value:"",isDisabled:!0,isHidden:!0}),n&&!a.find((e=>e.key===t))&&a.push({key:t,value:t,isMissing:!0,isDisabled:!0}),a.push({key:qN,value:"Add a new path"}),{values:a,isSaving:e.isSaving,saveError:e.saveError}}))}))(QN),GN=function(){return(0,Ky.Mz)((e=>e.tags.items),(e=>e))};function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KN.apply(null,arguments)}const $N=new RegExp("[^-_a-z0-9]","i"),YN={addTag:EP};class JN extends R.Component{constructor(...e){super(...e),this.onTagAdd=e=>{const{name:t,value:n,allTags:s}=this.props;if(!e.id){const t=U().some(s,{label:e.name});return void(function(e){try{return!$N.test(e)}catch(e){return!1}}(e.name)&&!t&&this.props.addTag({tag:{label:e.name},onTagCreated:this.onTagCreated}))}const o=n.slice();o.push(e.id),this.props.onChange({name:t,value:o})},this.onTagDelete=({index:e})=>{const{name:t,value:n}=this.props,s=n.slice();s.splice(e,1),this.props.onChange({name:t,value:s})},this.onTagCreated=e=>{const{name:t,value:n}=this.props,s=n.slice();s.push(e.id),this.props.onChange({name:t,value:s})}}componentDidMount(){const{name:e,value:t,tags:n,onChange:s}=this.props;t.length!==n.length&&s({name:e,value:n.map((e=>e.id))})}render(){return R.createElement(nw,KN({onTagAdd:this.onTagAdd,onTagDelete:this.onTagDelete,onTagReplace:this.onTagReplace},this.props))}}const XN=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{value:t})=>t),GN(),((e,t)=>{const n=U().sortBy(t,"label"),s=U().filter(n,(t=>-1===U().indexOf(e,t.id)));return{tags:e.reduce(((e,n)=>{const s=U().find(t,{id:n});return s&&e.push({id:n,name:s.label}),e}),[]),tagList:s.map((({id:e,label:t})=>({id:e,name:t}))),allTags:n}}))}),YN)(JN);function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZN.apply(null,arguments)}class eD extends R.Component{constructor(...e){super(...e),this.onTagAdd=e=>{const{name:t,value:n,allTags:s}=this.props,o=U().some(s,{key:e.id}),a=n.slice();o&&a.push(e.id),this.props.onChange({name:t,value:a})},this.onTagDelete=({index:e})=>{const{name:t,value:n}=this.props,s=n.slice();s.splice(e,1),this.props.onChange({name:t,value:s})}}render(){return R.createElement(nw,ZN({onTagAdd:this.onTagAdd,onTagDelete:this.onTagDelete},this.props))}}const tD=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{value:t})=>t),((e,{values:t})=>t),((e,t)=>{const n=U().sortBy(t,"value");return{tags:e.reduce(((e,n)=>{const s=U().find(t,{key:n});return s&&e.push({id:n,name:s.value}),e}),[]),tagList:n.map((({key:e,value:t})=>({id:e,name:t}))),allTags:n}}))}))(eD);class nD extends R.Component{constructor(e,t){super(e,t),this.setInputRef=e=>{this._input=e},this.onChange=e=>{const{name:t,onChange:n}=this.props;n({name:t,value:e.target.value})},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e),this.selectionChange()},this.onKeyUp=()=>{this.selectionChange()},this.onMouseDown=()=>{this._isMouseTarget=!0},this.onMouseUp=()=>{this.selectionChange()},this.onDocumentMouseUp=()=>{this._isMouseTarget&&this.selectionChange(),this._isMouseTarget=!1},this._input=null,this._selectionStart=null,this._selectionEnd=null,this._selectionTimeout=null,this._isMouseTarget=!1}componentDidMount(){window.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){window.removeEventListener("mouseup",this.onDocumentMouseUp),this._selectionTimeout&&(this._selectionTimeout=clearTimeout(this._selectionTimeout))}selectionChange(){this._selectionTimeout&&(this._selectionTimeout=clearTimeout(this._selectionTimeout)),this._selectionTimeout=setTimeout((()=>{const e=this._input.selectionStart,t=this._input.selectionEnd,n=this._selectionStart!==e||this._selectionEnd!==t;this._selectionStart=e,this._selectionEnd=t,this.props.onSelectionChange&&n&&this.props.onSelectionChange(e,t)}),10)}render(){const{className:e,readOnly:t,autoFocus:n,placeholder:s,name:o,value:a,hasError:r,hasWarning:i,onBlur:l}=this.props;return R.createElement("textarea",{ref:this.setInputRef,readOnly:t,autoFocus:n,placeholder:s,className:Fo()(e,t&&"TextArea-readOnly-ysBOQ",r&&"TextArea-hasError-tL5zd Input-hasError-_3DW5",i&&"TextArea-hasWarning-qW1kz Input-hasWarning-K_6E_"),name:o,value:a,onChange:this.onChange,onFocus:this.onFocus,onBlur:l,onKeyUp:this.onKeyUp,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp})}}nD.defaultProps={className:"TextArea-input-E794O Input-input-KWeec",type:"text",readOnly:!1,autoFocus:!1,value:""};const sD=nD,oD=function(e,t=","){return e?U().reduce(e.split(t),((e,t)=>(t&&e.push(t),e)),[]):[]};function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aD.apply(null,arguments)}class rD extends R.Component{constructor(...e){super(...e),this.onTagAdd=e=>{const{name:t,valueArray:n,onChange:s}=this.props,o=[...n];(e.name.startsWith("/")?[e.name]:oD(e.name)).forEach((e=>{o.push(e.trim())})),s({name:t,value:o})},this.onTagDelete=({index:e})=>{const{name:t,valueArray:n,onChange:s}=this.props,o=[...n];o.splice(e,1),s({name:t,value:o})},this.onTagReplace=(e,t)=>{const{name:n,valueArray:s,onChange:o}=this.props,a=[...s];a.splice(e.index,1),a.push(t.name.trim()),o({name:n,value:a})}}render(){return R.createElement(nw,aD({delimiters:["Tab","Enter",","],tagList:[],onTagAdd:this.onTagAdd,onTagDelete:this.onTagDelete,onTagReplace:this.onTagReplace},this.props))}}const iD=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{value:t})=>t),(e=>{const t=Array.isArray(e)?e:oD(e);return{tags:t.reduce(((e,t)=>(t&&e.push({id:t,name:t}),e)),[]),valueArray:t}}))}),null)(rD),lD="UMaskInput-unit-KOW_y",cD="UMaskInput-value-NygNY",dD=[{key:"755",value:"755 - Owner write, Everyone else read",hint:"drwxr-xr-x"},{key:"775",value:"775 - Owner & Group write, Other read",hint:"drwxrwxr-x"},{key:"770",value:"770 - Owner & Group write",hint:"drwxrwx---"},{key:"750",value:"750 - Owner write, Group read",hint:"drwxr-x---"},{key:"777",value:"777 - Everyone write",hint:"drwxrwxrwx"}];function uD(e){const t=512&e,n=1024&e,s=2048&e;let o="";for(let a=0;a<9;a++){const r=!!(e&1<<a);let i=r?"xwr"[a%3]:"-";6===a&&s||3===a&&n?i=r?"s":"S":0===a&&t&&(i=r?"t":"T"),o=i+o}return o}class mD extends R.Component{render(){const{name:e,value:t,onChange:n}=this.props,s=511&~parseInt(t,8),o=s.toString(8).padStart(4,"0"),a=511&~s,r=a.toString(8).padStart(3,"0"),i=438&~s,l=i.toString(8).padStart(3,"0"),c=uD(a),d=dD.map((e=>({...e,hint:R.createElement("span",{className:lD},e.hint)})));return R.createElement("div",null,R.createElement("div",{className:"UMaskInput-inputWrapper-UxHxs"},R.createElement("div",{className:"UMaskInput-inputUnitWrapper-OaoxB"},R.createElement(xw,{name:e,value:t,values:d,isEditable:!0,onChange:n}),R.createElement("div",{className:"UMaskInput-inputUnit-nvPDj FormInputGroup-inputUnit-rRSCN"},"d",c))),R.createElement("div",{className:"UMaskInput-details-vz9Ac"},R.createElement("div",null,R.createElement("label",null,"UMask"),R.createElement("div",{className:cD},o)),R.createElement("div",null,R.createElement("label",null,"Folder"),R.createElement("div",{className:cD},r),R.createElement("div",{className:lD},"d",uD(a))),R.createElement("div",null,R.createElement("label",null,"File"),R.createElement("div",{className:cD},l),R.createElement("div",{className:lD},uD(i)))))}}const hD=mD;function pD(){return pD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pD.apply(null,arguments)}function gD(e){const{className:t,containerClassName:n,inputClassName:s,type:o,unit:a,buttons:r,helpText:i,helpTexts:l,helpTextWarning:c,helpLink:d,pending:u,errors:m,warnings:h,...p}=e,g=function(e){switch(e){case ks:return YI;case Os:return qO;case ws:return dk;case Ts:return cw;case Ns:return OO;case"keyValueList":return tT;case Ds:return lT;case As:return uT;case Fs:return gT;case xs:return MT;case Rs:return OT;case Bs:return YT;case Ls:return ZT;case js:return aT;case _s:return nk;case zs:return Yw;case Us:return Ww;case Hs:return jw;case Vs:return WN;case qs:return xw;case Qs:return qw;case Ws:return XN;case Ks:return sD;case $s:return iD;case Ys:return tD;case Js:return hD;default:return jO}}(o),E=o===ws,f=!!m.length,C=!f&&!!h.length,v=R.Children.toArray(r),S=v.length-1,b=!!v.length;return R.createElement("div",{className:n},R.createElement("div",{className:t},R.createElement("div",{className:"FormInputGroup-inputContainer-yauGG"},R.createElement(g,pD({className:s,helpText:i,helpTextWarning:c,hasError:f,hasWarning:C,hasButton:b},p)),a&&R.createElement("div",{className:o===Fs?"FormInputGroup-inputUnitNumber-oqRfn FormInputGroup-inputUnit-rRSCN":"FormInputGroup-inputUnit-rRSCN"},a)),v.map(((e,t)=>R.cloneElement(e,{isLastButton:t===S})))),!E&&i&&R.createElement(ik,{text:i}),!E&&l&&R.createElement("div",null,l.map(((e,t)=>R.createElement(ik,{key:t,text:e,isCheckInput:E})))),(!E||i)&&c&&R.createElement(ik,{text:c,isWarning:!0}),d&&R.createElement(IM,{to:d},te("MoreInfo")),m.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,link:e.link,tooltip:e.detailedMessage,isError:!0,isCheckInput:E}))),h.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,link:e.link,tooltip:e.detailedMessage,isWarning:!0,isCheckInput:E}))))}gD.defaultProps={className:"FormInputGroup-inputGroup-Yqmkv",containerClassName:"FormInputGroup-inputGroupContainer-YhfqJ",type:Gs,buttons:[],helpTexts:[],errors:[],warnings:[]};const ED=gD;var fD=n(57576),CD=n.n(fD);function vD(){return vD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vD.apply(null,arguments)}class SD extends R.Component{constructor(e,t){super(e,t),this.resetState=()=>{this.setState({showSuccess:!1,showError:!1})},this.onSuccess=()=>{this.setState({showSuccess:!0})},this.onError=()=>{this.setState({showError:!0})},this._id=fM(),this._successTimeout=null,this._testResultTimeout=null,this.state={showSuccess:!1,showError:!1}}componentDidMount(){this._clipboard=new(CD())(`#${this._id}`,{text:()=>this.props.value,container:document.getElementById(this._id)}),this._clipboard.on("success",this.onSuccess)}componentDidUpdate(){const{showSuccess:e,showError:t}=this.state;(e||t)&&(this._testResultTimeout=setTimeout(this.resetState,3e3))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy(),this._testResultTimeout&&clearTimeout(this._testResultTimeout)}render(){const{value:e,className:t,...n}=this.props,{showSuccess:s,showError:o}=this.state,a=s||o,r=o?nn:qt,i=o?Xs:ao;return R.createElement(BO,vD({id:this._id,className:t},n),R.createElement("span",{className:a?"ClipboardButton-showStateIcon-Abpza":void 0},s&&R.createElement("span",{className:"ClipboardButton-stateIconContainer-AejXw"},R.createElement(Lo,{name:r,kind:i})),R.createElement("span",{className:"ClipboardButton-clipboardIconContainer-cs16L"},R.createElement(Lo,{name:Jt}))))}}SD.defaultProps={className:"ClipboardButton-button-u0nGA FormInputButton-button-qvTt5 Button-button-paJ9a Link-link-RInnp"};const bD=SD;var PD=n(6411),yD=n.n(PD);function MD(){return MD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},MD.apply(null,arguments)}const ID={OPEN_KEYBOARD_SHORTCUTS_MODAL:{key:"?",name:"Open This Modal"},CLOSE_MODAL:{key:"Esc",name:"Close Current Modal"},ACCEPT_CONFIRM_MODAL:{key:"Enter",name:"Accept Confirmation Modal"},AUTHOR_SEARCH_INPUT:{key:"s",name:"Focus Search Box"},SAVE_SETTINGS:{key:"mod+s",name:"Save Settings"}},kD=function(e){class t extends R.Component{constructor(e,t){super(e,t),this.bindShortcut=(e,t,n={})=>{this._mousetrap.bind(e,t),this._mousetrapBindings[e]=n},this.unbindShortcut=e=>{null!=this._mousetrap&&(delete this._mousetrapBindings[e],this._mousetrap.unbind(e))},this.unbindAllShortcuts=()=>{const e=Object.keys(this._mousetrapBindings);e.length&&(e.forEach((e=>{this._mousetrap.unbind(e)})),this._mousetrapBindings={})},this.stopCallback=(e,t,n)=>{const s=this._mousetrapBindings[n];return!(!s||s.isGlobal)&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable)},this._mousetrapBindings={},this._mousetrap=new(yD()),this._mousetrap.stopCallback=this.stopCallback}componentWillUnmount(){this.unbindAllShortcuts(),this._mousetrap=null}render(){return R.createElement(e,MD({},this.props,{bindShortcut:this.bindShortcut,unbindShortcut:this.unbindShortcut}))}}var n;return t.displayName=`KeyboardShortcut(${n=e,n.displayName||n.name||"Component"})`,t.WrappedComponent=e,t};function OD(e){const{isOpen:t,kind:n,size:s,title:o,message:a,confirmLabel:r,cancelLabel:i,hideCancelButton:l,isSpinning:c,onConfirm:d,onCancel:u,bindShortcut:m,unbindShortcut:h}=e;return(0,R.useEffect)((()=>{if(t)return m("enter",d),()=>h("enter",d)}),[m,h,t,d]),R.createElement(JM,{isOpen:t,size:s,onModalClose:u},R.createElement(_M,{onModalClose:u},R.createElement(QM,null,o),R.createElement(BM,null,a),R.createElement(HM,null,!l&&R.createElement(TM,{kind:Zs,onPress:u},i),R.createElement(AO,{autoFocus:!0,kind:n,isSpinning:c,onPress:d},r))))}OD.defaultProps={kind:so,size:go,confirmLabel:"OK",cancelLabel:"Cancel",isSpinning:!1};const wD=kD(OD);function TD(){return TD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TD.apply(null,arguments)}const ND=[{key:"none",get value(){return te("None")},isDisabled:!0},{key:"external",get value(){return te("External")},isHidden:!0},{key:"basic",get value(){return te("AuthBasic")}},{key:"forms",get value(){return te("AuthForm")}}],DD=[{key:"enabled",get value(){return te("Enabled")}},{key:"disabledForLocalAddresses",get value(){return te("DisabledForLocalAddresses")}}],AD=[{key:"enabled",get value(){return te("Enabled")}},{key:"disabledForLocalAddresses",get value(){return te("DisabledForLocalAddresses")}},{key:"disabled",get value(){return te("Disabled")}}];class FD extends R.Component{constructor(e,t){super(e,t),this.onApikeyFocus=e=>{e.target.select()},this.onResetApiKeyPress=()=>{this.setState({isConfirmApiKeyResetModalOpen:!0})},this.onConfirmResetApiKey=()=>{this.setState({isConfirmApiKeyResetModalOpen:!1}),this.props.onConfirmResetApiKey()},this.onCloseResetApiKeyModal=()=>{this.setState({isConfirmApiKeyResetModalOpen:!1})},this.state={isConfirmApiKeyResetModalOpen:!1}}render(){const{settings:e,isResettingApiKey:t,onInputChange:n}=this.props,{authenticationMethod:s,authenticationRequired:o,username:a,password:r,passwordConfirmation:i,apiKey:l,certificateValidation:c}=e,d=s&&"none"!==s.value;return R.createElement(hN,{legend:te("Security")},R.createElement(AI,null,R.createElement(Mk,null,te("Authentication")),R.createElement(ED,TD({type:qs,name:"authenticationMethod",values:ND,helpText:te("AuthenticationMethodHelpText"),helpTextWarning:te("AuthenticationRequiredWarning"),onChange:n},s))),d?R.createElement(AI,null,R.createElement(Mk,null,te("AuthenticationRequired")),R.createElement(ED,TD({type:qs,name:"authenticationRequired",values:DD,helpText:te("AuthenticationRequiredHelpText"),onChange:n},o))):null,d?R.createElement(AI,null,R.createElement(Mk,null,te("Username")),R.createElement(ED,TD({type:Gs,name:"username",onChange:n},a))):null,d?R.createElement(AI,null,R.createElement(Mk,null,te("Password")),R.createElement(ED,TD({type:Rs,name:"password",onChange:n},r))):null,d?R.createElement(AI,null,R.createElement(Mk,null,te("PasswordConfirmation")),R.createElement(ED,TD({type:Rs,name:"passwordConfirmation",onChange:n},i))):null,R.createElement(AI,null,R.createElement(Mk,null,te("ApiKey")),R.createElement(ED,TD({type:Gs,name:"apiKey",readOnly:!0,helpTextWarning:te("RestartRequiredHelpTextWarning"),buttons:[R.createElement(bD,{key:"copy",value:l.value,kind:Zs}),R.createElement(BO,{key:"reset",kind:Xs,onPress:this.onResetApiKeyPress},R.createElement(Lo,{name:Gn,isSpinning:t}))],onChange:n,onFocus:this.onApikeyFocus},l))),R.createElement(AI,null,R.createElement(Mk,null,te("CertificateValidation")),R.createElement(ED,TD({type:qs,name:"certificateValidation",values:AD,helpText:te("CertificateValidationHelpText"),onChange:n},c))),R.createElement(wD,{isOpen:this.state.isConfirmApiKeyResetModalOpen,kind:Xs,title:te("ResetAPIKey"),message:te("ResetAPIKeyMessageText"),confirmLabel:te("Reset"),onConfirm:this.onConfirmResetApiKey,onCancel:this.onCloseResetApiKeyModal}))}}const xD=FD;function RD(){return RD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RD.apply(null,arguments)}function BD(){}const LD=function(e){const{isPopulated:t,error:n,isSaving:s,settings:o,onInputChange:a,onSavePress:r,dispatchFetchStatus:i}=e,{authenticationMethod:l,authenticationRequired:c,username:d,password:u,passwordConfirmation:m}=o,h=l&&"none"!==l.value,p=(0,R.useRef)(!1);return(0,R.useEffect)((()=>{!s&&p.current&&i(),p.current=!0}),[s,i]),R.createElement(_M,{showCloseButton:!1,onModalClose:BD},R.createElement(QM,null,te("AuthenticationRequired")),R.createElement(BM,null,R.createElement(OI,{className:"AuthenticationRequiredModalContent-authRequiredAlert-E7Mqx Alert-alert-_KgnQ",kind:ro},te("AuthenticationRequiredWarning")),t&&!n?R.createElement("div",null,R.createElement(AI,null,R.createElement(Mk,null,te("AuthenticationMethod")),R.createElement(ED,RD({type:qs,name:"authenticationMethod",values:ND,helpText:te("AuthenticationMethodHelpText"),helpTextWarning:"none"===l.value?te("AuthenticationMethodHelpTextWarning"):void 0,helpLink:"https://wiki.servarr.com/readarr/faq#forced-authentication",onChange:a},l))),R.createElement(AI,null,R.createElement(Mk,null,te("AuthenticationRequired")),R.createElement(ED,RD({type:qs,name:"authenticationRequired",values:DD,helpText:te("AuthenticationRequiredHelpText"),onChange:a},c))),R.createElement(AI,null,R.createElement(Mk,null,te("Username")),R.createElement(ED,RD({type:Gs,name:"username",onChange:a,helpTextWarning:null!=d&&d.value?void 0:te("AuthenticationRequiredUsernameHelpTextWarning")},d))),R.createElement(AI,null,R.createElement(Mk,null,te("Password")),R.createElement(ED,RD({type:Rs,name:"password",onChange:a,helpTextWarning:null!=u&&u.value?void 0:te("AuthenticationRequiredPasswordHelpTextWarning")},u))),R.createElement(AI,null,R.createElement(Mk,null,te("PasswordConfirmation")),R.createElement(ED,RD({type:Rs,name:"passwordConfirmation",onChange:a,helpTextWarning:null!=m&&m.value?void 0:te("AuthenticationRequiredPasswordConfirmationHelpTextWarning")},m)))):null,t||n?null:R.createElement(tM,null)),R.createElement(HM,null,R.createElement(AO,{kind:so,isSpinning:s,isDisabled:!h,onPress:r},te("Save"))))};function jD(){return jD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jD.apply(null,arguments)}const _D="general",zD={dispatchClearPendingChanges:he,dispatchSetGeneralSettingsValue:$E,dispatchSaveGeneralSettings:KE,dispatchFetchGeneralSettings:GE,dispatchFetchStatus:Lb};class UD extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetGeneralSettingsValue({name:e,value:t})},this.onSavePress=()=>{this.props.dispatchSaveGeneralSettings()}}componentDidMount(){this.props.dispatchFetchGeneralSettings()}componentWillUnmount(){this.props.dispatchClearPendingChanges({section:`settings.${_D}`})}render(){const{dispatchClearPendingChanges:e,dispatchFetchGeneralSettings:t,dispatchSetGeneralSettingsValue:n,dispatchSaveGeneralSettings:s,...o}=this.props;return R.createElement(LD,jD({},o,{onInputChange:this.onInputChange,onSavePress:this.onSavePress}))}}const HD=(0,Wy.Ng)((function(){return(0,Ky.Mz)(yI(_D),(e=>({...e})))}),zD)(UD);function VD(){}const qD=function(e){const{isOpen:t}=e;return R.createElement(JM,{size:go,isOpen:t,closeOnBackgroundClick:!1,onModalClose:VD},R.createElement(HD,{onModalClose:VD}))};UI().shape({pathname:UI().string.isRequired,search:UI().string.isRequired,state:UI().object,action:UI().string,key:UI().string});var QD=n(80971);const WD=function(){return(0,Ky.Mz)((e=>e.authors),(e=>e.items))};var GD=n(86234);const KD=(0,Ky.Ad)(GD.UI,U().isEqual);var $D=n(98669);function YD(e,t){return e.find((e=>e.coverType===t))}function JD(e,t,n){const s=null==e?void 0:e.url;if(s)return s.replace(`${t}.jpg`,`${t}-${n}.jpg`)}class XD extends R.Component{constructor(e,t){super(e,t),this.onError=()=>{this.setState({hasError:!0}),this.props.onError&&this.props.onError()},this.onLoad=()=>{this.setState({isLoaded:!0,hasError:!1}),this.props.onLoad&&this.props.onLoad()};const n=Math.ceil(window.devicePixelRatio),{images:s,coverType:o,size:a}=e,r=YD(s,o);this.state={pixelRatio:n,image:r,url:JD(r,o,n*a),isLoaded:!1,hasError:!1}}componentDidMount(){!this.state.url&&this.props.onError&&this.props.onError()}componentDidUpdate(){const{images:e,coverType:t,placeholder:n,size:s,onError:o}=this.props,{image:a,pixelRatio:r}=this.state,i=YD(e,t);!i||a&&i.url===a.url?!i&&a&&(this.setState({image:i,url:n,hasError:!1}),o&&o()):this.setState({image:i,url:JD(i,t,r*s),hasError:!1})}render(){const{className:e,style:t,placeholder:n,size:s,lazy:o,overflow:a,blurBackground:r}=this.props,i={...t,objectFit:"fill",filter:"blur(8px)",WebkitFilter:"blur(8px)"},{url:l,hasError:c,isLoaded:d}=this.state;return c||!l?R.createElement("img",{className:e,style:t,src:n}):o?R.createElement($D.Ay,{height:s,offset:100,overflow:a,placeholder:R.createElement("img",{className:e,style:t,src:n})},R.createElement("img",{className:e,style:t,src:l,onError:this.onError,onLoad:this.onLoad,rel:"noreferrer"})):R.createElement(R.Fragment,null,r?R.createElement("img",{style:i,src:d?l:n,onError:this.onError,onLoad:this.onLoad}):null,R.createElement("img",{className:e,style:t,src:d?l:n,onError:this.onError,onLoad:this.onLoad}))}}XD.defaultProps={size:250,lazy:!0,overflow:!1,blurBackground:!1};const ZD=XD;function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eA.apply(null,arguments)}function tA(e){return R.createElement(ZD,eA({},e,{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPcAAAD3AQMAAAD7QlAQAAAABlBMVEUnJychISEIs8G4AAAEFklEQVRYw+2YMdPOQBDH95KQDEVSMKOj1FFQJx9BQc0nkeuUvoLS+AQ6MQqlRu8xCjpUgsjK7iXz2t1LMsbo8i/ey5vfc3e7m7tk9+DQoUOHDpGe3bu7hS8BwJ117BoAOLfOb/Hf62s4EY1VNrcPVvjNua1WuJ/b8xqoeR3sqFkllx8+AYAra9PniDg1ydr07cT7FQMy6k7ycQMKgJr5F4BrhvI9ZA3xCDU8fJggs9gBXJ35acX8lil74CPmO5w1xhwoIMVFMQcqKCfynH3soLLuEfkB4O5TBArDPZlH05ZkYMxBigyJDEyseylHFjjK4CzPyS4IE3gTgIxuAyulHzbG/as0PYsifM24X8/TA19Vxn2efjagNwFoHE2/GDAKpm86HE2AfMrmLQbqADnI2bzFQPv8y7NlM7naORU+uid+62X4xJg0V6PC1+KfvvSghWMgnh0cVIArCO694Ib+qWR4HQ257F9oRxu+L2FpzK3h7D5vPwqA5k1OPOwA4iaAOYWnZM4XPhPYT3eWDXriX4sHROjpskF7cC2eBHfUdVjeDw6/4Uk9oHqEz18DH9se8IvgCdQDBS/oLUxcPcB24mnAv+jfXvCMOdwI9jNXDxiJp9w9DCd4Afgdz96fF5GGk3xSCFBHw+gF4PAz9SQCwE7K5UGculJHGuTdKPun+IYHrafAUPfPKJdP4OhL7ErDuf9jfnXn6Gu6+Kj654EPKQIG7iu5PMLacGPO7Qf0EOMvx3LhhRh/5l+GOsahnPkw4Mw7sXzLedzxV+DvscsMZ8X51W0Olp/+5P7qIPlLPMEWP+3z5G94rXinuen/RWzAbe6g7hVvRX/DO8FdjMPB9+O3yD5fwf1fc72+/jcfN/cHRPZPJva/7q/27z9zlPyVfL9Abrgv/oW/Nvyx5vL9rbl5f78R/I3iTnP7fRH83QjVDpfCb4Kr71uxz1FzkN9nxfX32XKVHyj+BfweV/mJkM5Pdnkpsc6PfK64BynDM8lTiU1+l+LPP2iLUJj8sj5z3uaXgMPZFDY/rQDHs/rLTRxMfkwx4mX4hPLjaza/TgIfI/l1xvl5y/wT5+dSCd8rmXf8W2/qgx5S5rRYvAMlri+Ic2MKME9FCdQT/wJ8Ga1vSnzE+Z3l06REJi7qI1VfOXw0xusrCPVZ+6aP12dFqO/qN6d4fZeF+rB804X6sInXl/lrT1vBFtAu1KcuCfWpi9e33VLfJjZAS33ckvlZpH4uedu2nOcWhleiPr9peLFT32fyfGD7fMGBlf/jfCLZOd8oIrw6q4/o2jogzlc2z2fAW8w2nwvd3eqp0YXxCcdiS1HzRC8fw2ezJjvHVtn2tPbhqnOzTgNp1/kdv6pV7ig4RQOruuDBCax1+94dOHTo0KFDk34DoJynpPus3GIAAAAASUVORK5CYII="}))}tA.defaultProps={size:250,coverType:"poster"};const nA=tA,sA=function(e){const{match:t,name:n,images:s,tags:o}=e;let a=null;return"tags.label"===t.key&&(a=o[t.arrayIndex]),R.createElement("div",{className:"AuthorSearchResult-result-YwKh6"},R.createElement(nA,{className:"AuthorSearchResult-poster-eNVho",images:s,size:250,lazy:!1,overflow:!0}),R.createElement("div",{className:"AuthorSearchResult-titles-e7EXF"},R.createElement("div",{className:"AuthorSearchResult-title-m0X6X"},n),a?R.createElement("div",{className:"AuthorSearchResult-tagContainer-s8suZ AuthorSearchResult-title-m0X6X"},R.createElement(YO,{key:a.id,kind:to},a.label)):null))},oA=function(e){const{name:t,images:n}=e;return R.createElement("div",{className:"BookSearchResult-result-cSZLn"},R.createElement(nA,{className:"BookSearchResult-poster-pQCnK",images:n,coverType:"cover",size:250,lazy:!1,overflow:!0}),R.createElement("div",{className:"BookSearchResult-titles-dfNxd"},R.createElement("div",{className:"BookSearchResult-title-iyUCA"},t)))};var aA=n(55512),rA=n.n(aA);function iA(){return rA()('(()=>{"use strict";function t(t){return Array.isArray?Array.isArray(t):"[object Array]"===c(t)}function e(t){return"string"==typeof t}function n(t){return"number"==typeof t}function s(t){return"object"==typeof t}function i(t){return null!=t}function r(t){return!t.trim().length}function c(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const o=Object.prototype.hasOwnProperty;class h{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=a(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function a(n){let s=null,i=null,r=null,c=1,h=null;if(e(n)||t(n))r=n,s=l(n),i=u(n);else{if(!o.call(n,"name"))throw new Error("Missing name property in key");const t=n.name;if(r=t,o.call(n,"weight")&&(c=n.weight,c<=0))throw new Error((t=>`Property \'weight\' in key \'${t}\' must be a positive integer`)(t));s=l(t),i=u(t),h=n.getFn}return{path:s,id:i,weight:c,src:r,getFn:h}}function l(e){return t(e)?e:e.split(".")}function u(e){return t(e)?e.join("."):e}var d={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(r,o){let h=[],a=!1;const l=(r,o,u)=>{if(i(r))if(o[u]){const d=r[o[u]];if(!i(d))return;if(u===o.length-1&&(e(d)||n(d)||function(t){return!0===t||!1===t||function(t){return s(t)&&null!==t}(t)&&"[object Boolean]"==c(t)}(d)))h.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(d));else if(t(d)){a=!0;for(let t=0,e=d.length;t<e;t+=1)l(d[t],o,u+1)}else o.length&&l(d,o,u+1)}else h.push(r)};return l(r,e(o)?o.split("."):o,0),a?h:h[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const g=/[^ ]+/g;class f{constructor({getFn:t=d.getFn,fieldNormWeight:e=d.fieldNormWeight}={}){this.norm=function(t=1,e=3){const n=new Map,s=Math.pow(10,e);return{get(e){const i=e.match(g).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*t),c=parseFloat(Math.round(r*s)/s);return n.set(i,c),c},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,e(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const n=this.size();e(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!i(t)||r(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(n,s){let c={i:s,$:{}};this.keys.forEach(((s,o)=>{let h=s.getFn?s.getFn(n):this.getFn(n,s.path);if(i(h))if(t(h)){let n=[];const s=[{nestedArrIndex:-1,value:h}];for(;s.length;){const{nestedArrIndex:c,value:o}=s.pop();if(i(o))if(e(o)&&!r(o)){let t={v:o,i:c,n:this.norm.get(o)};n.push(t)}else t(o)&&o.forEach(((t,e)=>{s.push({nestedArrIndex:e,value:t})}))}c.$[o]=n}else if(e(h)&&!r(h)){let t={v:h,n:this.norm.get(h)};c.$[o]=t}})),this.records.push(c)}toJSON(){return{keys:this.keys,records:this.records}}}function p(t,e,{getFn:n=d.getFn,fieldNormWeight:s=d.fieldNormWeight}={}){const i=new f({getFn:n,fieldNormWeight:s});return i.setKeys(t.map(a)),i.setSources(e),i.create(),i}function m(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:i=d.distance,ignoreLocation:r=d.ignoreLocation}={}){const c=e/t.length;if(r)return c;const o=Math.abs(s-n);return i?c+o/i:o?1:c}const M=32;function y(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<s-n-1}return e}class x{constructor(t,{location:e=d.location,threshold:n=d.threshold,distance:s=d.distance,includeMatches:i=d.includeMatches,findAllMatches:r=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:o=d.isCaseSensitive,ignoreLocation:h=d.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:h},this.pattern=o?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(t,e)=>{this.chunks.push({pattern:t,alphabet:y(t),startIndex:e})},l=this.pattern.length;if(l>M){let t=0;const e=l%M,n=l-e;for(;t<n;)a(this.pattern.substr(t,M),t),t+=M;if(e){const t=l-M;a(this.pattern.substr(t),t)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:o,ignoreLocation:h}=this.options;let a=[],l=0,u=!1;this.chunks.forEach((({pattern:e,alphabet:g,startIndex:f})=>{const{isMatch:p,score:y,indices:x}=function(t,e,n,{location:s=d.location,distance:i=d.distance,threshold:r=d.threshold,findAllMatches:c=d.findAllMatches,minMatchCharLength:o=d.minMatchCharLength,includeMatches:h=d.includeMatches,ignoreLocation:a=d.ignoreLocation}={}){if(e.length>M)throw new Error("Pattern length exceeds max of 32.");const l=e.length,u=t.length,g=Math.max(0,Math.min(s,u));let f=r,p=g;const y=o>1||h,x=y?Array(u):[];let L;for(;(L=t.indexOf(e,p))>-1;){let t=m(e,{currentLocation:L,expectedLocation:g,distance:i,ignoreLocation:a});if(f=Math.min(t,f),p=L+l,y){let t=0;for(;t<l;)x[L+t]=1,t+=1}}p=-1;let k=[],v=1,_=l+u;const S=1<<l-1;for(let s=0;s<l;s+=1){let r=0,o=_;for(;r<o;)m(e,{errors:s,currentLocation:g+o,expectedLocation:g,distance:i,ignoreLocation:a})<=f?r=o:_=o,o=Math.floor((_-r)/2+r);_=o;let h=Math.max(1,g-o+1),d=c?u:Math.min(g+o,u)+l,M=Array(d+2);M[d+1]=(1<<s)-1;for(let r=d;r>=h;r-=1){let c=r-1,o=n[t.charAt(c)];if(y&&(x[c]=+!!o),M[r]=(M[r+1]<<1|1)&o,s&&(M[r]|=(k[r+1]|k[r])<<1|1|k[r+1]),M[r]&S&&(v=m(e,{errors:s,currentLocation:c,expectedLocation:g,distance:i,ignoreLocation:a}),v<=f)){if(f=v,p=c,p<=g)break;h=Math.max(1,2*g-p)}}if(m(e,{errors:s+1,currentLocation:g,expectedLocation:g,distance:i,ignoreLocation:a})>f)break;k=M}const w={isMatch:p>=0,score:Math.max(.001,v)};if(y){const t=function(t=[],e=d.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let c=t.length;r<c;r+=1){let c=t[r];c&&-1===s?s=r:c||-1===s||(i=r-1,i-s+1>=e&&n.push([s,i]),s=-1)}return t[r-1]&&r-s>=e&&n.push([s,r-1]),n}(x,o);t.length?h&&(w.indices=t):w.isMatch=!1}return w}(t,e,g,{location:s+f,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:o,includeMatches:n,ignoreLocation:h});p&&(u=!0),l+=y,p&&x&&(a=[...a,...x])}));let g={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(g.indices=a),g}}class L{constructor(t){this.pattern=t}static isMultiMatch(t){return k(t,this.multiRegex)}static isSingleMatch(t){return k(t,this.singleRegex)}search(){}}function k(t,e){const n=t.match(e);return n?n[1]:null}class v extends L{constructor(t,{location:e=d.location,threshold:n=d.threshold,distance:s=d.distance,includeMatches:i=d.includeMatches,findAllMatches:r=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:o=d.isCaseSensitive,ignoreLocation:h=d.ignoreLocation}={}){super(t),this._bitapSearch=new x(t,{location:e,threshold:n,distance:s,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class _ extends L{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^\'"(.*)"$/}static get singleRegex(){return/^\'(.*)$/}search(t){let e,n=0;const s=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,s.push([e,n-1]);const r=!!s.length;return{isMatch:r,score:r?0:1,indices:s}}}const S=[class extends L{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},_,class extends L{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\\^"(.*)"$/}static get singleRegex(){return/^\\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends L{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\\^"(.*)"$/}static get singleRegex(){return/^!\\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends L{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\\$$/}static get singleRegex(){return/^!(.*)\\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends L{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\\$$/}static get singleRegex(){return/^(.*)\\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends L{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},v],w=S.length,C=/ +(?=(?:[^\\"]*\\"[^\\"]*\\")*[^\\"]*$)/,I=new Set([v.type,_.type]);const $=[];function A(t,e){for(let n=0,s=$.length;n<s;n+=1){let s=$[n];if(s.condition(t,e))return new s(t,e)}return new x(t,e)}const b="$and",E="$path",F=t=>!(!t[b]&&!t.$or),N=t=>({[b]:Object.keys(t).map((e=>({[e]:t[e]})))});function R(n,i,{auto:r=!0}={}){const c=n=>{let o=Object.keys(n);const h=(t=>!!t[E])(n);if(!h&&o.length>1&&!F(n))return c(N(n));if((e=>!t(e)&&s(e)&&!F(e))(n)){const t=h?n[E]:o[0],s=h?n.$val:n[t];if(!e(s))throw new Error((t=>`Invalid value for key ${t}`)(t));const c={keyId:u(t),pattern:s};return r&&(c.searcher=A(s,i)),c}let a={children:[],operator:o[0]};return o.forEach((e=>{const s=n[e];t(s)&&s.forEach((t=>{a.children.push(c(t))}))})),a};return F(n)||(n=N(n)),c(n)}function O(t,e){const n=t.matches;e.matches=[],i(n)&&n.forEach((t=>{if(!i(t.indices)||!t.indices.length)return;const{indices:n,value:s}=t;let r={indices:n,value:s};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)}))}function j(t,e){e.score=t.score}class W{constructor(t,e={},n){this.options={...d,...e},this.options.useExtendedSearch,this._keyStore=new h(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof f))throw new Error("Incorrect \'index\' type");this._myIndex=e||p(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){i(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,s-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:i,includeScore:r,shouldSort:c,sortFn:o,ignoreFieldNorm:h}=this.options;let a=e(t)?e(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=d.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:s,score:i})=>{const r=t?t.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(e?1:s))})),t.score=n}))}(a,{ignoreFieldNorm:h}),c&&a.sort(o),n(s)&&s>-1&&(a=a.slice(0,s)),function(t,e,{includeMatches:n=d.includeMatches,includeScore:s=d.includeScore}={}){const i=[];return n&&i.push(O),s&&i.push(j),t.map((t=>{const{idx:n}=t,s={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,s)})),s}))}(a,this._docs,{includeMatches:i,includeScore:r})}_searchStringList(t){const e=A(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach((({v:t,i:n,n:r})=>{if(!i(t))return;const{isMatch:c,score:o,indices:h}=e.searchIn(t);c&&s.push({item:t,idx:n,matches:[{score:o,value:t,norm:r,indices:h}]})})),s}_searchLogical(t){const e=R(t,this.options),n=(t,e,s)=>{if(!t.children){const{keyId:n,searcher:i}=t,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return r&&r.length?[{idx:s,item:e,matches:r}]:[]}const i=[];for(let r=0,c=t.children.length;r<c;r+=1){const c=t.children[r],o=n(c,e,s);if(o.length)i.push(...o);else if(t.operator===b)return[]}return i},s=this._myIndex.records,r={},c=[];return s.forEach((({$:t,i:s})=>{if(i(t)){let i=n(e,t,s);i.length&&(r[s]||(r[s]={idx:s,item:t,matches:[]},c.push(r[s])),i.forEach((({matches:t})=>{r[s].matches.push(...t)})))}})),c}_searchObjectList(t){const e=A(t,this.options),{keys:n,records:s}=this._myIndex,r=[];return s.forEach((({$:t,i:s})=>{if(!i(t))return;let c=[];n.forEach(((n,s)=>{c.push(...this._findMatches({key:n,value:t[s],searcher:e}))})),c.length&&r.push({idx:s,item:t,matches:c})})),r}_findMatches({key:e,value:n,searcher:s}){if(!i(n))return[];let r=[];if(t(n))n.forEach((({v:t,i:n,n:c})=>{if(!i(t))return;const{isMatch:o,score:h,indices:a}=s.searchIn(t);o&&r.push({score:h,key:e,value:t,idx:n,norm:c,indices:a})}));else{const{v:t,n:i}=n,{isMatch:c,score:o,indices:h}=s.searchIn(t);c&&r.push({score:o,key:e,value:t,norm:i,indices:h})}return r}}W.version="6.6.2",W.createIndex=p,W.parseIndex=function(t,{getFn:e=d.getFn,fieldNormWeight:n=d.fieldNormWeight}={}){const{keys:s,records:i}=t,r=new f({getFn:e,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r},W.config=d,W.parseQuery=R,function(...t){$.push(...t)}(class{constructor(t,{isCaseSensitive:e=d.isCaseSensitive,includeMatches:n=d.includeMatches,minMatchCharLength:s=d.minMatchCharLength,ignoreLocation:i=d.ignoreLocation,findAllMatches:r=d.findAllMatches,location:c=d.location,threshold:o=d.threshold,distance:h=d.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:s,findAllMatches:r,ignoreLocation:i,location:c,threshold:o,distance:h},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(C).filter((t=>t&&!!t.trim())),s=[];for(let t=0,i=n.length;t<i;t+=1){const i=n[t];let r=!1,c=-1;for(;!r&&++c<w;){const t=S[c];let n=t.isMultiMatch(i);n&&(s.push(new t(n,e)),r=!0)}if(!r)for(c=-1;++c<w;){const t=S[c];let n=t.isSingleMatch(i);if(n){s.push(new t(n,e));break}}}return s}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let i=0,r=[],c=0;for(let s=0,o=e.length;s<o;s+=1){const o=e[s];r.length=0,i=0;for(let e=0,s=o.length;e<s;e+=1){const s=o[e],{isMatch:h,indices:a,score:l}=s.search(t);if(!h){c=0,i=0,r.length=0;break}if(i+=1,c+=l,n){const t=s.constructor.type;I.has(t)?r=[...r,...a]:r.push(a)}}if(i){let t={isMatch:!0,score:c/i};return n&&(t.indices=r),t}}return{isMatch:!1,score:1}}});const z={shouldSort:!0,includeMatches:!0,threshold:.3,location:0,distance:100,minMatchCharLength:1,keys:["name","tags.label"]};onmessage=function(t){if(!t)return;const{items:e,value:n}=t.data;console.log(`got search request ${n} with ${e.length} items`);const s=function(t,e){let n=[];if(1===e.length)for(let s=0;s<t.length;s++){const i=t[s];if(i.firstCharacter===e.toLowerCase()&&(n.push({item:t[s],indices:[[0,0]],matches:[{value:i.title,key:"title"}],arrayIndex:0}),n.length>10))break}else n=new W(t,z).search(e,{limit:10});return n}(e,n),i={value:n,suggestions:s};console.log(`return ${s.length} results for search ${n}`),self.postMessage(i)}})();\n',"Worker",void 0,void 0)}function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lA.apply(null,arguments)}const cA="addNew";class dA extends R.Component{constructor(e,t){super(e,t),this.setAutosuggestRef=e=>{this._autosuggest=e},this.focusInput=e=>{e.preventDefault(),this._autosuggest.input.focus()},this.onChange=(e,{newValue:t,method:n})=>{"up"!==n&&"down"!==n&&this.setState({value:t})},this.onKeyDown=e=>{if(e.shiftKey||e.altKey||e.ctrlKey)return;if("Escape"===e.key)return void this.reset();if("Tab"!==e.key&&"Enter"!==e.key)return;const{suggestions:t,value:n}=this.state,{highlightedSectionIndex:s,highlightedSuggestionIndex:o}=this._autosuggest.state;if(!t.length||s)return this.props.onGoToAddNewAuthor(n),this._autosuggest.input.blur(),void this.reset();null==o?this.goToItem(t[0]):this.goToItem(t[o]),this._autosuggest.input.blur(),this.reset()},this.onBlur=()=>{this.reset()},this.onSuggestionsFetchRequested=({value:e})=>{this.state.loading||this.setState({loading:!0}),this.requestSuggestions(e)},this.requestSuggestions=U().debounce((e=>{if(!this.state.loading)return;const t=this.state.requestLoading;if(this.setState({requestValue:e,requestLoading:!0}),!t){const t={value:e,items:this.props.items};this.getWorker().postMessage(t)}}),250),this.onSuggestionsReceived=e=>{const{value:t,suggestions:n}=e.data;if(this.state.loading)if(t===this.state.requestValue)this.setState({suggestions:n,requestValue:null,requestLoading:!1,loading:!1});else{this.setState({suggestions:n,requestLoading:!0});const e={value:this.state.requestValue,items:this.props.items};this.getWorker().postMessage(e)}else this.setState({requestValue:null,requestLoading:!1})},this.onSuggestionsClearRequested=()=>{this.setState({suggestions:[],loading:!1})},this.onSuggestionSelected=(e,{suggestion:t})=>{t.type===cA?this.props.onGoToAddNewAuthor(this.state.value):this.goToItem(t)},this._autosuggest=null,this._worker=null,this.state={value:"",suggestions:[]}}componentDidMount(){this.props.bindShortcut(ID.AUTHOR_SEARCH_INPUT.key,this.focusInput)}componentWillUnmount(){this._worker&&(this._worker.removeEventListener("message",this.onSuggestionsReceived,!1),this._worker.terminate(),this._worker=null)}getWorker(){return this._worker||(this._worker=new iA,this._worker.addEventListener("message",this.onSuggestionsReceived,!1)),this._worker}getSectionSuggestions(e){return e.suggestions}renderSectionTitle(e){return R.createElement("div",{className:"AuthorSearchInput-sectionTitle-Vs12h"},e.title,e.loading&&R.createElement(tM,{className:"AuthorSearchInput-loading-XYmwx",rippleClassName:"AuthorSearchInput-ripple-mMLd1 LoadingIndicator-ripple-Dn9J1",size:20}))}getSuggestionValue({title:e}){return e}renderSuggestion(e,{query:t}){return e.type===cA?R.createElement("div",{className:"AuthorSearchInput-addNewAuthorSuggestion-ZZuQf"},"Search for ",t):"author"===e.item.type?R.createElement(sA,lA({},e.item,{match:e.matches[0]})):"book"===e.item.type?R.createElement(oA,lA({},e.item,{match:e.matches[0]})):void 0}goToItem(e){const{onGoToAuthor:t,onGoToBook:n}=this.props;this.setState({value:""});const{type:s,titleSlug:o}=e.item;"author"===s?t(o):"book"===s&&n(o)}reset(){this.setState({value:"",suggestions:[],loading:!1})}render(){const{value:e,loading:t,suggestions:n}=this.state,s=[];(n.length||t)&&s.push({title:te("ExistingItems"),loading:t,suggestions:n}),s.push({title:te("AddNewItem"),suggestions:[{type:cA,title:e}]});const o={ref:this.setInputRef,className:"AuthorSearchInput-input-Umeoz",name:"authorSearch",value:e,placeholder:te("Search"),autoComplete:"off",spellCheck:!1,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus},a={container:"AuthorSearchInput-container-mhvdk",containerOpen:"AuthorSearchInput-containerOpen-EaMHq",suggestionsContainer:"AuthorSearchInput-authorContainer-bhG77",suggestionsList:"AuthorSearchInput-list-IjFWJ",suggestion:"AuthorSearchInput-listItem-Tc2cb",suggestionHighlighted:"AuthorSearchInput-highlighted-hDYgI"};return R.createElement("div",{className:"AuthorSearchInput-wrapper-IyoaL"},R.createElement(Lo,{name:os}),R.createElement(BI(),{ref:this.setAutosuggestRef,id:name,inputProps:o,theme:a,focusInputOnSuggestionClick:!1,multiSection:!0,suggestions:s,getSectionSuggestions:this.getSectionSuggestions,renderSectionTitle:this.renderSectionTitle,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested}))}}const uA=kD(dA),mA=(0,Wy.Ng)((function(){return KD((0,Ky.Mz)(WD(),GN(),((e,t)=>e.map((e=>{const{authorName:n,sortName:s,images:o,titleSlug:a,tags:r=[]}=e;return{type:"author",name:n,sortName:s,titleSlug:a,images:o,firstCharacter:n.charAt(0).toLowerCase(),tags:r.reduce(((e,n)=>{const s=t.find((e=>e.id===n));return s&&e.push(s),e}),[])}})))),(0,Ky.Mz)((e=>e.books.items),(e=>e.map((e=>{const{title:t,images:n,titleSlug:s}=e;return{type:"book",name:t,sortName:t,titleSlug:s,images:n,firstCharacter:t.charAt(0).toLowerCase(),tags:[]}})))),((e,t)=>({items:[...e,...t]})))}),(function(e,t){return{onGoToAuthor(t){e((0,QD.VC)(`${window.Researcharr.urlBase}/author/${t}`))},onGoToBook(t){e((0,QD.VC)(`${window.Researcharr.urlBase}/book/${t}`))},onGoToAddNewAuthor(t){e((0,QD.VC)(`${window.Researcharr.urlBase}/add/search?term=${encodeURIComponent(t)}`))}}}))(uA),hA=(0,Wy.Ng)((function(){return(0,Ky.Mz)(Yy(),(e=>({isOsx:e.isOsx})))}))((function(e){const{isOsx:t,onModalClose:n}=e,s=function(){const e=[];return Object.keys(ID).forEach((t=>{e.push(ID[t])})),e}();return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Keyboard Shortcuts"),R.createElement(BM,null,s.map((e=>R.createElement("div",{key:e.name,className:"KeyboardShortcutsModalContent-shortcut-nblFz"},R.createElement("div",{className:"KeyboardShortcutsModalContent-key-zJf3y"},function(e,t){const n=e.match(/(.+?)\+(.)/);if(!n)return e;const s=n[1];let o=s;return"mod"===s&&(o=t?"cmd":"ctrl"),`${o} + ${n[2]}`}(e.key,t)),R.createElement("div",null,e.name))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Close")))})),pA=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,size:po,onModalClose:n},R.createElement(hA,{onModalClose:n}))},gA={modifiers:{preventOverflow:{padding:0},flip:{padding:0}}},EA={[Qe]:{...gA,placement:"bottom-end"},[Ve]:{...gA,placement:"bottom-start"}};class fA extends R.Component{constructor(e,t){super(e,t),this.onWindowClick=e=>{const t=document.getElementById(this._menuButtonId);t&&!t.contains(e.target)&&this.state.isMenuOpen&&(this.setState({isMenuOpen:!1}),this._removeListener())},this.onTouchStart=e=>{const t=document.getElementById(this._menuButtonId),n=document.getElementById(this._menuContentId);if(!t||!n)return;if(1!==e.targetTouches.length)return;const s=e.targetTouches[0].target;t.contains(s)||n.contains(s)||!this.state.isMenuOpen||(this.setState({isMenuOpen:!1}),this._removeListener())},this.onWindowResize=()=>{this.setMaxHeight()},this.onWindowScroll=e=>{this.state.isMenuOpen&&this.setMaxHeight()},this.onMenuButtonPress=()=>{const e={isMenuOpen:!this.state.isMenuOpen};this.state.isMenuOpen?this._removeListener():(e.maxHeight=this.getMaxHeight(),this._addListener()),this.setState(e)},this._scheduleUpdate=null,this._menuButtonId=fM(),this._menuContentId=fM(),this.state={isMenuOpen:!1,maxHeight:0}}componentDidMount(){this.setMaxHeight()}componentDidUpdate(){this._scheduleUpdate&&this._scheduleUpdate()}componentWillUnmount(){this._removeListener()}getMaxHeight(){if(!this.props.enforceMaxHeight)return;const e=document.getElementById(this._menuButtonId);if(!e)return;const{bottom:t}=e.getBoundingClientRect();return window.innerHeight-t}setMaxHeight(){const e=this.getMaxHeight();e!==this.state.maxHeight&&this.setState({maxHeight:e})}_addListener(){window.addEventListener("resize",this.onWindowResize),window.addEventListener("scroll",this.onWindowScroll,{capture:!0}),window.addEventListener("click",this.onWindowClick),window.addEventListener("touchstart",this.onTouchStart)}_removeListener(){window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("scroll",this.onWindowScroll,{capture:!0}),window.removeEventListener("click",this.onWindowClick),window.removeEventListener("touchstart",this.onTouchStart)}render(){const{className:e,children:t,alignMenu:n}=this.props,{maxHeight:s,isMenuOpen:o}=this.state,a=R.Children.toArray(t),r=R.cloneElement(a[0],{onPress:this.onMenuButtonPress});return R.createElement(_I.Ay,null,R.createElement(LI.A,null,(({ref:t})=>R.createElement("div",{ref:t,id:this._menuButtonId,className:e},r))),R.createElement(VI,null,R.createElement(jI.Ay,EA[n],(({ref:e,style:t,scheduleUpdate:n})=>(this._scheduleUpdate=n,R.cloneElement(a[1],{forwardedRef:e,style:{...t,maxHeight:s},isOpen:o}))))))}}fA.defaultProps={className:"Menu-menu-Uz3_0",alignMenu:Ve,enforceMaxHeight:!0};const CA=fA;function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vA.apply(null,arguments)}class SA extends R.Component{render(){const{className:e,children:t,isDisabled:n,onPress:s,...o}=this.props;return R.createElement(IM,vA({className:Fo()(e,n&&"MenuButton-isDisabled-x0tG4"),isDisabled:n,onPress:s},o),t)}}SA.defaultProps={className:"MenuButton-menuButton-Jl5Je",isDisabled:!1};const bA=SA;class PA extends R.Component{render(){const{forwardedRef:e,className:t,id:n,children:s,style:o,isOpen:a}=this.props;return R.createElement("div",{id:n,ref:e,className:t,style:o},a?R.createElement(FM,{className:"MenuContent-scroller-n5RM_"},s):null)}}PA.defaultProps={className:"MenuContent-menuContent-_1J_h",id:fM()};const yA=PA;function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},MA.apply(null,arguments)}class IA extends R.Component{render(){const{className:e,children:t,isDisabled:n,...s}=this.props;return R.createElement(IM,MA({className:Fo()(e,n&&"MenuItem-isDisabled-iQzs8"),isDisabled:n},s),t)}}IA.defaultProps={className:"MenuItem-menuItem-XlMdU",isDisabled:!1};const kA=IA,OA=function(){return R.createElement("div",{className:"MenuItemSeparator-separator-umWCF"})},wA={menuButton:"PageHeaderActionsMenu-menuButton-uj_V6",itemIcon:"PageHeaderActionsMenu-itemIcon-NCa7f"},TA=function(e){const{formsAuth:t,onKeyboardShortcutsPress:n,onRestartPress:s,onShutdownPress:o}=e;return R.createElement("div",null,R.createElement(CA,{alignMenu:Qe},R.createElement(bA,{className:wA.menuButton,"aria-label":"Menu Button"},R.createElement(Lo,{name:On})),R.createElement(yA,null,R.createElement(kA,{onPress:n},R.createElement(Lo,{className:wA.itemIcon,name:wn}),"Keyboard Shortcuts"),R.createElement(OA,null),R.createElement(kA,{onPress:s},R.createElement(Lo,{className:wA.itemIcon,name:Jn}),"Restart"),R.createElement(kA,{onPress:o},R.createElement(Lo,{className:wA.itemIcon,name:ls,kind:Xs}),"Shutdown"),t&&R.createElement("div",{className:wA.separator}),t&&R.createElement(kA,{to:`${window.Researcharr.urlBase}/logout`,noRouter:!0},R.createElement(Lo,{className:wA.itemIcon,name:Tn}),"Logout"))))};function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NA.apply(null,arguments)}const DA={restart:aP,shutdown:rP};class AA extends R.Component{constructor(...e){super(...e),this.onRestartPress=()=>{this.props.restart()},this.onShutdownPress=()=>{this.props.shutdown()}}render(){return R.createElement(TA,NA({},this.props,{onRestartPress:this.onRestartPress,onShutdownPress:this.onShutdownPress}))}}const FA=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.status),(e=>({formsAuth:"forms"===e.item.authentication})))}),DA)(AA);class xA extends R.Component{constructor(e,t){super(e),this.onOpenKeyboardShortcutsModal=()=>{this.setState({isKeyboardShortcutsModalOpen:!0})},this.onKeyboardShortcutsModalClose=()=>{this.setState({isKeyboardShortcutsModalOpen:!1})},this.state={isKeyboardShortcutsModalOpen:!1}}componentDidMount(){this.props.bindShortcut(ID.OPEN_KEYBOARD_SHORTCUTS_MODAL.key,this.onOpenKeyboardShortcutsModal)}render(){const{onSidebarToggle:e}=this.props;return R.createElement("div",{className:"PageHeader-header-yG8lh"},R.createElement("div",{className:"PageHeader-logoContainer-w6Bht"},R.createElement(IM,{className:"PageHeader-logoLink-dJA7B",to:"/"},R.createElement("img",{className:"PageHeader-logo-WW_El",src:`${window.Researcharr.urlBase}/Content/Images/logo.png`,alt:"Researcharr Logo"}))),R.createElement("div",{className:"PageHeader-sidebarToggleContainer-s7QPv"},R.createElement(Ek,{id:"sidebar-toggle-button",name:An,onPress:e})),R.createElement(mA,null),R.createElement("div",{className:"PageHeader-right-e8LU4"},R.createElement(Ek,{className:"PageHeader-donate-FT1Kz Link-link-RInnp",name:yn,"aria-label":"Donate",to:"https://opencollective.com/readarr",size:14}),R.createElement(FA,{onKeyboardShortcutsPress:this.onOpenKeyboardShortcutsModal})),R.createElement(pA,{isOpen:this.state.isKeyboardShortcutsModalOpen,onModalClose:this.onKeyboardShortcutsModalClose}))}}const RA=kD(xA),BA=function({count:e,errors:t,warnings:n}){if(!e)return null;let s=to;return t?s=Xs:n&&(s=ro),R.createElement(YO,{kind:s,size:go},e)},LA={fetchQueueStatus:dh};class jA extends R.Component{componentDidMount(){this.props.isPopulated||this.props.fetchQueueStatus()}componentDidUpdate(e){this.props.isConnected&&e.isReconnecting&&this.props.fetchQueueStatus()}render(){return R.createElement(BA,this.props)}}const _A=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app),(e=>e.queue.status),(e=>e.queue.options.includeUnknownAuthorItems),((e,t,n)=>{const{errors:s,warnings:o,unknownErrors:a,unknownWarnings:r,count:i,totalCount:l}=t.item;return{isConnected:e.isConnected,isReconnecting:e.isReconnecting,isPopulated:t.isPopulated,...t.item,count:n?l:i,errors:n?s||a:s,warnings:n?o||r:o}}))}),LA)(jA);var zA=n(62295);const UA="OverlayScroller-track-NpAah";function HA(){return HA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HA.apply(null,arguments)}class VA extends R.Component{constructor(e,t){super(e,t),this._setScrollRef=e=>{this._scroller=e,e&&this.props.registerScroller(e.view)},this._renderThumb=e=>R.createElement("div",HA({className:this.props.trackClassName},e)),this._renderTrackHorizontal=({style:e,props:t})=>{const n={...e,right:2,bottom:2,left:2,borderRadius:3,height:10};return R.createElement("div",HA({className:UA,style:n},t))},this._renderTrackVertical=({style:e,props:t})=>{const n={...e,right:2,bottom:2,top:2,borderRadius:3,width:10};return R.createElement("div",HA({className:UA,style:n},t))},this._renderView=e=>R.createElement("div",HA({className:this.props.className},e)),this.onScrollStart=()=>{this._isScrolling=!0},this.onScrollStop=()=>{this._isScrolling=!1},this.onScroll=e=>{const{scrollTop:t,scrollLeft:n}=e.currentTarget;this._isScrolling=!0;const s=this.props.onScroll;s&&s({scrollTop:t,scrollLeft:n})},this._scroller=null,this._isScrolling=!1}componentDidUpdate(e){const{scrollTop:t}=this.props;this._isScrolling||null==t||t===e.scrollTop||this._scroller.scrollTop(t)}render(){const{autoHide:e,autoScroll:t,children:n}=this.props;return R.createElement(zA.ur,{ref:this._setScrollRef,autoHide:e,hideTracksWhenNotNeeded:t,renderTrackHorizontal:this._renderTrackHorizontal,renderTrackVertical:this._renderTrackVertical,renderThumbHorizontal:this._renderThumb,renderThumbVertical:this._renderThumb,renderView:this._renderView,onScrollStart:this.onScrollStart,onScrollStop:this.onScrollStop,onScroll:this.onScroll},n)}}VA.defaultProps={className:"OverlayScroller-scroller-Qv2oP",trackClassName:"OverlayScroller-thumb-IKMmD",scrollDirection:mo,autoHide:!1,autoScroll:!0,registerScroller:()=>{}};const qA=VA,QA=function(){return(0,Ky.Mz)((e=>e.system.health),(e=>e.app),((e,t)=>{const n=[...e.items];return t.isConnected||n.push({source:"UI",type:"warning",message:"Could not connect to SignalR, UI won't update",wikiUrl:"https://wiki.servarr.com/readarr/system#could-not-connect-to-signalr"}),n}))},WA={fetchHealth:jb};class GA extends R.Component{componentDidMount(){this.props.isPopulated||this.props.fetchHealth()}componentDidUpdate(e){this.props.isConnected&&e.isReconnecting&&this.props.fetchHealth()}render(){return R.createElement(BA,this.props)}}const KA=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app),QA(),(e=>e.system.health),((e,t,n)=>{const s=t.length;let o=!1,a=!1;return t.forEach((e=>{"error"===e.type&&(o=!0),"warning"===e.type&&(a=!0)})),{isConnected:e.isConnected,isReconnecting:e.isReconnecting,isPopulated:n.isPopulated,count:s,errors:o,warnings:a}}))}),WA)(GA),$A={message:"Message-message-alKx2",iconContainer:"Message-iconContainer-rjS_1",text:"Message-text-j_4_k",error:"Message-error-QCmrh",info:"Message-info-ihK_M",success:"Message-success-KGG76",warning:"Message-warning-Bn1Qs"};function YA(e){switch(e){case"ApplicationUpdate":return Jn;case"Backup":return Lt;case"CheckHealth":return Pn;case"BookSearch":case"SeasonSearch":case"AuthorSearch":return os;case"Housekeeping":return Mn;case"RescanFolders":return Yn;case"RefreshAuthor":case"UpdateSceneMapping":return Gn;case"RssSync":return es;default:return ms}}const JA=function(e){const{name:t,message:n,type:s}=e;return R.createElement("div",{className:Fo()($A.message,$A[s])},R.createElement("div",{className:$A.iconContainer},R.createElement(Lo,{name:YA(t),title:t})),R.createElement("div",{className:$A.text},n))},XA={hideMessage:Le};class ZA extends R.Component{constructor(e,t){super(e,t),this.scheduleHideMessage=e=>{this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),e&&(this._hideTimeoutId=setTimeout(this.hideMessage,1e3*e))},this.hideMessage=()=>{this.props.hideMessage({id:this.props.id})},this._hideTimeoutId=null,this.scheduleHideMessage(e.hideAfter)}componentDidUpdate(){this.scheduleHideMessage(this.props.hideAfter)}render(){return R.createElement(JA,this.props)}}ZA.defaultProps={};const eF=(0,Wy.Ng)(void 0,XA)(ZA);function tF(){return tF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tF.apply(null,arguments)}const nF=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app.messages.items),(e=>({messages:e.slice().reverse()})))}))((function({messages:e}){return R.createElement("div",{className:"Messages-messages-FTWzW"},e.map((e=>R.createElement(eF,tF({key:e.id},e)))))}));class sF extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{isChildItem:e,isParentItem:t,onPress:n}=this.props;!e&&t||n()}}render(){const{iconName:e,title:t,to:n,isActive:s,isActiveParent:o,isChildItem:a,statusComponent:r,children:i}=this.props;return R.createElement("div",{className:Fo()("PageSidebarItem-item-uOV0R",o&&"PageSidebarItem-isActiveItem-ylMFV")},R.createElement(IM,{className:Fo()(a?"PageSidebarItem-childLink-YTr30 PageSidebarItem-link-O9qjW":"PageSidebarItem-link-O9qjW",o&&"PageSidebarItem-isActiveParentLink-pAp3F",s&&"PageSidebarItem-isActiveLink-_3fm9"),to:n,onPress:this.onPress},!!e&&R.createElement("span",{className:"PageSidebarItem-iconContainer-hoWhE"},R.createElement(Lo,{name:e})),R.createElement("span",{className:a?"PageSidebarItem-noIcon-qIPX3":null},"function"==typeof t?t():t),!!r&&R.createElement("span",{className:"PageSidebarItem-status-CisPT"},R.createElement(r,null))),i&&wI(i,(e=>R.cloneElement(e,{isChildItem:!0}))))}}sF.defaultProps={isChildItem:!1};const oF=sF,aF=parseInt(Fk().headerHeight),rF=parseInt(Fk().sidebarWidth),iF=[{iconName:as,title:()=>te("Papers"),to:"/",alias:"/authors",children:[{title:()=>te("Researchers"),to:"/authors"},{title:()=>te("Papers"),to:"/books"},{title:()=>te("AddNew"),to:"/add/search"},{title:()=>te("LibraryShelf"),to:"/shelf"},{title:()=>te("UnmappedFiles"),to:"/unmapped"}]},{iconName:Ut,title:()=>te("Calendar"),to:"/calendar"},{iconName:wt,title:()=>te("Activity"),to:"/activity/queue",children:[{title:()=>te("Queue"),to:"/activity/queue",statusComponent:_A},{title:()=>te("History"),to:"/activity/history"},{title:()=>te("Blocklist"),to:"/activity/blocklist"}]},{iconName:Ms,title:()=>te("Wanted"),to:"/wanted/missing",children:[{title:()=>te("Missing"),to:"/wanted/missing"},{title:()=>te("CutoffUnmet"),to:"/wanted/cutoffunmet"}]},{iconName:is,title:()=>te("Settings"),to:"/settings",children:[{title:()=>te("MediaManagement"),to:"/settings/mediamanagement"},{title:()=>te("Profiles"),to:"/settings/profiles"},{title:()=>te("Quality"),to:"/settings/quality"},{title:()=>te("CustomFormats"),to:"/settings/customformats"},{title:()=>te("Indexers"),to:"/settings/indexers"},{title:()=>te("DownloadClients"),to:"/settings/downloadclients"},{title:()=>te("ImportLists"),to:"/settings/importlists"},{title:()=>te("Connect"),to:"/settings/connect"},{title:()=>te("Metadata"),to:"/settings/metadata"},{title:()=>te("Tags"),to:"/settings/tags"},{title:()=>te("General"),to:"/settings/general"},{title:()=>te("Ui"),to:"/settings/ui"}]},{iconName:gs,title:()=>te("System"),to:"/system/status",children:[{title:()=>te("Status"),to:"/system/status",statusComponent:KA},{title:()=>te("Tasks"),to:"/system/tasks"},{title:()=>te("Backup"),to:"/system/backup"},{title:()=>te("Updates"),to:"/system/updates"},{title:()=>te("Events"),to:"/system/events"},{title:()=>te("LogFiles"),to:"/system/logs/files"}]}];class lF extends R.Component{constructor(e,t){super(e,t),this._setSidebarRef=e=>{this._sidebarRef=e},this.onWindowClick=e=>{const t=B.findDOMNode(this._sidebarRef),n=document.getElementById("sidebar-toggle-button");t&&(t.contains(e.target)||n.contains(e.target)||!this.props.isSidebarVisible||(e.preventDefault(),e.stopPropagation(),this.props.onSidebarVisibleChange(!1)))},this.onWindowScroll=()=>{this.setState(function(){const e=null==window.scrollY?document.documentElement.scrollTop:window.scrollY,t=Math.max(aF-e,0);return{top:`${t}px`,height:window.innerHeight-t+"px"}}())},this.onTouchStart=e=>{const t=e.touches,n=t[0].pageX,s=t[0].pageY,o=this.props.isSidebarVisible;1===t.length&&(o&&(n>210||n<180)||!o&&n>40||(this._touchStartX=n,this._touchStartY=s))},this.onTouchMove=e=>{const t=e.touches[0].pageX;if(!this._touchStartX)return;if(Math.abs(this._touchStartX-t)<40)return;const n=Math.min(t-rF,0);this.setState({transition:"none",transform:n})},this.onTouchEnd=e=>{const t=e.changedTouches[0].pageX;this._touchStartX&&(t>this._touchStartX&&t>50?this._setSidebarTransform(!0,"none"):t<this._touchStartX&&t<80?this._setSidebarTransform(!1,"transform 50ms ease-in-out"):this._setSidebarTransform(this.props.isSidebarVisible),this._touchStartX=null,this._touchStartY=null)},this.onTouchCancel=e=>{this._touchStartX=null,this._touchStartY=null},this.onItemPress=()=>{this.props.onSidebarVisibleChange(!1)},this._touchStartX=null,this._touchStartY=null,this._sidebarRef=null,this.state={top:Fk().headerHeight,height:window.innerHeight-aF+"px",transition:null,transform:e.isSidebarVisible?0:-1*rF}}componentDidMount(){this.props.isSmallScreen&&(window.addEventListener("click",this.onWindowClick,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),window.addEventListener("touchcancel",this.onTouchCancel))}componentDidUpdate(e){const{isSidebarVisible:t}=this.props,n=this.state.transform;e.isSidebarVisible!==t?this._setSidebarTransform(t):0!==n||t?n===-rF&&t&&this.props.onSidebarVisibleChange(!1):this.props.onSidebarVisibleChange(!0)}componentWillUnmount(){this.props.isSmallScreen&&(window.removeEventListener("click",this.onWindowClick,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll),window.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("touchcancel",this.onTouchCancel))}_setSidebarTransform(e,t,n){this.setState({transition:t,transform:e?0:-1*rF},n)}render(){const{location:e,isSmallScreen:t}=this.props,{top:n,height:s,transition:o,transform:a}=this.state,r=window.Researcharr.urlBase,i=r?e.pathname.substr(r.length)||"/":e.pathname,l=function(e){let t=iF[0].to;return iF.forEach((n=>{if(n.to&&n.to===e)return t=n.to,!1;const s=n.children;return s&&s.forEach((s=>{if(e.startsWith(s.to))return t=n.to,!1})),"/"!==n.to&&e.startsWith(n.to)||n.alias&&e.startsWith(n.alias)?(t=n.to,!1):void 0})),t}(i);let c={},d={};t&&(c={transition:o,transform:`translateX(${a}px)`},d={top:n,height:s});const u=t?FM:qA;return R.createElement("div",{ref:this._setSidebarRef,className:Fo()("PageSidebar-sidebarContainer-aQa5n"),style:c},R.createElement(u,{className:"PageSidebar-sidebar-KUJeR",style:d},R.createElement("div",null,iF.map((e=>{const t=U().find(e.children,(e=>!!e.statusComponent)),n=t?t.statusComponent:null,s=l===e.to,o=function(e,t){const n=e.children;return!(!n||!n.length)&&U().some(n,(e=>e.to===t))}(e,i);return R.createElement(oF,{key:e.to,iconName:e.iconName,title:e.title,to:e.to,statusComponent:s||!n?e.statusComponent:n,isActive:i===e.to&&!o,isActiveParent:s,isParentItem:!!e.children,onPress:this.onItemPress},e.children&&e.to===l&&e.children.map((e=>R.createElement(oF,{key:e.to,title:e.title,to:e.to,isActive:i.startsWith(e.to),isParentItem:!1,isChildItem:!0,statusComponent:e.statusComponent,onPress:this.onItemPress}))))}))),R.createElement(nF,null)))}}const cF=lF;class dF extends R.Component{constructor(e,t){super(e,t),this.onResize=()=>{this.props.onResize({width:window.innerWidth,height:window.innerHeight})},this.onUpdatedModalClose=()=>{this.setState({isUpdatedModalOpen:!1})},this.onConnectionLostModalClose=()=>{this.setState({isConnectionLostModalOpen:!1})},this.state={isUpdatedModalOpen:!1,isConnectionLostModalOpen:!1}}componentDidMount(){window.addEventListener("resize",this.onResize)}componentDidUpdate(e){const{isDisconnected:t,isUpdated:n}=this.props;!e.isUpdated&&n&&this.setState({isUpdatedModalOpen:!0}),e.isDisconnected!==t&&this.setState({isConnectionLostModalOpen:t})}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){const{className:e,location:t,children:n,isSmallScreen:s,isSidebarVisible:o,enableColorImpairedMode:a,authenticationEnabled:r,onSidebarToggle:i,onSidebarVisibleChange:l}=this.props;return R.createElement(iI.Provider,{value:a},R.createElement("div",{className:e},R.createElement(SI,null),R.createElement(RA,{onSidebarToggle:i}),R.createElement("div",{className:"Page-main-Swphf"},R.createElement(cF,{location:t,isSmallScreen:s,isSidebarVisible:o,onSidebarVisibleChange:l}),n),R.createElement(oI,{isOpen:this.state.isUpdatedModalOpen,onModalClose:this.onUpdatedModalClose}),R.createElement(lI,{isOpen:this.state.isConnectionLostModalOpen,onModalClose:this.onConnectionLostModalClose}),R.createElement(qD,{isOpen:!r})))}}dF.defaultProps={className:"Page-page-TorHA"};const uF=dF;function mF(){return mF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mF.apply(null,arguments)}function hF(){const e="readarrTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}const pF=(0,Ky.Mz)((e=>e.app.isSidebarVisible),(e=>e.app.version),(e=>e.app.isUpdated),(e=>e.app.isDisconnected),((e,t,n,s)=>({isSidebarVisible:e,version:t,isUpdated:n,isDisconnected:s}))),gF=(0,Ky.Mz)((e=>e.authors.isPopulated),(e=>e.customFilters.isPopulated),(e=>e.tags.isPopulated),(e=>e.settings.ui.isPopulated),(e=>e.settings.languages.isPopulated),(e=>e.settings.qualityProfiles.isPopulated),(e=>e.settings.metadataProfiles.isPopulated),(e=>e.settings.importLists.isPopulated),(e=>e.settings.indexerFlags.isPopulated),(e=>e.system.status.isPopulated),(e=>e.app.translations.isPopulated),((e,t,n,s,o,a,r,i,l,c,d)=>e&&t&&n&&s&&o&&a&&r&&i&&l&&c&&d)),EF=(0,Ky.Mz)((e=>e.authors.error),(e=>e.customFilters.error),(e=>e.tags.error),(e=>e.settings.ui.error),(e=>e.settings.languages.error),(e=>e.settings.qualityProfiles.error),(e=>e.settings.metadataProfiles.error),(e=>e.settings.importLists.error),(e=>e.settings.indexerFlags.error),(e=>e.system.status.error),(e=>e.app.translations.error),((e,t,n,s,o,a,r,i,l,c,d)=>({hasError:!!(e||t||n||s||o||a||r||i||l||c||d),customFiltersError:t,tagsError:n,uiSettingsError:s,languagesError:o,qualityProfilesError:a,metadataProfilesError:r,importListsError:i,indexerFlagsError:l,systemStatusError:c,translationsError:d})));class fF extends R.Component{constructor(e,t){super(e,t),this.onSidebarToggle=()=>{this.props.onSidebarVisibleChange(!this.props.isSidebarVisible)},this.state={isLocalStorageSupported:hF()}}componentDidMount(){this.props.isPopulated||(this.props.dispatchFetchAuthor(),this.props.dispatchFetchBooks(),this.props.dispatchFetchCustomFilters(),this.props.dispatchFetchTags(),this.props.dispatchFetchLanguages(),this.props.dispatchFetchQualityProfiles(),this.props.dispatchFetchMetadataProfiles(),this.props.dispatchFetchImportLists(),this.props.dispatchFetchIndexerFlags(),this.props.dispatchFetchUISettings(),this.props.dispatchFetchStatus(),this.props.dispatchFetchTranslations())}render(){const{isPopulated:e,hasError:t,dispatchFetchAuthor:n,dispatchFetchBooks:s,dispatchFetchTags:o,dispatchFetchLanguages:a,dispatchFetchQualityProfiles:r,dispatchFetchMetadataProfiles:i,dispatchFetchImportLists:l,dispatchFetchIndexerFlags:c,dispatchFetchUISettings:d,dispatchFetchStatus:u,dispatchFetchTranslations:m,...h}=this.props;return t||!this.state.isLocalStorageSupported?R.createElement(Zy,mF({},this.state,h)):e?R.createElement(uF,mF({},h,{onSidebarToggle:this.onSidebarToggle})):R.createElement(aM,null)}}const CF=(0,Gy.y)((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.ui.item.enableColorImpairedMode),gF,EF,pF,$y(),Yy(),((e,t,n,s,o,a)=>({...s,...n,isPopulated:t,isSmallScreen:o.isSmallScreen,authenticationEnabled:"none"!==a.authentication,enableColorImpairedMode:e})))}),(function(e,t){return{dispatchFetchAuthor(){e(Ra())},dispatchFetchBooks(){e(da())},dispatchFetchCustomFilters(){e(wd())},dispatchFetchTags(){e(gP())},dispatchFetchLanguages(){e(kC())},dispatchFetchQualityProfiles(){e(cS())},dispatchFetchMetadataProfiles(){e(ZC())},dispatchFetchImportLists(){e(Pf())},dispatchFetchIndexerFlags(){e(Lf())},dispatchFetchUISettings(){e(XS())},dispatchFetchStatus(){e(Lb())},dispatchFetchTranslations(){e(_e())},onResize(t){e(Ae(t))},onSidebarVisibleChange(t){e(xe({isSidebarVisible:t}))}}}))(fF));var vF=n(93806),SF=n(7468);const bF={auto:window.matchMedia("(prefers-color-scheme: dark)").matches?{...vF}:{...SF},light:SF,dark:vF},PF=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.ui.item.theme||window.Researcharr.theme),(e=>({theme:e})))}))((function({theme:e,children:t}){const n=(0,R.useCallback)((()=>{const t=Object.keys(bF[e]),n=Object.values(bF[e]);t.forEach(((e,t)=>{document.documentElement.style.setProperty(`--${e}`,n[t])}))}),[e]);return(0,R.useEffect)((()=>{n(e)}),[n,e]),R.createElement(R.Fragment,null,t)}));function yF(){return yF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yF.apply(null,arguments)}const MF=function(e){return function(t){const{history:n}=t;return R.createElement(e,yF({},t,{useCurrentPage:"POP"===n.action}))}},IF=function(){return(0,Ky.Mz)((e=>e.commands),(e=>e.items))},kF=function(e,t={}){return(0,Ky.Mz)(function(e,t={}){return(0,Ky.Mz)(IF(),(n=>lc(n,{name:e,...t})))}(e,t),(e=>cc(e)))};function OF(){return OF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OF.apply(null,arguments)}class wF extends R.Component{constructor(...e){super(...e),this.onScroll=e=>{const{onScroll:t}=this.props;this.props.onScroll&&!CM&&t(e)}}render(){const{className:e,innerClassName:t,children:n,dispatch:s,...o}=this.props;return R.createElement(FM,OF({className:e,scrollDirection:mo},o,{onScroll:this.onScroll}),R.createElement("div",{className:t},n))}}wF.defaultProps={className:"PageContentBody-contentBody-Hetrs",innerClassName:"PageContentBody-innerContentBody-PtigL"};const TF=wF;function NF(){return NF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NF.apply(null,arguments)}const DF=function(e){return R.createElement("div",{className:"PageContentError-content-qmaXw PageContent-content-C67P9"},R.createElement(TF,null,R.createElement(yM,NF({},e,{message:te("ThereWasAnErrorLoadingThisPage")}))))};function AF(e){const{className:t,title:n,children:s}=e;return R.createElement(uM,{errorComponent:DF},R.createElement(Qy(),{title:n?`${n} - ${window.Researcharr.instanceName}`:window.Researcharr.instanceName},R.createElement("div",{className:t},s)))}AF.defaultProps={className:"PageContent-content-C67P9"};const FF=AF;class xF extends R.Component{render(){const{className:e,children:t}=this.props;return R.createElement("div",{className:e},t)}}xF.defaultProps={className:"PageToolbar-toolbar-YMl38"};const RF=xF;function BF(){return BF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BF.apply(null,arguments)}function LF(e){const{label:t,iconName:n,spinningName:s,isDisabled:o,isSpinning:a,...r}=e;return R.createElement(IM,BF({className:Fo()("PageToolbarButton-toolbarButton-j8a_b Link-link-RInnp",o&&"PageToolbarButton-isDisabled-s8dE7"),isDisabled:o||a},r),R.createElement(Lo,{name:a&&s||n,isSpinning:a,size:21}),R.createElement("div",{className:"PageToolbarButton-labelContainer-QhTz_"},R.createElement("div",{className:"PageToolbarButton-label-QIVQh"},t)))}LF.defaultProps={spinningName:ms,isDisabled:!1,isSpinning:!1};const jF=LF;function _F(){return _F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_F.apply(null,arguments)}function zF(e){const{iconName:t,indicator:n,text:s,...o}=e;return R.createElement(bA,_F({className:"ToolbarMenuButton-menuButton-U1XFl MenuButton-menuButton-Jl5Je"},o),R.createElement("div",null,R.createElement(Lo,{name:t,size:21}),n&&R.createElement("span",{className:Fo()("ToolbarMenuButton-indicatorContainer-pM1GQ","fa-layers fa-fw")},R.createElement(Lo,{name:Kt,size:9})),R.createElement("div",{className:"ToolbarMenuButton-labelContainer-pVdy2 PageToolbarButton-labelContainer-QhTz_"},R.createElement("div",{className:"ToolbarMenuButton-label-8FLaf PageToolbarButton-label-QIVQh"},s))))}zF.defaultProps={indicator:!1};const UF=zF;function HF(){return HF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HF.apply(null,arguments)}function VF(e){const{name:t,spinningName:n,isSpinning:s,...o}=e;return R.createElement(Lo,HF({name:s&&n||t,isSpinning:s},o))}VF.defaultProps={spinningName:ms};const qF=VF,QF={sectionContainer:"PageToolbarSection-sectionContainer-dcxFs",section:"PageToolbarSection-section-hL6TV",left:"PageToolbarSection-left-E_sPJ",center:"PageToolbarSection-center-hVR9U",right:"PageToolbarSection-right-w45zk",overflowMenuButton:"PageToolbarSection-overflowMenuButton-zBG01 ToolbarMenuButton-menuButton-U1XFl MenuButton-menuButton-Jl5Je",overflowMenuItemIcon:"PageToolbarSection-overflowMenuItemIcon-qXSpK"};function WF(){return WF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WF.apply(null,arguments)}const GF=parseInt(Fk().toolbarButtonWidth),KF=2*parseInt(Fk().toolbarSeparatorMargin)+1;class $F extends R.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1,width:0,buttons:[],overflowItems:[]}}render(){const{children:e,alignContent:t,collapseButtons:n}=this.props,{isMeasured:s,width:o}=this.state,{buttons:a,buttonCount:r,overflowItems:i}=function(e,t,n,s){let o=0,a=0;const r=[];!function(e,t,n){let s=0;R.Children.forEach(e,(e=>{R.isValidElement(e)&&t.call(n,e,s++)}))}(e,(e=>{0===Object.keys(e.props).length?a++:o++,r.push(e)}));const i=a+KF;if(!t||!s||o*GF+i<n)return{buttons:r,buttonCount:o,overflowItems:[]};const l=Math.max(Math.floor((n-i)/GF),1),c=[],d=[];let u=0;return o-1===l?{buttons:r,buttonCount:o,overflowItems:[]}:(r.forEach(((e,t)=>{const n=0===Object.keys(e.props).length;u<l?n||(c.push(e),u++):n||d.push(e.props)})),{buttons:c,buttonCount:o,overflowItems:d})}(e,s,o,n);return R.createElement(hw,{onMeasure:this.onMeasure,className:QF.sectionContainer,style:{flexGrow:r}},s?R.createElement("div",{className:Fo()(QF.section,QF[t])},a.map((e=>e)),!!i.length&&R.createElement(CA,null,R.createElement(UF,{className:QF.overflowMenuButton,iconName:xn,text:"More"}),R.createElement(yA,null,i.map((e=>{const{iconName:t,spinningName:n,label:s,isDisabled:o,isSpinning:a,...r}=e;return R.createElement(kA,WF({key:s,isDisabled:o||a},r),R.createElement(qF,{className:QF.overflowMenuItemIcon,name:t,spinningName:n,isSpinning:a}),s)}))))):null)}}$F.defaultProps={alignContent:Ve,collapseButtons:!0};const YF=$F,JF="TablePager-pageLink-AAJga",XF="TablePager-disabledPageButton-f9ct7";class ZF extends R.Component{constructor(e,t){super(e,t),this.onOpenPageSelectClick=()=>{this.setState({isShowingPageSelect:!0})},this.onPageSelect=({value:e})=>{this.setState({isShowingPageSelect:!1}),this.props.onPageSelect(parseInt(e))},this.onPageSelectBlur=()=>{this.setState({isShowingPageSelect:!1})},this.state={isShowingPageSelect:!1}}render(){const{page:e,totalPages:t,totalRecords:n,isFetching:s,onFirstPagePress:o,onPreviousPagePress:a,onNextPagePress:r,onLastPagePress:i}=this.props,l=this.state.isShowingPageSelect,c=Array.from(new Array(t),((e,t)=>{const n=t+1;return{key:n,value:n}}));if(!e)return null;const d=1===e,u=e===t;return R.createElement("div",{className:"TablePager-pager-sW7hO"},R.createElement("div",{className:"TablePager-loadingContainer-mEsEn"},s&&R.createElement(tM,{className:"TablePager-loading-T4oAA LoadingIndicator-loading-DWfav",size:20})),R.createElement("div",{className:"TablePager-controlsContainer-zSMU8"},R.createElement("div",{className:"TablePager-controls-hlpsq"},R.createElement(IM,{className:Fo()(JF,d&&XF),isDisabled:d,onPress:o},R.createElement(Lo,{name:Bn})),R.createElement(IM,{className:Fo()(JF,d&&XF),isDisabled:d,onPress:a},R.createElement(Lo,{name:Ln})),R.createElement("div",{className:"TablePager-pageNumber-tj2Ps"},!l&&R.createElement(IM,{isDisabled:1===t,onPress:this.onOpenPageSelectClick},e," / ",t),l&&R.createElement(ZI,{className:"TablePager-pageSelect-E2Iie SelectInput-select-M6gsU Input-input-KWeec",name:"pageSelect",value:e,values:c,autoFocus:!0,onChange:this.onPageSelect,onBlur:this.onPageSelectBlur})),R.createElement(IM,{className:Fo()(JF,u&&XF),isDisabled:u,onPress:r},R.createElement(Lo,{name:jn})),R.createElement(IM,{className:Fo()(JF,u&&XF),isDisabled:u,onPress:i},R.createElement(Lo,{name:_n})))),R.createElement("div",{className:"TablePager-recordsContainer-yz1LG"},R.createElement("div",{className:"TablePager-records-JiV_8"},"Total records: ",n)))}}const ex=ZF,tx=function(e,t,n="id"){if(e===t)return[];const s=new Set;return t.forEach((e=>{s.add(e[n])})),e.filter((e=>!s.has(e[n])))},nx=function(e,t,n="id"){if(e===t)return!1;if(e.length!==t.length)return!0;const s=new Set;return t.forEach((e=>{s.add(e[n])})),e.some((e=>!s.has(e[n])))};function sx(e,t){const n={...e.selectedState};return t.forEach((e=>{delete n[e.id]})),{...fO(n),selectedState:n}}const ox=function(){return(0,Ky.Mz)(((e,{authorId:t})=>t),(e=>e.authors.itemMap),(e=>e.authors.items),((e,t,n)=>n[t[e]]))};function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ax.apply(null,arguments)}const rx=function({titleSlug:e,authorName:t,...n}){const s=`/author/${e}`;return R.createElement(IM,ax({to:s},n),t)};function ix({formats:e}){return R.createElement("div",null,e.map((e=>R.createElement(YO,{key:e.id,kind:to},e.name))))}ix.defaultProps={formats:[]};const lx=ix;function cx(e,t,n,s,o){const a=t.revision;return a.real&&a.real>0&&(e+=" [REAL]"),a.version&&a.version>1&&(e+=" [PROPER]"),n&&(e+=` - ${FN(n)}`),s?o&&(e+=" [Cutoff Not Met]"):e+=" [Not Monitored]",e}function dx(e){const{className:t,title:n,quality:s,size:o,isMonitored:a,isCutoffNotMet:r,showRevision:i}=e;let l=Zs;return a?r&&(l=no):l=eo,s?R.createElement("span",null,R.createElement(YO,{className:t,kind:l,title:cx(n,s,o,a,r)},s.quality.name),function(e,t,n){if(n)return t.revision.isRepack?R.createElement(YO,{className:e,kind:so,title:te("Repack")},"R"):t.revision.version&&t.revision.version>1?R.createElement(YO,{className:e,kind:so,title:te("Proper")},"P"):void 0}(t,s,i)):null}dx.defaultProps={title:"",isMonitored:!0,showRevision:!1};const ux=dx,mx=function(){return(0,Ky.Mz)((e=>e.settings.ui),(e=>e.item))},hx=function(e,t,{includeMinuteZero:n=!1,includeSeconds:s=!1}={}){if(!e)return"";const o=ko()(e);return t=s?t.replace(/\(?:mm\)?/,":mm:ss"):n||0!==o.minute()?t.replace("(:mm)",":mm"):t.replace("(:mm)",""),o.format(t)},px=function(e){return!!e&&ko()(e).isSame(ko()(),"day")},gx=function(e){return!!e&&ko()(e).isSame(ko()().add(1,"day"),"day")},Ex=function(e){return!!e&&ko()(e).isSame(ko()().subtract(1,"day"),"day")},fx=function(e,t,n,{includeSeconds:s=!1,includeRelativeDay:o=!1}={}){return e?`${function(e,t){return t?Ex(e)?te("Yesterday"):px(e)?te("Today"):gx(e)?te("Tomorrow"):"":""}(e,o)}${ko()(e).format(t)} ${hx(e,n,{includeMinuteZero:!0,includeSeconds:s})}`:""},Cx=function(e,t,n,{timeFormat:s,includeSeconds:o=!1,timeForToday:a=!1}={}){if(!e)return null;const r=px(e);return r&&a&&s?hx(e,s,{includeMinuteZero:!0,includeSeconds:o}):n?Ex(e)?"Yesterday":r?"Today":gx(e)?"Tomorrow":function(e){if(!e)return!1;const t=ko()();return ko()(e).isBetween(t,t.clone().add(6,"days").endOf("day"))}(e)?ko()(e).format("dddd"):ko()(e).format(t):ko()(e).format(t)};function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vx.apply(null,arguments)}class Sx extends R.PureComponent{render(){const{className:e,date:t,includeSeconds:n,showRelativeDates:s,shortDateFormat:o,longDateFormat:a,timeFormat:r,component:i,dispatch:l,...c}=this.props;return t?R.createElement(i,vx({className:e,title:fx(t,a,r,{includeSeconds:n,includeRelativeDay:!s})},c),Cx(t,o,s,{timeFormat:r,includeSeconds:n,timeForToday:!0})):R.createElement(i,vx({className:e},c))}}Sx.defaultProps={className:"RelativeDateCell-cell-_hShQ TableRowCell-cell-giPrj",includeSeconds:!1,component:ak};const bx=Sx,Px=(0,Wy.Ng)((function(){return(0,Ky.Mz)(mx(),(e=>U().pick(e,["showRelativeDates","shortDateFormat","longDateFormat","timeFormat"])))}),null)(bx);class yx extends R.Component{render(){const{isOpen:e,sourceTitle:t,protocol:n,indexer:s,message:o,onModalClose:a}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:a},R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Details"),R.createElement(BM,null,R.createElement(sN,null,R.createElement(cN,{title:te("Name"),data:t}),R.createElement(cN,{title:te("Protocol"),data:n}),!!o&&R.createElement(cN,{title:te("Indexer"),data:s}),!!o&&R.createElement(cN,{title:te("Message"),data:o}))),R.createElement(HM,null,R.createElement(TM,{onPress:a},"Close"))))}}const Mx=yx;class Ix extends R.Component{constructor(e,t){super(e,t),this.onDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.state={isDetailsModalOpen:!1}}render(){const{id:e,author:t,sourceTitle:n,quality:s,customFormats:o,date:a,protocol:r,indexer:i,message:l,isSelected:c,columns:d,onSelectedChange:u,onRemovePress:m}=this.props;return t?R.createElement(pO,null,R.createElement(hk,{id:e,isSelected:c,onSelectedChange:u}),d.map((e=>{const{name:r,isVisible:l}=e;return l?"authorMetadata.sortName"===r?R.createElement(ak,{key:r},R.createElement(rx,{titleSlug:t.titleSlug,authorName:t.authorName})):"sourceTitle"===r?R.createElement(ak,{key:r},n):"quality"===r?R.createElement(ak,{key:r,className:"BlocklistRow-quality-DFEgf TableRowCell-cell-giPrj"},R.createElement(ux,{quality:s})):"customFormats"===r?R.createElement(ak,{key:r},R.createElement(lx,{formats:o})):"date"===r?R.createElement(Px,{key:r,date:a}):"indexer"===r?R.createElement(ak,{key:r,className:"BlocklistRow-indexer-LARqS TableRowCell-cell-giPrj"},i):"actions"===r?R.createElement(ak,{key:r,className:"BlocklistRow-actions-EYLsy TableRowCell-cell-giPrj"},R.createElement(Ek,{name:kn,onPress:this.onDetailsPress}),R.createElement(Ek,{title:te("RemoveFromBlocklist"),name:Kn,kind:Xs,onPress:m})):null:null})),R.createElement(Mx,{isOpen:this.state.isDetailsModalOpen,sourceTitle:n,protocol:r,indexer:i,message:l,onModalClose:this.onDetailsModalClose})):null}}const kx=Ix,Ox=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),(e=>({author:e})))}),(function(e,t){return{onRemovePress(){e(vi({id:t.id}))}}}))(kx);function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wx.apply(null,arguments)}class Tx extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onRemoveSelectedPress=()=>{this.setState({isConfirmRemoveModalOpen:!0})},this.onRemoveSelectedConfirmed=()=>{this.props.onRemoveSelected(this.getSelectedIds()),this.setState({isConfirmRemoveModalOpen:!1})},this.onConfirmRemoveModalClose=()=>{this.setState({isConfirmRemoveModalOpen:!1})},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},isConfirmRemoveModalOpen:!1,items:e.items}}componentDidUpdate(e){const{items:t}=this.props;nx(e.items,t)&&this.setState((n=>({...sx(n,tx(e.items,t)),items:t})))}render(){const{isFetching:e,isPopulated:t,isAuthorFetching:n,isAuthorPopulated:s,error:o,items:a,columns:r,totalRecords:i,isRemoving:l,isClearingBlocklistExecuting:c,onClearBlocklistPress:d,...u}=this.props,m=t&&s,h=e||n,{allSelected:p,allUnselected:g,selectedState:E,isConfirmRemoveModalOpen:f}=this.state,C=this.getSelectedIds();return R.createElement(FF,{title:te("Blocklist")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("RemoveSelected"),iconName:Kn,isDisabled:!C.length,isSpinning:l,onPress:this.onRemoveSelectedPress}),R.createElement(jF,{label:te("Clear"),iconName:Yt,isSpinning:c,onPress:d})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,wx({},u,{columns:r}),R.createElement(jF,{label:te("Options"),iconName:Es})))),R.createElement(TF,null,h&&!m&&R.createElement(tM,null),!h&&!!o&&R.createElement(OI,{kind:Xs},te("UnableToLoadBlocklist")),m&&!o&&!a.length&&R.createElement(OI,{kind:to},te("NoHistoryBlocklist")),m&&!o&&!!a.length&&R.createElement("div",null,R.createElement(cO,wx({selectAll:!0,allSelected:p,allUnselected:g,columns:r},u,{onSelectAllChange:this.onSelectAllChange}),R.createElement(uO,null,a.map((e=>R.createElement(Ox,wx({key:e.id,isSelected:E[e.id]||!1,columns:r},e,{onSelectedChange:this.onSelectedChange})))))),R.createElement(ex,wx({totalRecords:i,isFetching:e},u)))),R.createElement(wD,{isOpen:f,kind:Xs,title:te("RemoveSelected"),message:te("RemoveSelectedItemBlocklistMessageText"),confirmLabel:te("RemoveSelected"),onConfirm:this.onRemoveSelectedConfirmed,onCancel:this.onConfirmRemoveModalClose}))}}const Nx=Tx;function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dx.apply(null,arguments)}const Ax={...c,executeCommand:Mc};class Fx extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchBlocklist()},this.onFirstPagePress=()=>{this.props.gotoBlocklistFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoBlocklistPreviousPage()},this.onNextPagePress=()=>{this.props.gotoBlocklistNextPage()},this.onLastPagePress=()=>{this.props.gotoBlocklistLastPage()},this.onPageSelect=e=>{this.props.gotoBlocklistPage({page:e})},this.onRemoveSelected=e=>{this.props.removeBlocklistItems({ids:e})},this.onSortPress=e=>{this.props.setBlocklistSort({sortKey:e})},this.onTableOptionChange=e=>{this.props.setBlocklistTableOption(e),e.pageSize&&this.props.gotoBlocklistFirstPage()},this.onClearBlocklistPress=()=>{this.props.executeCommand({name:Hl})}}componentDidMount(){const{useCurrentPage:e,fetchBlocklist:t,gotoBlocklistFirstPage:n}=this.props;mI(this.repopulate),e?t():n()}componentDidUpdate(e){e.isClearingBlocklistExecuting&&!this.props.isClearingBlocklistExecuting&&this.props.gotoBlocklistFirstPage()}componentWillUnmount(){this.props.clearBlocklist(),hI(this.repopulate)}render(){return R.createElement(Nx,Dx({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onRemoveSelected:this.onRemoveSelected,onSortPress:this.onSortPress,onTableOptionChange:this.onTableOptionChange,onClearBlocklistPress:this.onClearBlocklistPress},this.props))}}const xx=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.blocklist),(e=>e.authors),kF(Hl),((e,t,n)=>({isAuthorFetching:t.isFetching,isAuthorPopulated:t.isPopulated,isClearingBlocklistExecuting:n,...e})))}),Ax)(Fx));function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rx.apply(null,arguments)}class Bx extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,onPress:t}=this.props;t(e)}}render(){const{children:e,selectedIconName:t,isSelected:n,...s}=this.props;return R.createElement(kA,Rx({},s,{onPress:this.onPress}),R.createElement("div",{className:"SelectedMenuItem-item-q3JrL"},e,R.createElement(Lo,{className:n?"SelectedMenuItem-isSelected-tocvz":"SelectedMenuItem-isNotSelected-UNRlj",name:t})))}}Bx.defaultProps={selectedIconName:qt};const Lx=Bx;function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jx.apply(null,arguments)}class _x extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{filterKey:e,onPress:t}=this.props;t(e)}}render(){const{filterKey:e,selectedFilterKey:t,...n}=this.props;return R.createElement(Lx,jx({isSelected:e===t},n,{onPress:this.onPress}))}}const zx=_x;class Ux extends R.Component{render(){const{selectedFilterKey:e,filters:t,customFilters:n,showCustomFilters:s,onFilterSelect:o,onCustomFiltersPress:a,...r}=this.props;return R.createElement(yA,r,t.map((t=>R.createElement(zx,{key:t.key,filterKey:t.key,selectedFilterKey:e,onPress:o},"function"==typeof t.label?t.label():t.label))),n.length>0?R.createElement(OA,null):null,n.sort(((e,t)=>e.label.localeCompare(t.label))).map((t=>R.createElement(zx,{key:t.id,filterKey:t.id,selectedFilterKey:e,onPress:o},t.label))),s&&R.createElement(OA,null),s&&R.createElement(kA,{onPress:a},"Custom Filters"))}}Ux.defaultProps={showCustomFilters:!1};const Hx=Ux;function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vx.apply(null,arguments)}class qx extends R.Component{constructor(e,t){super(e,t),this.onCustomFiltersPress=()=>{this.setState({isFilterModalOpen:!0})},this.onFiltersModalClose=()=>{this.setState({isFilterModalOpen:!1})},this.state={isFilterModalOpen:!1}}render(e){const{className:t,isDisabled:n,selectedFilterKey:s,filters:o,customFilters:a,buttonComponent:r,filterModalConnectorComponent:i,filterModalConnectorComponentProps:l,onFilterSelect:c,...d}=this.props,u=!!i;return R.createElement("div",null,R.createElement(CA,Vx({className:t},d),R.createElement(r,{iconName:fn,text:"Filter",isDisabled:n,indicator:"all"!==s}),R.createElement(Hx,{selectedFilterKey:s,filters:o,customFilters:a,showCustomFilters:u,onFilterSelect:c,onCustomFiltersPress:this.onCustomFiltersPress})),u&&R.createElement(i,Vx({},l,{isOpen:this.state.isFilterModalOpen,selectedFilterKey:s,filters:o,customFilters:a,onFilterSelect:c,onModalClose:this.onFiltersModalClose})))}}qx.defaultProps={className:"FilterMenu-filterMenu-vFvai Menu-menu-Uz3_0",isDisabled:!1,buttonComponent:UF};const Qx=qx,Wx=function(){return(0,Ky.Mz)(((e,{bookId:t})=>t),(e=>e.books.itemMap),(e=>e.books.items),((e,t,n)=>n[t[e]]))},Gx=function({titleSlug:e,title:t,disambiguation:n}){const s=`/book/${e}`;return R.createElement(IM,{to:s},t,n?` (${n})`:"")},Kx=function(e,t=0){const n=Number(e);return n>0?`+${n}`:n<0?`${n}`:t>0?"+0":""},$x=function(e,t,n){return e=Math.round(e),t=parseFloat(t),n=n&&parseFloat(n),e<2&&t?t<2&&n?`${n.toFixed(0)} ${1===t?"minute":"minutes"}`:`${t.toFixed(1)} ${1===t?"hour":"hours"}`:`${e} ${1===e?"day":"days"}`},Yx="HistoryDetails-description-tZwCD DescriptionListItemDescription-description-IZlGY";function Jx(e){return R.createElement("div",null,e.map((({title:e,messages:t})=>R.createElement("div",{key:e},e,R.createElement("ul",null,t.map((e=>R.createElement("li",{key:e},e))))))))}function Xx(e){return void 0===e||0===e||"0"===e?R.createElement(Lo,{name:jt,size:12}):e}function Zx(e,t){return R.createElement("div",null," ",Xx(e)," ",R.createElement(Lo,{name:Rt,size:12})," ",Xx(t)," ")}const eR=function(e){const{eventType:t,sourceTitle:n,data:s,shortDateFormat:o,timeFormat:a}=e;if("grabbed"===t){const{indexer:e,releaseGroup:t,customFormatScore:r,nzbInfoUrl:i,downloadClient:l,downloadClientName:c,downloadId:d,age:u,ageHours:m,ageMinutes:h,publishedDate:p}=s,g=null!=c?c:l;return R.createElement(sN,null,R.createElement(cN,{descriptionClassName:Yx,title:te("Name"),data:n}),!!e&&R.createElement(cN,{title:te("Indexer"),data:e}),!!t&&R.createElement(cN,{descriptionClassName:Yx,title:te("ReleaseGroup"),data:t}),r&&"0"!==r?R.createElement(cN,{title:te("CustomFormatScore"),data:Kx(r)}):null,i?R.createElement("span",null,R.createElement(iN,null,"Info URL"),R.createElement(aN,null,R.createElement(IM,{to:i},i))):null,g?R.createElement(cN,{title:te("DownloadClient"),data:g}):null,!!d&&R.createElement(cN,{title:te("GrabID"),data:d}),!!e&&R.createElement(cN,{title:te("AgeWhenGrabbed"),data:$x(u,m,h)}),!!p&&R.createElement(cN,{title:te("PublishedDate"),data:fx(p,o,a,{includeSeconds:!0})}))}if("downloadFailed"===t){const{message:e,indexer:t}=s;return R.createElement(sN,null,R.createElement(cN,{descriptionClassName:Yx,title:te("Name"),data:n}),t?R.createElement(cN,{title:te("Indexer"),data:t}):null,e?R.createElement(cN,{title:te("Message"),data:e}):null)}if("bookFileImported"===t){const{customFormatScore:e,droppedPath:t,importedPath:o}=s;return R.createElement(sN,null,R.createElement(cN,{descriptionClassName:Yx,title:te("Name"),data:n}),!!t&&R.createElement(cN,{descriptionClassName:Yx,title:te("Source"),data:t}),o?R.createElement(cN,{descriptionClassName:Yx,title:te("ImportedTo"),data:o}):null,e&&"0"!==e?R.createElement(cN,{title:te("CustomFormatScore"),data:Kx(e)}):null)}if("bookFileDeleted"===t){const{reason:e,customFormatScore:t}=s;let o="";switch(e){case"Manual":o=te("FileWasDeletedByViaUI");break;case"MissingFromDisk":o=te("MissingFromDisk");break;case"Upgrade":o=te("FileWasDeletedByUpgrade");break;default:o=""}return R.createElement(sN,null,R.createElement(cN,{title:te("Name"),data:n}),R.createElement(cN,{title:te("Reason"),data:o}),t&&"0"!==t?R.createElement(cN,{title:te("CustomFormatScore"),data:Kx(t)}):null)}if("bookFileRenamed"===t){const{sourcePath:e,path:t}=s;return R.createElement(sN,null,R.createElement(cN,{title:te("SourcePath"),data:e}),R.createElement(cN,{title:te("DestinationPath"),data:t}))}if("bookFileRetagged"===t){const{diff:e,tagsScrubbed:t}=s;return R.createElement(sN,null,R.createElement(cN,{title:te("Path"),data:n}),JSON.parse(e).map((({field:e,oldValue:t,newValue:n})=>R.createElement(cN,{key:e,title:e,data:Zx(t,n)}))),R.createElement(cN,{title:te("ExistingTagsScrubbed"),data:"True"===t?R.createElement(Lo,{name:qt}):R.createElement(Lo,{name:Kn})}))}if("bookImportIncomplete"===t){const{statusMessages:e}=s;return R.createElement(sN,null,R.createElement(cN,{title:te("Name"),data:n}),!!e&&R.createElement(cN,{title:te("ImportFailures"),data:Jx(JSON.parse(e))}))}if("downloadImported"===t){const{indexer:e,releaseGroup:t,nzbInfoUrl:r,downloadClient:i,downloadId:l,age:c,ageHours:d,ageMinutes:u,publishedDate:m}=s;return R.createElement(sN,null,R.createElement(cN,{title:te("Name"),data:n}),!!e&&R.createElement(cN,{title:te("Indexer"),data:e}),!!t&&R.createElement(cN,{title:te("ReleaseGroup"),data:t}),!!r&&R.createElement("span",null,R.createElement(iN,null,"Info URL"),R.createElement(aN,null,R.createElement(IM,{to:r},r))),!!i&&R.createElement(cN,{title:te("DownloadClient"),data:i}),!!l&&R.createElement(cN,{title:te("GrabID"),data:l}),!!e&&R.createElement(cN,{title:te("AgeWhenGrabbed"),data:$x(c,d,u)}),!!m&&R.createElement(cN,{title:te("PublishedDate"),data:fx(m,o,a,{includeSeconds:!0})}))}if("downloadIgnored"===t){const{message:e}=s;return R.createElement(sN,null,R.createElement(cN,{descriptionClassName:Yx,title:te("Name"),data:n}),!!e&&R.createElement(cN,{title:te("Message"),data:e}))}return R.createElement(sN,null,R.createElement(cN,{descriptionClassName:Yx,title:te("Name"),data:n}))};function tR(e){const{isOpen:t,eventType:n,sourceTitle:s,data:o,isMarkingAsFailed:a,shortDateFormat:r,timeFormat:i,onMarkAsFailedPress:l,onModalClose:c}=e;return R.createElement(JM,{isOpen:t,onModalClose:c},R.createElement(_M,{onModalClose:c},R.createElement(QM,null,function(e){switch(e){case"grabbed":return"Grabbed";case"downloadFailed":return"Download Failed";case"bookFileImported":return"Book Imported";case"bookFileDeleted":return"Book File Deleted";case"bookFileRenamed":return"Book File Renamed";case"bookFileRetagged":return"Book File Tags Updated";case"bookImportIncomplete":return"Book Import Incomplete";case"downloadImported":return"Download Completed";case"downloadIgnored":return"Download Ignored";default:return"Unknown"}}(n)),R.createElement(BM,null,R.createElement(eR,{eventType:n,sourceTitle:s,data:o,shortDateFormat:r,timeFormat:i})),R.createElement(HM,null,"grabbed"===n&&R.createElement(AO,{className:"HistoryDetailsModal-markAsFailedButton-P9sG9 Button-button-paJ9a Link-link-RInnp",kind:Xs,isSpinning:a,onPress:l},"Mark as Failed"),R.createElement(TM,{onPress:c},"Close"))))}tR.defaultProps={isMarkingAsFailed:!1};const nR=tR;function sR({eventType:e,data:t}){const n=function(e){switch(e){case"grabbed":case"downloadFailed":return rn;case"authorFolderImported":return ln;case"bookFileImported":case"bookImportIncomplete":return an;case"bookFileDeleted":return sn;case"bookFileRenamed":return Fn;case"bookFileRetagged":return Zn;case"downloadIgnored":return In;default:return Ss}}(e),s=function(e){switch(e){case"downloadFailed":return Xs;case"bookImportIncomplete":return ro;default:return Zs}}(e),o=function(e,t){switch(e){case"grabbed":return`Book grabbed from ${t.indexer} and sent to ${t.downloadClient}`;case"authorFolderImported":return"Book imported from author folder";case"bookFileImported":return"Book downloaded successfully and picked up from download client";case"downloadFailed":return"Book download failed";case"bookFileDeleted":return"Book file deleted";case"bookFileRenamed":return"Book file renamed";case"bookFileRetagged":return"Book file tags updated";case"bookImportIncomplete":return"Files downloaded but not all could be imported";case"downloadIgnored":return"Book Download Ignored";default:return"Unknown event"}}(e,t);return R.createElement(ak,{className:"HistoryEventTypeCell-cell-Q8TMw TableRowCell-cell-giPrj",title:o},R.createElement(Lo,{name:n,kind:s}))}sR.defaultProps={data:{}};const oR=sR,aR={downloadClient:"HistoryRow-downloadClient-bHUPB TableRowCell-cell-giPrj",indexer:"HistoryRow-indexer-gwnyu TableRowCell-cell-giPrj",customFormatScore:"HistoryRow-customFormatScore-xkDCa TableRowCell-cell-giPrj",releaseGroup:"HistoryRow-releaseGroup-Py4iD TableRowCell-cell-giPrj",details:"HistoryRow-details-XUSQz TableRowCell-cell-giPrj"};class rR extends R.Component{constructor(e,t){super(e,t),this.onDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.state={isDetailsModalOpen:!1}}componentDidUpdate(e){!e.isMarkingAsFailed||this.props.isMarkingAsFailed||this.props.markAsFailedError||this.setState({isDetailsModalOpen:!1})}render(){const{author:e,book:t,quality:n,customFormats:s,customFormatScore:o,qualityCutoffNotMet:a,eventType:r,sourceTitle:i,date:l,data:c,isMarkingAsFailed:d,columns:u,shortDateFormat:m,timeFormat:h,onMarkAsFailedPress:p}=this.props;return e&&t?R.createElement(pO,null,u.map((d=>{const{name:u,isVisible:m}=d;return m?"eventType"===u?R.createElement(oR,{key:u,eventType:r,data:c}):"authorMetadata.sortName"===u?R.createElement(ak,{key:u},R.createElement(rx,{titleSlug:e.titleSlug,authorName:e.authorName})):"books.title"===u?R.createElement(ak,{key:u},R.createElement(Gx,{titleSlug:t.titleSlug,title:t.title,disambiguation:t.disambiguation})):"quality"===u?R.createElement(ak,{key:u},R.createElement(ux,{quality:n,isCutoffMet:a})):"customFormats"===u?R.createElement(ak,{key:u},R.createElement(lx,{formats:s})):"date"===u?R.createElement(Px,{key:u,date:l}):"downloadClient"===u?R.createElement(ak,{key:u,className:aR.downloadClient},c.downloadClient):"indexer"===u?R.createElement(ak,{key:u,className:aR.indexer},c.indexer):"customFormatScore"===u?R.createElement(ak,{key:u,className:aR.customFormatScore},R.createElement(fN,{anchor:Kx(o,s.length),tooltip:R.createElement(lx,{formats:s}),position:yo})):"releaseGroup"===u?R.createElement(ak,{key:u,className:aR.releaseGroup},c.releaseGroup):"sourceTitle"===u?R.createElement(ak,{key:u},i):"details"===u?R.createElement(ak,{key:u,className:aR.details},R.createElement("div",{className:aR.actionContents},R.createElement(Ek,{name:kn,onPress:this.onDetailsPress}))):null:null})),R.createElement(nR,{isOpen:this.state.isDetailsModalOpen,eventType:r,sourceTitle:i,data:c,isMarkingAsFailed:d,shortDateFormat:m,timeFormat:h,onMarkAsFailedPress:p,onModalClose:this.onDetailsModalClose})):null}}rR.defaultProps={customFormats:[]};const iR=rR;function lR(){return lR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lR.apply(null,arguments)}const cR={fetchHistory:su,markAsFailed:hu};class dR extends R.Component{constructor(...e){super(...e),this.onMarkAsFailedPress=()=>{this.props.markAsFailed({id:this.props.id})}}componentDidUpdate(e){!e.isMarkingAsFailed||this.props.isMarkingAsFailed||this.props.markAsFailedError||this.props.fetchHistory()}render(){return R.createElement(iR,lR({},this.props,{onMarkAsFailedPress:this.onMarkAsFailedPress}))}}const uR=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),Wx(),mx(),((e,t,n)=>({author:e,book:t,shortDateFormat:n.shortDateFormat,timeFormat:n.timeFormat})))}),cR)(dR);function mR(){return mR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mR.apply(null,arguments)}class hR extends R.Component{render(){const{isFetching:e,isPopulated:t,error:n,items:s,columns:o,selectedFilterKey:a,filters:r,totalRecords:i,isAuthorFetching:l,isAuthorPopulated:c,isBooksFetching:d,isBooksPopulated:u,booksError:m,onFilterSelect:h,onFirstPagePress:p,...g}=this.props,E=e||l||d,f=t&&(c&&u||!s.length),C=n||m;return R.createElement(FF,{title:te("History")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("Refresh"),iconName:Gn,isSpinning:e,onPress:p})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,mR({},g,{columns:o}),R.createElement(jF,{label:te("Options"),iconName:Es})),R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:a,filters:r,customFilters:[],onFilterSelect:h}))),R.createElement(TF,null,E&&!f&&R.createElement(tM,null),!E&&C&&R.createElement(OI,{kind:Xs},te("UnableToLoadHistory")),t&&!C&&!s.length&&R.createElement(OI,{kind:to},te("NoHistory")),f&&!C&&!!s.length&&R.createElement("div",null,R.createElement(cO,mR({columns:o},g),R.createElement(uO,null,s.map((e=>R.createElement(uR,mR({key:e.id,columns:o},e)))))),R.createElement(ex,mR({totalRecords:i,isFetching:E,onFirstPagePress:p},g)))))}}const pR=hR;function gR(){return gR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gR.apply(null,arguments)}const ER={...v};class fR extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchHistory()},this.onFirstPagePress=()=>{this.props.gotoHistoryFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoHistoryPreviousPage()},this.onNextPagePress=()=>{this.props.gotoHistoryNextPage()},this.onLastPagePress=()=>{this.props.gotoHistoryLastPage()},this.onPageSelect=e=>{this.props.gotoHistoryPage({page:e})},this.onSortPress=e=>{this.props.setHistorySort({sortKey:e})},this.onFilterSelect=e=>{this.props.setHistoryFilter({selectedFilterKey:e})},this.onTableOptionChange=e=>{this.props.setHistoryTableOption(e),e.pageSize&&this.props.gotoHistoryFirstPage()}}componentDidMount(){const{useCurrentPage:e,fetchHistory:t,gotoHistoryFirstPage:n}=this.props;mI(this.repopulate),e?t():n()}componentWillUnmount(){hI(this.repopulate),this.props.clearHistory()}render(){return R.createElement(pR,gR({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onSortPress:this.onSortPress,onFilterSelect:this.onFilterSelect,onTableOptionChange:this.onTableOptionChange},this.props))}}const CR=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.history),(e=>e.authors),(e=>e.books),((e,t,n)=>({isAuthorFetching:t.isFetching,isAuthorPopulated:t.isPopulated,isBooksFetching:n.isFetching,isBooksPopulated:n.isPopulated,booksError:n.error,...e})))}),ER)(fR));class vR extends R.Component{render(){return R.createElement("div",{className:"PageToolbarSeparator-separator-N1WHF"})}}const SR=vR;class bR extends R.Component{constructor(e,t){super(e,t),this.onOptionChange=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onOptionChange({[e]:t})}))},this.state={includeUnknownAuthorItems:e.includeUnknownAuthorItems}}componentDidUpdate(e){const{includeUnknownAuthorItems:t}=this.props;t!==e.includeUnknownAuthorItems&&this.setState({includeUnknownAuthorItems:t})}render(){const{includeUnknownAuthorItems:e}=this.state;return R.createElement(R.Fragment,null,R.createElement(AI,null,R.createElement(Mk,null,te("ShowUnknownAuthorItems")),R.createElement(ED,{type:ws,name:"includeUnknownAuthorItems",value:e,helpText:te("IncludeUnknownAuthorItemsHelpText"),onChange:this.onOptionChange})))}}const PR=bR,yR={onOptionChange:bh},MR=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.queue.options),(e=>e))}),yR)(PR),IR={torrent:"ProtocolLabel-torrent-Fhltw Label-label-DYldh",usenet:"ProtocolLabel-usenet-HVp5Y Label-label-DYldh"},kR=function({protocol:e}){const t="usenet"===e?"nzb":e;return R.createElement(YO,{className:IR[e]},t)};function OR(){return OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OR.apply(null,arguments)}function wR(e){const{name:t,spinningName:n,isDisabled:s,isSpinning:o,...a}=e;return R.createElement(Ek,OR({name:o&&n||t,isDisabled:s||o,isSpinning:o},a))}wR.defaultProps={spinningName:ms,isDisabled:!1,isSpinning:!1};const TR=wR,NR={container:"ProgressBar-container-VCeFi",progressBar:"ProgressBar-progressBar-xAcCf",primary:"ProgressBar-primary-ev7yC",danger:"ProgressBar-danger-c24TF",success:"ProgressBar-success-l1duR",purple:"ProgressBar-purple-P2P7Z",warning:"ProgressBar-warning-vai87",info:"ProgressBar-info-OnZQe",frontTextContainer:"ProgressBar-frontTextContainer-zt7hp",backTextContainer:"ProgressBar-backTextContainer-RT0yM",backText:"ProgressBar-backText-UABss",frontText:"ProgressBar-frontText-hTZfF",small:"ProgressBar-small-XrF6k",medium:"ProgressBar-medium-WxfXU",large:"ProgressBar-large-oJAS7"};function DR(e){const{className:t,containerClassName:n,title:s,progress:o,precision:a,showText:r,text:i,kind:l,size:c,width:d}=e,u=`${o.toFixed(a)}%`,m=i||u,h=d?`${d}px`:"100%";return R.createElement(rI,null,(e=>R.createElement("div",{className:Fo()(n,NR[c]),title:s,style:{width:h}},r&&d?R.createElement("div",{className:Fo()(NR.backTextContainer,NR[l]),style:{width:h}},R.createElement("div",{className:NR.backText},R.createElement("div",null,m))):null,R.createElement("div",{className:Fo()(t,NR[l],e&&"colorImpaired"),role:"meter","aria-label":`Progress Bar at ${o.toFixed(0)}%`,"aria-valuenow":o.toFixed(0),"aria-valuemin":"0","aria-valuemax":"100",style:{width:u}}),r?R.createElement("div",{className:Fo()(NR.frontTextContainer,NR[l]),style:{width:u}},R.createElement("div",{className:NR.frontText,style:{width:h}},R.createElement("div",null,m))):null)))}DR.defaultProps={className:NR.progressBar,containerClassName:NR.container,precision:1,showText:!1,kind:so,size:go};const AR=DR;class FR extends R.Component{constructor(...e){super(...e),this.onPress=()=>{this.props.onPress(this.props.folder)},this.onRemovePress=e=>{e.stopPropagation();const{folder:t,onRemoveRecentFolderPress:n}=this.props;n(t)}}render(){const{folder:e,lastUsed:t}=this.props;return R.createElement(TT,{onPress:this.onPress},R.createElement(ak,null,e),R.createElement(Px,{date:t}),R.createElement(ak,{className:"RecentFolderRow-actions-Z_qCn TableRowCell-cell-giPrj"},R.createElement(Ek,{title:te("Remove"),name:Kn,onPress:this.onRemovePress})))}}const xR=FR,RR="InteractiveImportSelectFolderModalContent-buttonContainer-VzBje",BR="InteractiveImportSelectFolderModalContent-button-Q3COb Button-button-paJ9a Link-link-RInnp",LR="InteractiveImportSelectFolderModalContent-buttonIcon-XRLz8",jR=[{name:"folder",label:"Folder"},{name:"lastUsed",label:"Last Used"},{name:"actions",label:""}];class _R extends R.Component{constructor(e,t){super(e,t),this.onPathChange=({value:e})=>{this.setState({folder:e})},this.onRecentPathPress=e=>{this.setState({folder:e})},this.onQuickImportPress=()=>{this.props.onQuickImportPress(this.state.folder)},this.onInteractiveImportPress=()=>{this.props.onInteractiveImportPress(this.state.folder)},this.state={folder:""}}render(){const{recentFolders:e,onRemoveRecentFolderPress:t,onModalClose:n}=this.props,s=this.state.folder;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Manual Import - Select Folder"),R.createElement(BM,null,R.createElement(YT,{name:"folder",value:s,onChange:this.onPathChange}),!!e.length&&R.createElement("div",{className:"InteractiveImportSelectFolderModalContent-recentFoldersContainer-XYUWb"},R.createElement(cO,{columns:jR},R.createElement(uO,null,e.slice(0).reverse().map((e=>R.createElement(xR,{key:e.folder,folder:e.folder,lastUsed:e.lastUsed,onPress:this.onRecentPathPress,onRemoveRecentFolderPress:t})))))),R.createElement("div",{className:"InteractiveImportSelectFolderModalContent-buttonsContainer-Zups9"},R.createElement("div",{className:RR},R.createElement(TM,{className:BR,kind:so,size:Eo,isDisabled:!s,onPress:this.onQuickImportPress},R.createElement(Lo,{className:LR,name:Wn}),"Move Automatically")),R.createElement("div",{className:RR},R.createElement(TM,{className:BR,kind:so,size:Eo,isDisabled:!s,onPress:this.onInteractiveImportPress},R.createElement(Lo,{className:LR,name:On}),"Interactive Import")))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel")))}}const zR=_R;function UR(){return UR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UR.apply(null,arguments)}const HR={addRecentFolder:Qu,removeRecentFolder:Wu,executeCommand:Mc};class VR extends R.Component{constructor(...e){super(...e),this.onQuickImportPress=e=>{this.props.addRecentFolder({folder:e}),this.props.executeCommand({name:"DownloadedBooksScan",path:e}),this.props.onModalClose()},this.onInteractiveImportPress=e=>{this.props.addRecentFolder({folder:e}),this.props.onFolderSelect(e)},this.onRemoveRecentFolderPress=e=>{this.props.removeRecentFolder({folder:e})}}render(){return this.path?null:R.createElement(zR,UR({},this.props,{onQuickImportPress:this.onQuickImportPress,onInteractiveImportPress:this.onInteractiveImportPress,onRemoveRecentFolderPress:this.onRemoveRecentFolderPress}))}}const qR=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.interactiveImport.recentFolders),(e=>({recentFolders:e})))}),HR)(VR),QR=function(e,t){const{selectedFilterKey:n,filters:s,customFilters:o,filterPredicates:a}=t;if(!n)return e;const r=Gr(n,s,o);return U().filter(e,(e=>{let t=0,n=!0;for(;n&&t<r.length;){const{key:s,value:o,type:i=Ke}=r[t];if(a&&a.hasOwnProperty(s)){const t=a[s];n=Array.isArray(o)?i===st||i===ot?o.every((n=>t(e,n,i))):o.some((n=>t(e,n,i))):t(e,o,i)}else if(e.hasOwnProperty(s)){const t=It[i];n=Array.isArray(o)?i===st||i===ot?o.every((n=>t(e[s],n))):o.some((n=>t(e[s],n))):t(e[s],o)}else n=!1;t++}return n}))};function WR(e,t,n){return n&&n.hasOwnProperty(e)?function(s){return n[e](s,t)}:function(t){return t[e]}}const GR=function(e,t){const{sortKey:n,sortDirection:s,sortPredicates:o,secondarySortKey:a,secondarySortDirection:r}=t,i=[],l=[];return i.push(WR(n,s,o)),l.push(s===vo?"asc":"desc"),a&&r&&(n!==a||s!==r)&&(i.push(WR(a,r,o)),l.push(r===vo?"asc":"desc")),U().orderBy(e,i,l)},KR=function(e,t){return(0,Ky.Mz)((e=>e.customFilters.items),(n=>n.filter((n=>n.type===e||n.type===t))))},$R=function(e,t){return(0,Ky.Mz)((t=>U().get(t,e)),(e=>U().get(e,t)),KR(e,t),((e,t={},n)=>{const s=Object.assign({},e,t,{customFilters:n}),o=QR(s.items,s),a=GR(o,s);return{...e,...t,customFilters:n,items:a,totalItems:s.items.length}}))};class YR extends R.Component{constructor(...e){super(...e),this.onPress=()=>{this.props.onAuthorSelect(this.props.id)}}render(){return R.createElement(IM,{className:"SelectAuthorRow-author-r4Y02",component:"div",onPress:this.onPress},this.props.authorName)}}const JR=YR;class XR extends R.Component{constructor(e,t){super(e,t),this.onFilterChange=({value:e})=>{this.setState({filter:e})},this.state={filter:""}}render(){const{items:e,onAuthorSelect:t,onModalClose:n}=this.props,s=this.state.filter,o=s.toLowerCase();return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Manual Import - Select Author"),R.createElement(BM,{className:"SelectAuthorModalContent-modalBody-rSUi7 ModalBody-modalBody-RVK6D",scrollDirection:lo},R.createElement(jO,{className:"SelectAuthorModalContent-filterInput-qkWDC TextInput-input-svfXu Input-input-KWeec",placeholder:te("FilterAuthor"),name:"filter",value:s,autoFocus:!0,onChange:this.onFilterChange}),R.createElement(FM,{className:"SelectAuthorModalContent-scroller-YucvH"},e.map((e=>e.authorName.toLowerCase().includes(o)?R.createElement(JR,{key:e.id,id:e.id,authorName:e.authorName,onAuthorSelect:t}):null)))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel")))}}const ZR=XR;function eB(){return eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eB.apply(null,arguments)}const tB={updateInteractiveImportItem:Uu,saveInteractiveImportItem:Vu};class nB extends R.Component{constructor(...e){super(...e),this.onAuthorSelect=e=>{const t=U().find(this.props.items,{id:e}),n=this.props.ids;n.forEach((e=>{this.props.updateInteractiveImportItem({id:e,author:t,book:void 0,foreignEditionId:void 0,rejections:[]})})),this.props.saveInteractiveImportItem({ids:n}),this.props.onModalClose(!0)}}render(){return R.createElement(ZR,eB({},this.props,{onAuthorSelect:this.onAuthorSelect}))}}const sB=(0,Wy.Ng)((function(){return(0,Ky.Mz)(WD(),(e=>({items:[...e].sort(((e,t)=>e.sortName<t.sortName?-1:e.sortName>t.sortName?1:0))})))}),tB)(nB);function oB(){return oB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oB.apply(null,arguments)}class aB extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(sB,oB({},n,{onModalClose:t})))}}const rB=aB;function iB(e,t,n){return t===n&&n>0?ao:e?Xs:ro}class lB extends R.Component{constructor(...e){super(...e),this.onPress=()=>{this.props.onBookSelect(this.props.id)}}render(){const{title:e,releaseDate:t,statistics:n,monitored:s,columns:o}=this.props,{bookCount:a,bookFileCount:r,totalBookCount:i}=n;return R.createElement(pO,{onClick:this.onPress,className:"SelectBookRow-bookRow-jwRtF"},o.map((n=>{const{name:o,isVisible:l}=n;return l?"title"===o?R.createElement(ak,{key:o},e):"releaseDate"===o?R.createElement(Px,{key:o,date:t}):"status"===o?R.createElement(ak,{key:o},R.createElement(YO,{title:te("TotalBookCountBooksTotalBookFileCountBooksWithFilesInterp",[i,r]),kind:iB(s,r,a),size:go},R.createElement("span",null,r," / ",a))):null:null})))}}lB.defaultProps={statistics:{bookCount:0,bookFileCount:0}};const cB=lB;function dB(){return dB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dB.apply(null,arguments)}const uB=[{name:"title",label:"Book Title",isSortable:!0,isVisible:!0},{name:"releaseDate",label:"Release Date",isSortable:!0,isVisible:!0},{name:"status",label:"Book Status",isVisible:!0}];class mB extends R.Component{constructor(e,t){super(e,t),this.onFilterChange=({value:e})=>{this.setState({filter:e})},this.state={filter:""}}render(){const{items:e,onBookSelect:t,onModalClose:n,isFetching:s,...o}=this.props,a=this.state.filter,r=a.toLowerCase();return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Manual Import - Select Book"),R.createElement(BM,{className:"SelectBookModalContent-modalBody-QrGf_ ModalBody-modalBody-RVK6D",scrollDirection:lo},s&&R.createElement(tM,null),R.createElement(jO,{className:"SelectBookModalContent-filterInput-KwvEw TextInput-input-svfXu Input-input-KWeec",placeholder:te("FilterPlaceHolder"),name:"filter",value:a,autoFocus:!0,onChange:this.onFilterChange}),R.createElement(FM,{className:"SelectBookModalContent-scroller-TsD4a"},R.createElement(cO,dB({columns:uB},o),R.createElement(uO,null,e.map((e=>e.title.toLowerCase().includes(r)?R.createElement(cB,dB({key:e.id,columns:uB,onBookSelect:t},e)):null)))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel")))}}const hB=mB;function pB(){return pB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pB.apply(null,arguments)}const gB={fetchInteractiveImportBooks:Ku,setInteractiveImportBooksSort:$u,clearInteractiveImportBooks:Yu,updateInteractiveImportItem:Uu,saveInteractiveImportItem:Vu};class EB extends R.Component{constructor(...e){super(...e),this.onSortPress=(e,t)=>{this.props.setInteractiveImportBooksSort({sortKey:e,sortDirection:t})},this.onBookSelect=e=>{const t=U().find(this.props.items,{id:e}),n=this.props.ids;n.forEach((e=>{this.props.updateInteractiveImportItem({id:e,book:t,foreignEditionId:void 0,rejections:[]})})),this.props.saveInteractiveImportItem({ids:n}),this.props.onModalClose(!0)}}componentDidMount(){const{authorId:e}=this.props;this.props.fetchInteractiveImportBooks({authorId:e})}componentWillUnmount(){this.props.clearInteractiveImportBooks()}render(){return R.createElement(hB,pB({},this.props,{onSortPress:this.onSortPress,onBookSelect:this.onBookSelect}))}}const fB=(0,Wy.Ng)((function(){return(0,Ky.Mz)($R("interactiveImport.books"),(e=>e))}),gB)(EB);function CB(){return CB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CB.apply(null,arguments)}class vB extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(fB,CB({},n,{onModalClose:t})))}}const SB=vB;class bB extends R.Component{componentDidUpdate(e){const{items:t,isFetching:n,isPopulated:s}=this.props;n||!s||t.length||(this.props.onModalClose(),this.props.onConfirmImportPress())}render(){const{books:e,items:t,onConfirmImportPress:n,onModalClose:s,isFetching:o,isPopulated:a}=this.props;return o||!a||t.length?R.createElement(_M,{onModalClose:s},!o&&a&&R.createElement(QM,null,"Are you sure?"),R.createElement(BM,null,o&&R.createElement(tM,null),!o&&a&&R.createElement("div",null,R.createElement(OI,null,"You already have files imported for the books listed below.  If you continue, the existing files ",R.createElement("b",null,"will be deleted")," and the new files imported in their place. To avoid deleting existing files, press 'Cancel' and use the 'Combine with existing files' option."),U().chain(t).groupBy("bookId").mapValues(((t,n)=>function(e,t){return R.createElement("div",{key:t.id},R.createElement("b",null," ",t.title," "),R.createElement("ul",null,U().sortBy(e,"path").map((e=>R.createElement("li",{key:e.id},e.path)))))}(t,U().find(e,(e=>e.id===parseInt(n)))))).values().value())),!o&&a&&R.createElement(HM,null,R.createElement(TM,{onPress:s},"Cancel"),R.createElement(TM,{kind:Xs,onPress:n},"Proceed"))):null}}const PB=bB,yB={fetchInteractiveImportBookFiles:Ju,clearInteractiveImportBookFiles:Xu};class MB extends R.Component{componentDidMount(){const{books:e}=this.props;this.props.fetchInteractiveImportBookFiles({bookId:e.map((e=>e.id))})}componentWillUnmount(){this.props.clearInteractiveImportBookFiles()}render(){return R.createElement(PB,this.props)}}const IB=(0,Wy.Ng)((function(){return(0,Ky.Mz)($R("interactiveImport.bookFiles"),(e=>e))}),yB)(MB);function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kB.apply(null,arguments)}class OB extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(IB,kB({},n,{onModalClose:t})))}}const wB=OB;class TB extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.onEditionSelect(parseInt(e),t)}}render(){const{id:e,matchedEditionId:t,title:n,disambiguation:s,editions:o,columns:a}=this.props,r=s?`${n} (${s})`:n,i=U().map(o,(e=>{let t=`${e.title}`;e.disambiguation&&(t=`${t} (${EI(e.disambiguation)})`);const n=[];return e.language&&n.push(e.language),e.publisher&&n.push(e.publisher),e.isbn13&&n.push(e.isbn13),e.asin&&n.push(e.asin),e.format&&n.push(e.format),e.pageCount>0&&n.push(`${e.pageCount}p`),n&&(t=`${t} [${n.join(", ")}]`),{key:e.foreignEditionId,value:t}})),l=U().orderBy(i,["value"]);return R.createElement(pO,null,a.map((n=>{const{name:s,isVisible:o}=n;return o?"book"===s?R.createElement(ak,{key:s},r):"edition"===s?R.createElement(ak,{key:s},R.createElement(ED,{type:qs,name:e.toString(),values:l,value:t,onChange:this.onInputChange})):null:null})))}}const NB=TB;class DB extends R.Component{render(){return R.createElement(NB,this.props)}}DB.PropTypes={editions:UI().arrayOf(UI().object).isRequired};const AB=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{id:t})=>t),(e=>e.editions),((e,t)=>({editions:t.items.filter((t=>t.bookId===e))})))}))(DB);function FB(){return FB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FB.apply(null,arguments)}const xB=[{name:"book",label:"Book",isVisible:!0},{name:"edition",label:"Edition",isVisible:!0}];class RB extends R.Component{render(){const{books:e,isPopulated:t,isFetching:n,error:s,onEditionSelect:o,onModalClose:a,...r}=this.props;return t||s?!n&&s?R.createElement("div",null,te("LoadingEditionsFailed")):R.createElement(_M,{onModalClose:a},R.createElement(QM,null,te("ManualImportSelectEdition")),R.createElement(BM,{className:"SelectEditionModalContent-modalBody-G94ww ModalBody-modalBody-RVK6D",scrollDirection:mo},R.createElement(OI,null,"Overrriding an edition here will ",R.createElement("b",null,"disable automatic edition selection")," for that book in future."),R.createElement(cO,FB({columns:xB},r),R.createElement(uO,null,e.map((e=>R.createElement(AB,FB({key:e.book.id,matchedEditionId:e.matchedEditionId,columns:xB,onEditionSelect:o},e.book))))))),R.createElement(HM,null,R.createElement(TM,{onPress:a},te("Cancel")))):R.createElement(tM,null)}}const BB=RB;function LB(){return LB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LB.apply(null,arguments)}const jB={fetchEditions:jd,clearEditions:_d,updateInteractiveImportItem:Uu,saveInteractiveImportItem:Vu};class _B extends R.Component{constructor(...e){super(...e),this.populate=()=>{const e=this.props.books.map((e=>e.book.id));this.props.fetchEditions({bookId:e})},this.unpopulate=()=>{this.props.clearEditions()},this.onEditionSelect=(e,t)=>{const n=this.props.importIdsByBook[e];n.forEach((e=>{this.props.updateInteractiveImportItem({id:e,foreignEditionId:t,disableReleaseSwitching:!0,tracks:[],rejections:[]})})),this.props.saveInteractiveImportItem({ids:n}),this.props.onModalClose(!0)}}componentDidMount(){mI(this.populate),this.populate()}componentWillUnmount(){hI(this.populate),this.unpopulate()}render(){return R.createElement(BB,LB({},this.props,{onEditionSelect:this.onEditionSelect}))}}const zB=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.editions),(e=>{const{isFetching:t,isPopulated:n,error:s}=e;return{isFetching:t,isPopulated:n,error:s}}))}),jB)(_B);function UB(){return UB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UB.apply(null,arguments)}class HB extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(zB,UB({},n,{onModalClose:t})))}}const VB=HB;class qB extends R.Component{constructor(e,t){super(e,t),this.onIndexerFlagsChange=({value:e})=>{this.setState({indexerFlags:e})},this.onIndexerFlagsSelect=()=>{this.props.onIndexerFlagsSelect(this.state)};const{indexerFlags:n}=e;this.state={indexerFlags:n}}render(){const{onModalClose:e}=this.props,{indexerFlags:t}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Manual Import - Set indexer Flags"),R.createElement(BM,{className:"SelectIndexerFlagsModalContent-modalBody-sne5e ModalBody-modalBody-RVK6D",scrollDirection:lo},R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("IndexerFlags")),R.createElement(ED,{type:Us,name:"indexerFlags",indexerFlags:t,autoFocus:!0,onChange:this.onIndexerFlagsChange})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},te("Cancel")),R.createElement(TM,{kind:ao,onPress:this.onIndexerFlagsSelect},te("SetIndexerFlags"))))}}const QB=qB;function WB(){return WB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WB.apply(null,arguments)}const GB={dispatchUpdateInteractiveImportItems:Hu,dispatchSaveInteractiveImportItems:Vu};class KB extends R.Component{constructor(...e){super(...e),this.onIndexerFlagsSelect=({indexerFlags:e})=>{const{ids:t,dispatchUpdateInteractiveImportItems:n,dispatchSaveInteractiveImportItems:s}=this.props;n({ids:t,indexerFlags:e}),s({ids:t}),this.props.onModalClose(!0)}}render(){return R.createElement(QB,WB({},this.props,{onIndexerFlagsSelect:this.onIndexerFlagsSelect}))}}const $B=(0,Wy.Ng)(null,GB)(KB);function YB(){return YB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YB.apply(null,arguments)}class JB extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement($B,YB({},n,{onModalClose:t})))}}const XB=JB;function ZB(e){return e?e.reduce(((e,t)=>{if(t.quality)e.push(t.quality);else{const n=t.items.map((e=>e.quality));e.push(...n)}return e}),[]):[]}class eL extends R.Component{constructor(e,t){super(e,t),this.onQualityChange=({value:e})=>{this.setState({qualityId:parseInt(e)})},this.onProperChange=({value:e})=>{this.setState({proper:e})},this.onRealChange=({value:e})=>{this.setState({real:e})},this.onQualitySelect=()=>{this.props.onQualitySelect(this.state)};const{qualityId:n,proper:s,real:o}=e;this.state={qualityId:n,proper:s,real:o}}render(){const{isFetching:e,isPopulated:t,error:n,items:s,onModalClose:o}=this.props,{qualityId:a,proper:r,real:i}=this.state,l=s.map((({id:e,name:t})=>({key:e,value:t})));return R.createElement(_M,{onModalClose:o},R.createElement(QM,null,"Manual Import - Select Quality"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement(OI,{kind:Xs},te("UnableToLoadQualities")),t&&!n&&R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("Quality")),R.createElement(ED,{type:qs,name:"quality",value:a,values:l,onChange:this.onQualityChange})),R.createElement(AI,null,R.createElement(Mk,null,te("Proper")),R.createElement(ED,{type:ws,name:"proper",value:r,onChange:this.onProperChange})),R.createElement(AI,null,R.createElement(Mk,null,te("Real")),R.createElement(ED,{type:ws,name:"real",value:i,onChange:this.onRealChange})))),R.createElement(HM,null,R.createElement(TM,{onPress:o},"Cancel"),R.createElement(TM,{kind:ao,onPress:this.onQualitySelect},"Select Quality")))}}const tL=eL;function nL(){return nL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nL.apply(null,arguments)}const sL={dispatchFetchQualityProfileSchema:dS,dispatchUpdateInteractiveImportItems:Hu,dispatchSaveInteractiveImportItems:Vu};class oL extends R.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.props.isPopulated||this.props.dispatchFetchQualityProfileSchema()},this.onQualitySelect=({qualityId:e,proper:t,real:n})=>{const{ids:s,dispatchUpdateInteractiveImportItems:o,dispatchSaveInteractiveImportItems:a}=this.props;o({ids:s,quality:{quality:U().find(this.props.items,(t=>t.id===e)),revision:{version:t?2:1,real:n?1:0}}}),a({ids:s}),this.props.onModalClose(!0)}}render(){return R.createElement(tL,nL({},this.props,{onQualitySelect:this.onQualitySelect}))}}const aL=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.qualityProfiles),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isFetching:t,isPopulated:n,error:s,items:ZB(o.items)}}))}),sL)(oL);function rL(){return rL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rL.apply(null,arguments)}class iL extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(aL,rL({},n,{onModalClose:t})))}}const lL=iL;class cL extends R.Component{constructor(e,t){super(e,t),this.onReleaseGroupChange=({value:e})=>{this.setState({releaseGroup:e})},this.onReleaseGroupSelect=()=>{this.props.onReleaseGroupSelect(this.state)};const{releaseGroup:n}=e;this.state={releaseGroup:n}}render(){const{onModalClose:e}=this.props,{releaseGroup:t}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Manual Import - Set Release Group"),R.createElement(BM,{className:"SelectReleaseGroupModalContent-modalBody-tIpUk ModalBody-modalBody-RVK6D",scrollDirection:lo},R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("ReleaseGroup")),R.createElement(ED,{type:Gs,name:"releaseGroup",value:t,autoFocus:!0,onChange:this.onReleaseGroupChange})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Cancel"),R.createElement(TM,{kind:ao,onPress:this.onReleaseGroupSelect},"Set Release Group")))}}const dL=cL;function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uL.apply(null,arguments)}const mL={dispatchUpdateInteractiveImportItems:Hu,dispatchSaveInteractiveImportItems:Vu};class hL extends R.Component{constructor(...e){super(...e),this.onReleaseGroupSelect=({releaseGroup:e})=>{const{ids:t,dispatchUpdateInteractiveImportItems:n,dispatchSaveInteractiveImportItems:s}=this.props;n({ids:t,releaseGroup:e}),s({ids:t}),this.props.onModalClose(!0)}}render(){return R.createElement(dL,uL({},this.props,{onReleaseGroupSelect:this.onReleaseGroupSelect}))}}const pL=(0,Wy.Ng)(null,mL)(hL);function gL(){return gL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gL.apply(null,arguments)}class EL extends R.Component{render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(pL,gL({},n,{onModalClose:t})))}}const fL=EL,CL=(0,Ky.Mz)((e=>e.settings.indexerFlags),(e=>e)),vL=CL,SL=function({indexerFlags:e=0}){const t=(0,Wy.d4)(vL).items.filter((t=>(e&t.id)===t.id));return t.length?R.createElement("ul",null,t.map(((e,t)=>R.createElement("li",{key:t},e.name)))):null},bL=function(e){if(!e)return e;const t=e.replace(/<br\/>/g," ");return((new DOMParser).parseFromString(t,"text/html").body.textContent||"").replace(/([;,.])([^\s.])/g,"$1 $2").replace(/\s{2,}/g," ").replace(/s+/g,"")},PL=function(e){const{filename:t,audioTags:n,rejections:s}=e;return R.createElement(R.Fragment,null,R.createElement("div",{className:"FileDetails-audioTags-vy94o"},R.createElement(sN,null,t&&R.createElement(cN,{title:te("Filename"),data:t,descriptionClassName:"FileDetails-filename-zVOMZ DescriptionListItemDescription-description-IZlGY"}),void 0!==n.title&&R.createElement(cN,{title:te("TrackTitle"),data:n.title}),n.trackNumbers[0]>0&&R.createElement(cN,{title:te("TrackNumber"),data:n.trackNumbers[0]}),n.discNumber>0&&R.createElement(cN,{title:te("DiscNumber"),data:n.discNumber}),n.discCount>0&&R.createElement(cN,{title:te("DiscCount"),data:n.discCount}),void 0!==n.bookTitle&&R.createElement(cN,{title:te("Book"),data:n.bookTitle}),void 0!==n.authorTitle&&R.createElement(cN,{title:te("Author"),data:n.authorTitle}),void 0!==n.seriesTitle&&R.createElement(cN,{title:te("Series"),data:n.seriesTitle}),void 0!==n.seriesIndex&&R.createElement(cN,{title:te("SeriesNumber"),data:n.seriesIndex}),void 0!==n.country&&R.createElement(cN,{title:te("Country"),data:n.country.name}),void 0!==n.language&&"UND"!==n.language&&R.createElement(cN,{title:te("Language"),data:n.language}),n.year>0&&R.createElement(cN,{title:te("Year"),data:n.year}),void 0!==n.label&&R.createElement(cN,{title:te("Label"),data:n.label}),void 0!==n.publisher&&R.createElement(cN,{title:te("Publisher"),data:n.publisher}),void 0!==n.catalogNumber&&R.createElement(cN,{title:te("CatalogNumber"),data:n.catalogNumber}),void 0!==n.disambiguation&&R.createElement(cN,{title:te("Overview"),data:bL(n.disambiguation)}),void 0!==n.isbn&&R.createElement(cN,{title:te("ISBN"),data:n.isbn}),void 0!==n.asin&&R.createElement(cN,{title:te("ASIN"),data:n.asin}),"       ",void 0!==n.authorMBId&&R.createElement(IM,{to:`https://musicbrainz.org/author/${n.authorMBId}`},R.createElement(cN,{title:te("MusicBrainzAuthorID"),data:n.authorMBId})),void 0!==n.bookMBId&&R.createElement(IM,{to:`https://musicbrainz.org/release-group/${n.bookMBId}`},R.createElement(cN,{title:te("MusicBrainzBookID"),data:n.bookMBId})),void 0!==n.releaseMBId&&R.createElement(IM,{to:`https://musicbrainz.org/release/${n.releaseMBId}`},R.createElement(cN,{title:te("MusicBrainzReleaseID"),data:n.releaseMBId})),void 0!==n.recordingMBId&&R.createElement(IM,{to:`https://musicbrainz.org/recording/${n.recordingMBId}`},R.createElement(cN,{title:te("MusicBrainzRecordingID"),data:n.recordingMBId})),void 0!==n.trackMBId&&R.createElement(IM,{to:`https://musicbrainz.org/track/${n.trackMBId}`},R.createElement(cN,{title:te("MusicBrainzTrackID"),data:n.trackMBId})),!!s&&s.length>0&&function(e){return R.createElement("span",null,R.createElement(iN,null,"Rejections"),U().map(e,((e,t)=>R.createElement(aN,{key:t},e.reason))))}(s))))};function yL(){return yL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yL.apply(null,arguments)}function ML({className:e,...t}){return R.createElement(IM,yL({className:e,component:ak},t))}ML.defaultProps={className:"TableRowCellButton-cell-_ezEn TableRowCell-cell-giPrj Link-link-RInnp"};const IL=ML,kL=function(e){return R.createElement("span",{className:Fo()("InteractiveImportRowCellPlaceholder-placeholder-WVc4a",e.isOptional&&"InteractiveImportRowCellPlaceholder-optional-xZuLy")})};class OL extends R.Component{constructor(e,t){super(e,t),this.selectRowAfterChange=e=>{const{id:t,isSelected:n}=this.props;n||!0!==e||this.props.onSelectedChange({id:t,value:e})},this.onDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.onSelectAuthorPress=()=>{this.setState({isSelectAuthorModalOpen:!0})},this.onSelectBookPress=()=>{this.setState({isSelectBookModalOpen:!0})},this.onSelectReleaseGroupPress=()=>{this.setState({isSelectReleaseGroupModalOpen:!0})},this.onSelectQualityPress=()=>{this.setState({isSelectQualityModalOpen:!0})},this.onSelectIndexerFlagsPress=()=>{this.setState({isSelectIndexerFlagsModalOpen:!0})},this.onSelectAuthorModalClose=e=>{this.setState({isSelectAuthorModalOpen:!1}),this.selectRowAfterChange(e)},this.onSelectBookModalClose=e=>{this.setState({isSelectBookModalOpen:!1}),this.selectRowAfterChange(e)},this.onSelectReleaseGroupModalClose=e=>{this.setState({isSelectReleaseGroupModalOpen:!1}),this.selectRowAfterChange(e)},this.onSelectQualityModalClose=e=>{this.setState({isSelectQualityModalOpen:!1}),this.selectRowAfterChange(e)},this.onSelectIndexerFlagsModalClose=e=>{this.setState({isSelectIndexerFlagsModalOpen:!1}),this.selectRowAfterChange(e)},this.state={isDetailsModalOpen:!1,isSelectAuthorModalOpen:!1,isSelectBookModalOpen:!1,isSelectReleaseGroupModalOpen:!1,isSelectQualityModalOpen:!1,isSelectIndexerFlagsModalOpen:!1}}componentDidMount(){const{id:e,author:t,book:n,foreignEditionId:s,quality:o,size:a}=this.props;t&&null!=n&&s&&o&&a>0&&this.props.onSelectedChange({id:e,value:!0})}componentDidUpdate(e){const{id:t,author:n,book:s,foreignEditionId:o,quality:a,isSelected:r,onValidRowChange:i}=this.props;e.author===n&&e.book===s&&e.foreignEditionId===o&&e.quality===a&&e.isSelected===r||i(t,!(r&&!(n&&s&&o&&a)))}render(){var e,t;const{id:n,allowAuthorChange:s,path:o,author:a,book:r,quality:i,releaseGroup:l,size:c,customFormats:d,indexerFlags:u,rejections:m,columns:h,additionalFile:p,isSelected:g,isReprocessing:E,onSelectedChange:f,audioTags:C}=this.props,{isDetailsModalOpen:v,isSelectAuthorModalOpen:S,isSelectBookModalOpen:b,isSelectReleaseGroupModalOpen:P,isSelectQualityModalOpen:y,isSelectIndexerFlagsModalOpen:M}=this.state,I=a?a.authorName:"";let k="";r&&(k=r.disambiguation?`${r.title} (${r.disambiguation})`:r.title);const O=g&&!a,w=!E&&g&&!!a&&!r,T=g&&!l,N=g&&!i,D=g&&!u,A=R.createElement("div",{onClick:this.onDetailsPress},o),F=p?R.createElement(fN,{anchor:A,tooltip:"This file is already in your library for a release you are currently importing",position:bo}):A,x=R.createElement(PL,{audioTags:C,filename:o}),B=null!=(e=null==(t=h.find((e=>"indexerFlags"===e.name)))?void 0:t.isVisible)&&e;return R.createElement(pO,{className:p?"InteractiveImportRow-additionalFile-b0tG0 TableRow-row-lgbLy":void 0},R.createElement(hk,{id:n,isSelected:g,onSelectedChange:f}),R.createElement(ak,{className:"InteractiveImportRow-path-XznbU TableRowCell-cell-giPrj",title:o},F),R.createElement(IL,{isDisabled:!s,title:s?te("AllowAuthorChangeClickToChangeAuthor"):void 0,onPress:this.onSelectAuthorPress},O?R.createElement(kL,null):I),R.createElement(IL,{isDisabled:!a,title:a?te("AuthorClickToChangeBook"):void 0,onPress:this.onSelectBookPress},w?R.createElement(kL,null):k),R.createElement(IL,{title:te("ClickToChangeReleaseGroup"),onPress:this.onSelectReleaseGroupPress},T?R.createElement(kL,{isOptional:!0}):l),R.createElement(IL,{className:"InteractiveImportRow-quality-hlvRY TableRowCell-cell-giPrj",title:te("ClickToChangeQuality"),onPress:this.onSelectQualityPress},N&&R.createElement(kL,null),!N&&!!i&&R.createElement(ux,{className:"InteractiveImportRow-label-vgyHk Label-label-DYldh",quality:i})),R.createElement(ak,null,FN(c)),R.createElement(ak,null,null!=d&&d.length?R.createElement(vN,{anchor:R.createElement(Lo,{name:On}),title:te("Formats"),body:R.createElement("div",{className:"InteractiveImportRow-customFormatTooltip-EeuhJ"},R.createElement(lx,{formats:d})),position:Mo}):null),B?R.createElement(IL,{title:te("ClickToChangeIndexerFlags"),onPress:this.onSelectIndexerFlagsPress},D?R.createElement(kL,{isOptional:!0}):R.createElement(R.Fragment,null,u?R.createElement(vN,{anchor:R.createElement(Lo,{name:Cn,kind:so}),title:te("IndexerFlags"),body:R.createElement(SL,{indexerFlags:u}),position:Mo}):null)):null,R.createElement(ak,null,m.length?R.createElement(vN,{anchor:R.createElement(Lo,{name:nn,kind:Xs}),title:te("ReleaseRejected"),body:R.createElement("ul",null,m.map(((e,t)=>R.createElement("li",{key:t},e.reason)))),position:Mo,canFlip:!1}):null),R.createElement(wD,{isOpen:v,title:te("FileDetails"),message:x,size:Eo,kind:Zs,hideCancelButton:!0,confirmLabel:te("Close"),onConfirm:this.onDetailsModalClose,onCancel:this.onDetailsModalClose}),R.createElement(rB,{isOpen:S,ids:[n],onModalClose:this.onSelectAuthorModalClose}),R.createElement(SB,{isOpen:b,ids:[n],authorId:a&&a.id,onModalClose:this.onSelectBookModalClose}),R.createElement(fL,{isOpen:P,ids:[n],releaseGroup:null!=l?l:"",onModalClose:this.onSelectReleaseGroupModalClose}),R.createElement(lL,{isOpen:y,ids:[n],qualityId:i?i.quality.id:0,proper:!!i&&i.revision.version>1,real:!!i&&i.revision.real>0,onModalClose:this.onSelectQualityModalClose}),R.createElement(XB,{isOpen:M,ids:[n],indexerFlags:null!=u?u:0,onModalClose:this.onSelectIndexerFlagsModalClose}))}}const wL=OL,TL="InteractiveImportModalContent-filterText-QWJMj";function NL(){return NL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NL.apply(null,arguments)}const DL=[{name:"path",label:"Path",isSortable:!0,isVisible:!0},{name:"author",label:"Author",isSortable:!0,isVisible:!0},{name:"book",label:"Book",isVisible:!0},{name:"releaseGroup",label:"Release Group",isVisible:!0},{name:"quality",label:"Quality",isSortable:!0,isVisible:!0},{name:"size",label:"Size",isSortable:!0,isVisible:!0},{name:"customFormats",label:R.createElement(Lo,{name:On,title:()=>te("CustomFormat")}),isSortable:!0,isVisible:!0},{name:"indexerFlags",label:R.createElement(Lo,{name:Cn,title:()=>te("IndexerFlags")}),isSortable:!0,isVisible:!0},{name:"rejections",label:R.createElement(Lo,{name:nn,kind:Xs,title:()=>te("Rejections")}),isSortable:!0,isVisible:!0}],AL=[{key:"chooseImportMode",value:()=>te("ChooseImportMethod"),disabled:!0},{key:"move",value:()=>te("MoveFiles")},{key:"copy",value:()=>te("HardlinkCopyFiles")}],FL="select",xL="author",RL="book",BL="edition",LL="releaseGroup",jL="quality",_L="indexerFlags",zL="delete";class UL extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onValidRowChange=(e,t)=>{this.setState(((n,s)=>{const o=U().difference(n.invalidRowsSelected,U().map(s.items,"id")),a=U().difference(n.invalidRowsSelected,o);return{invalidRowsSelected:t?U().without(a,e):U().union(a,[e])}}))},this.onImportSelectedPress=()=>{if(!this.props.replaceExistingFiles)return void this.onConfirmImportPress();const e=this.getSelectedIds(),t=U()(this.props.items).filter((t=>U().includes(e,t.id))).keyBy((e=>e.book.id)).map((e=>e.book)).value();console.log(t),this.setState({booksImported:t,isConfirmImportModalOpen:!0})},this.onConfirmImportPress=()=>{const{downloadId:e,showImportMode:t,importMode:n,onImportSelectedPress:s}=this.props;s(this.getSelectedIds(),e||!t?"auto":n)},this.onFilterExistingFilesChange=e=>{this.props.onFilterExistingFilesChange("all"!==e)},this.onReplaceExistingFilesChange=e=>{this.props.onReplaceExistingFilesChange(e===zL)},this.onImportModeChange=({value:e})=>{this.props.onImportModeChange(e)},this.onSelectModalSelect=({value:e})=>{this.setState({selectModalOpen:e})},this.onClearBookMappingPress=()=>{this.getSelectedIds().forEach((e=>{this.props.updateInteractiveImportItem({id:e,rejections:[]})}))},this.onGetBookMappingPress=()=>{this.props.saveInteractiveImportItem({id:this.getSelectedIds()})},this.onSelectModalClose=()=>{this.setState({selectModalOpen:null})},this.onConfirmImportModalClose=()=>{this.setState({isConfirmImportModalOpen:!1})},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},invalidRowsSelected:[],selectModalOpen:null,booksImported:[],isConfirmImportModalOpen:!1,inconsistentBookReleases:!1}}componentDidUpdate(e){const t=this.getSelectedIds(),n=U().filter(this.props.items,(e=>U().includes(t,e.id))),s=U()(n).map((e=>({bookId:e.book?e.book.id:0,foreignEditionId:e.ForeignEditionId}))).groupBy("bookId").mapValues((e=>U()(e).groupBy((e=>e.foreignEditionId)).values().value().length)).values().some((e=>void 0!==e&&e>1));s!==this.state.inconsistentBookReleases&&this.setState({inconsistentBookReleases:s})}render(){const{downloadId:e,allowAuthorChange:t,showFilterExistingFiles:n,showReplaceExistingFiles:s,showImportMode:o,filterExistingFiles:a,replaceExistingFiles:r,title:i,folder:l,isFetching:c,isPopulated:d,isSaving:u,error:m,items:h,sortKey:p,sortDirection:g,importMode:E,interactiveImportErrorMessage:f,onSortPress:C,onModalClose:v}=this.props,{allSelected:S,allUnselected:b,selectedState:P,invalidRowsSelected:y,selectModalOpen:M,booksImported:I,isConfirmImportModalOpen:k,inconsistentBookReleases:O}=this.state,w=U().cloneDeep(DL),T=w.map((e=>{if(!h.some((e=>e.indexerFlags))){const e=w.find((e=>"indexerFlags"===e.name));e&&(e.isVisible=!1)}return e})),N=this.getSelectedIds(),D=N.length?U().find(h,{id:N[0]}):null,A=U().chain(h).filter((e=>e.book)).groupBy((e=>e.book.id)).mapValues((e=>e.map((e=>e.id)))).value(),F=U().chain(h).filter((e=>e.book)).keyBy((e=>e.book.id)).mapValues((e=>({matchedEditionId:e.foreignEditionId,book:e.book}))).values().value(),x=Jy(m,"Unable to load manual import items"),B=[{key:FL,value:te("SelectDropdown"),disabled:!0},{key:RL,value:te("SelectBook")},{key:BL,value:te("SelectEdition")},{key:jL,value:te("SelectQuality")},{key:LL,value:te("SelectReleaseGroup")},{key:_L,value:te("SelectIndexerFlags")}];return t&&B.splice(1,0,{key:xL,value:"Select Author"}),R.createElement(_M,{onModalClose:v},R.createElement(QM,null,"Manual Import - ",i||l),R.createElement(BM,{scrollDirection:co},R.createElement("div",{className:"InteractiveImportModalContent-filterContainer-wG6KO"},n&&R.createElement(CA,{alignMenu:Qe},R.createElement(bA,null,R.createElement(Lo,{name:fn,size:22}),R.createElement("div",{className:TL},a?"Unmapped Files Only":"All Files")),R.createElement(yA,null,R.createElement(Lx,{name:"all",isSelected:!a,onPress:this.onFilterExistingFilesChange},"All Files"),R.createElement(Lx,{name:"new",isSelected:a,onPress:this.onFilterExistingFilesChange},"Unmapped Files Only"))),s&&R.createElement(CA,{alignMenu:Qe},R.createElement(bA,null,R.createElement(Lo,{name:Zt,size:22}),R.createElement("div",{className:TL},r?"Existing files will be deleted":"Combine with existing files")),R.createElement(yA,null,R.createElement(Lx,{name:r.COMBINE,isSelected:!r,onPress:this.onReplaceExistingFilesChange},"Combine With Existing Files"),R.createElement(Lx,{name:zL,isSelected:r,onPress:this.onReplaceExistingFilesChange},"Replace Existing Files")))),c&&R.createElement(tM,null),m&&R.createElement("div",null,x),d&&!!h.length&&!c&&!c&&R.createElement(cO,{columns:T,horizontalScroll:!0,selectAll:!0,allSelected:S,allUnselected:b,sortKey:p,sortDirection:g,onSortPress:C,onSelectAllChange:this.onSelectAllChange},R.createElement(uO,null,h.map((e=>R.createElement(wL,NL({key:e.id,isSelected:P[e.id],isSaving:u},e,{allowAuthorChange:t,columns:T,onSelectedChange:this.onSelectedChange,onValidRowChange:this.onValidRowChange})))))),d&&!h.length&&!c&&"No book files were found in the selected folder"),R.createElement(HM,{className:"InteractiveImportModalContent-footer-nniuo ModalFooter-modalFooter-wjkx5"},R.createElement("div",{className:"InteractiveImportModalContent-leftButtons-AVUp2"},!e&&o?R.createElement(ZI,{className:"InteractiveImportModalContent-importMode-bhbIr SelectInput-select-M6gsU Input-input-KWeec",name:"importMode",value:E,values:AL,onChange:this.onImportModeChange}):null,R.createElement(ZI,{className:"InteractiveImportModalContent-bulkSelect-a3bN1 SelectInput-select-M6gsU Input-input-KWeec",name:"select",value:FL,values:B,isDisabled:!N.length,onChange:this.onSelectModalSelect})),R.createElement("div",{className:"InteractiveImportModalContent-rightButtons-LlBFD"},R.createElement(TM,{onPress:v},"Cancel"),f&&R.createElement("span",{className:"InteractiveImportModalContent-errorMessage-ArmVO"},f),R.createElement(TM,{kind:ao,isDisabled:u||!N.length||!!y.length||O,onPress:this.onImportSelectedPress},"Import"))),R.createElement(rB,{isOpen:M===xL,ids:N,onModalClose:this.onSelectModalClose}),R.createElement(SB,{isOpen:M===RL,ids:N,authorId:D&&D.author&&D.author.id,onModalClose:this.onSelectModalClose}),R.createElement(VB,{isOpen:M===BL,importIdsByBook:A,books:F,onModalClose:this.onSelectModalClose}),R.createElement(fL,{isOpen:M===LL,ids:N,releaseGroup:"",onModalClose:this.onSelectModalClose}),R.createElement(lL,{isOpen:M===jL,ids:N,qualityId:0,proper:!1,real:!1,onModalClose:this.onSelectModalClose}),R.createElement(XB,{isOpen:M===_L,ids:N,indexerFlags:0,onModalClose:this.onSelectModalClose}),R.createElement(wB,{isOpen:k,books:I,onModalClose:this.onConfirmImportModalClose,onConfirmImportPress:this.onConfirmImportPress}))}}UL.defaultProps={allowAuthorChange:!0,showFilterExistingFiles:!1,showReplaceExistingFiles:!1,showImportMode:!0,importMode:"move"};const HL=UL;function VL(){return VL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VL.apply(null,arguments)}const qL={fetchInteractiveImportItems:_u,setInteractiveImportSort:zu,setInteractiveImportMode:Gu,clearInteractiveImport:qu,updateInteractiveImportItem:Uu,saveInteractiveImportItem:Vu,executeCommand:Mc};class QL extends R.Component{constructor(e,t){super(e,t),this.onSortPress=(e,t)=>{this.props.setInteractiveImportSort({sortKey:e,sortDirection:t})},this.onFilterExistingFilesChange=e=>{this.setState({filterExistingFiles:e})},this.onReplaceExistingFilesChange=e=>{this.setState({replaceExistingFiles:e})},this.onImportModeChange=e=>{this.props.setInteractiveImportMode({importMode:e})},this.onImportSelectedPress=(e,t)=>{const n=[];"chooseImportMode"!==t?(U().forEach(this.props.items,(t=>{if(e.indexOf(t.id)>-1){const{author:e,book:s,foreignEditionId:o,quality:a,indexerFlags:r,disableReleaseSwitching:i}=t;if(!e)return this.setState({interactiveImportErrorMessage:"Author must be chosen for each selected file"}),!1;if(!s)return this.setState({interactiveImportErrorMessage:"Book must be chosen for each selected file"}),!1;if(!a)return this.setState({interactiveImportErrorMessage:"Quality must be chosen for each selected file"}),!1;n.push({path:t.path,authorId:e.id,bookId:s.id,foreignEditionId:o,quality:a,indexerFlags:r,downloadId:this.props.downloadId,disableReleaseSwitching:i})}})),n.length&&(this.props.executeCommand({name:"ManualImport",files:n,importMode:t,replaceExistingFiles:this.state.replaceExistingFiles}),this.props.onModalClose())):this.setState({interactiveImportErrorMessage:"An import mode must be selected"})},this.state={interactiveImportErrorMessage:null,filterExistingFiles:e.filterExistingFiles,replaceExistingFiles:e.replaceExistingFiles}}componentDidMount(){const{authorId:e,downloadId:t,folder:n}=this.props,{filterExistingFiles:s,replaceExistingFiles:o}=this.state;this.props.fetchInteractiveImportItems({authorId:e,downloadId:t,folder:n,filterExistingFiles:s,replaceExistingFiles:o})}componentDidUpdate(e,t){const{filterExistingFiles:n,replaceExistingFiles:s}=this.state;if(t.filterExistingFiles!==n||t.replaceExistingFiles!==s){const{authorId:e,downloadId:t,folder:o}=this.props;this.props.fetchInteractiveImportItems({authorId:e,downloadId:t,folder:o,filterExistingFiles:n,replaceExistingFiles:s})}}componentWillUnmount(){this.props.clearInteractiveImport()}render(){const{interactiveImportErrorMessage:e,filterExistingFiles:t,replaceExistingFiles:n}=this.state;return R.createElement(HL,VL({},this.props,{interactiveImportErrorMessage:e,filterExistingFiles:t,replaceExistingFiles:n,onSortPress:this.onSortPress,onFilterExistingFilesChange:this.onFilterExistingFilesChange,onReplaceExistingFilesChange:this.onReplaceExistingFilesChange,onImportModeChange:this.onImportModeChange,onImportSelectedPress:this.onImportSelectedPress}))}}QL.defaultProps={authorId:0,filterExistingFiles:!0,replaceExistingFiles:!1};const WL=(0,Wy.Ng)((function(){return(0,Ky.Mz)($R("interactiveImport"),(e=>e))}),qL)(QL);function GL(){return GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GL.apply(null,arguments)}class KL extends R.Component{constructor(e,t){super(e,t),this.onFolderSelect=e=>{this.setState({folder:e})},this.state={folder:null}}componentDidUpdate(e){e.isOpen&&!this.props.isOpen&&this.setState({folder:null})}render(){const{isOpen:e,folder:t,downloadId:n,onModalClose:s,...o}=this.props,a=t||this.state.folder;return R.createElement(JM,{isOpen:e,size:Co,closeOnBackgroundClick:!1,onModalClose:s},a||n?R.createElement(WL,GL({folder:a,downloadId:n},o,{onModalClose:s})):R.createElement(qR,GL({},o,{onFolderSelect:this.onFolderSelect,onModalClose:s})))}}KL.defaultProps={modalTitle:"Manual Import"};const $L=KL;function YL(e){return R.createElement("div",null,e.map((({title:e,messages:t})=>R.createElement("div",{key:e},e,R.createElement("ul",null,t.map((e=>R.createElement("li",{key:e},e))))))))}function JL(e){const{sourceTitle:t,status:n,trackedDownloadStatus:s,trackedDownloadState:o,statusMessages:a,errorMessage:r}=e,i="warning"===s,l="error"===s;let c=rn,d=Zs,u=te("Title");return"paused"===n&&(c=Un,u="Paused"),"queued"===n&&(c=Qn,u="Queued"),"completed"===n&&(c=an,u="Downloaded","importPending"===o&&(u+=" - Waiting to Import",d=oo),"importing"===o&&(u+=" - Importing",d=oo),"failedPending"===o&&(u+=" - Waiting to Process",d=Xs)),i&&(d=ro),"delay"===n&&(c=Hn,u="Pending"),"downloadClientUnavailable"===n&&(c=Hn,d=ro,u="Pending - Download client is unavailable"),"failed"===n&&(c=rn,d=Xs,u="Download failed"),"warning"===n&&(c=rn,d=ro,u=`Download warning: ${r||"check download client for more details"}`),l&&("completed"===n?(c=on,d=Xs,u=`Import failed: ${t}`):(c=rn,d=Xs,u="Download failed")),R.createElement(ak,{className:"QueueStatusCell-status-ssPVV TableRowCell-cell-giPrj"},R.createElement(vN,{anchor:R.createElement(Lo,{name:c,kind:d}),title:u,body:i||l?YL(a):t,position:Po,canFlip:!1}))}JL.defaultProps={trackedDownloadStatus:"Ok",trackedDownloadState:"Downloading"};const XL=JL,ZL=function(e){const{isOpen:t,sourceTitle:n,canIgnore:s,canChangeCategory:o,isPending:a,selectedCount:r,onRemovePress:i,onModalClose:l}=e,c=r&&r>1,[d,u]=(0,R.useState)("removeFromClient"),[m,h]=(0,R.useState)("doNotBlocklist"),{title:p,message:g}=(0,R.useMemo)((()=>r?1===r?{title:te("RemoveSelectedItem"),message:te("RemoveSelectedItemQueueMessageText")}:{title:te("RemoveSelectedItems"),message:te("RemoveSelectedItemsQueueMessageText",{selectedCount:r})}:{title:te("RemoveQueueItem",{sourceTitle:n}),message:te("RemoveQueueItemConfirmation",{sourceTitle:n})}),[n,r]),E=(0,R.useMemo)((()=>[{key:"removeFromClient",value:te("RemoveFromDownloadClient"),hint:te(c?"RemoveMultipleFromDownloadClientHint":"RemoveFromDownloadClientHint")},{key:"changeCategory",value:te("ChangeCategory"),isDisabled:!o,hint:te(c?"ChangeCategoryMultipleHint":"ChangeCategoryHint")},{key:"ignore",value:te(c?"IgnoreDownloads":"IgnoreDownload"),isDisabled:!s,hint:te(c?"IgnoreDownloadsHint":"IgnoreDownloadHint")}]),[o,s,c]),f=(0,R.useMemo)((()=>[{key:"doNotBlocklist",value:te("DoNotBlocklist"),hint:te("DoNotBlocklistHint")},{key:"blocklistAndSearch",value:te("BlocklistAndSearch"),hint:te(c?"BlocklistAndSearchMultipleHint":"BlocklistAndSearchHint")},{key:"blocklistOnly",value:te("BlocklistOnly"),hint:te(c?"BlocklistMultipleOnlyHint":"BlocklistOnlyHint")}]),[c]),C=(0,R.useCallback)((({value:e})=>{u(e)}),[u]),v=(0,R.useCallback)((({value:e})=>{h(e)}),[h]),S=(0,R.useCallback)((()=>{i({remove:"removeFromClient"===d,changeCategory:"changeCategory"===d,blocklist:"doNotBlocklist"!==m,skipRedownload:"blocklistOnly"===m}),u("removeFromClient"),h("doNotBlocklist")}),[d,m,u,h,i]),b=(0,R.useCallback)((()=>{u("removeFromClient"),h("doNotBlocklist"),l()}),[u,h,l]);return R.createElement(JM,{isOpen:t,size:go,onModalClose:b},R.createElement(_M,{onModalClose:b},R.createElement(QM,null,p),R.createElement(BM,null,R.createElement("div",{className:"RemoveQueueItemModal-message-CHG47"},g),a?null:R.createElement(AI,null,R.createElement(Mk,null,te("RemoveQueueItemRemovalMethod")),R.createElement(ED,{type:qs,name:"removalMethod",value:d,values:E,isDisabled:!o&&!s,helpTextWarning:te("RemoveQueueItemRemovalMethodHelpTextWarning"),onChange:C})),R.createElement(AI,null,R.createElement(Mk,null,te(c?"BlocklistReleases":"BlocklistRelease")),R.createElement(ED,{type:qs,name:"blocklistMethod",value:m,values:f,helpText:te("BlocklistReleaseHelpText"),onChange:v}))),R.createElement(HM,null,R.createElement(TM,{onPress:b},te("Close")),R.createElement(TM,{kind:Xs,onPress:S},te("Remove")))))},ej=function(e,t,n=0){return null==e?"":(e=`${e}`).length>=t?e:new Array(t-e.length+1).join(n)+e},tj=function(e){if(!e)return"";const t=ko().duration(e),n=Math.floor(t.asDays()),s=`${ej(t.get("hours"),2)}:${ej(t.get("minutes"),2)}:${ej(t.get("seconds"),2)}`;return n>0?`${n}d ${s}`:s},nj="TimeleftCell-timeleft-eTmq3 TableRowCell-cell-giPrj",sj=function(e){const{estimatedCompletionTime:t,timeleft:n,status:s,size:o,sizeleft:a,showRelativeDates:r,shortDateFormat:i,timeFormat:l}=e;if("delay"===s){const e=Cx(t,i,r),n=hx(t,l,{includeMinuteZero:!0});return R.createElement(ak,{className:nj,title:te("DelayingDownloadUntilInterp",[e,n])},"-")}if("downloadClientUnavailable"===s){const e=Cx(t,i,r),n=hx(t,l,{includeMinuteZero:!0});return R.createElement(ak,{className:nj,title:te("RetryingDownloadInterp",[e,n])},"-")}if(!n||"completed"===s||"failed"===s)return R.createElement(ak,{className:nj},"-");const c=FN(o),d=FN(a);return R.createElement(ak,{className:nj,title:`${d} / ${c}`},tj(n))};class oj extends R.Component{constructor(e,t){super(e,t),this.onRemoveQueueItemPress=()=>{this.setState({isRemoveQueueItemModalOpen:!0})},this.onRemoveQueueItemModalConfirmed=(e,t)=>{const{onRemoveQueueItemPress:n,onQueueRowModalOpenOrClose:s}=this.props;s(!1),n(e,t),this.setState({isRemoveQueueItemModalOpen:!1})},this.onRemoveQueueItemModalClose=()=>{this.props.onQueueRowModalOpenOrClose(!1),this.setState({isRemoveQueueItemModalOpen:!1})},this.onInteractiveImportPress=()=>{this.props.onQueueRowModalOpenOrClose(!0),this.setState({isInteractiveImportModalOpen:!0})},this.onInteractiveImportModalClose=()=>{this.props.onQueueRowModalOpenOrClose(!1),this.setState({isInteractiveImportModalOpen:!1})},this.state={isRemoveQueueItemModalOpen:!1,isInteractiveImportModalOpen:!1}}render(){const{id:e,downloadId:t,title:n,status:s,trackedDownloadStatus:o,trackedDownloadState:a,statusMessages:r,errorMessage:i,author:l,book:c,quality:d,customFormats:u,customFormatScore:m,protocol:h,indexer:p,outputPath:g,downloadClient:E,downloadClientHasPostImportCategory:f,downloadForced:C,estimatedCompletionTime:v,timeleft:S,size:b,sizeleft:P,showRelativeDates:y,shortDateFormat:M,timeFormat:I,isGrabbing:k,grabError:O,isRemoving:w,isSelected:T,columns:N,onSelectedChange:D,onGrabPress:A}=this.props,{isRemoveQueueItemModalOpen:F,isInteractiveImportModalOpen:x}=this.state,B=100-P/b*100,L="completed"===s&&"warning"===o,j="delay"===s||"downloadClientUnavailable"===s;return R.createElement(pO,null,R.createElement(hk,{id:e,isSelected:T,onSelectedChange:D}),N.map((e=>{const{name:t,isVisible:f}=e;return f?"status"===t?R.createElement(XL,{key:t,sourceTitle:n,status:s,trackedDownloadStatus:o,trackedDownloadState:a,statusMessages:r,errorMessage:i}):"authorMetadata.sortName"===t?R.createElement(ak,{key:t},l?R.createElement(rx,{titleSlug:l.titleSlug,authorName:l.authorName}):n):"books.title"===t?R.createElement(ak,{key:t},c?R.createElement(Gx,{titleSlug:c.titleSlug,title:c.title,disambiguation:c.disambiguation}):"-"):"books.releaseDate"===t?c?R.createElement(Px,{key:t,date:c.releaseDate}):R.createElement(ak,{key:t},"-"):"quality"===t?R.createElement(ak,{key:t},R.createElement(ux,{quality:d})):"customFormats"===t?R.createElement(ak,{key:t},R.createElement(lx,{formats:u})):"customFormatScore"===t?R.createElement(ak,{key:t,className:"QueueRow-customFormatScore-RaT_f TableRowCell-cell-giPrj"},R.createElement(fN,{anchor:Kx(m,u.length),tooltip:R.createElement(lx,{formats:u}),position:yo})):"protocol"===t?R.createElement(ak,{key:t},R.createElement(kR,{protocol:h})):"indexer"===t?R.createElement(ak,{key:t},p):"downloadClient"===t?R.createElement(ak,{key:t},E):"title"===t?R.createElement(ak,{key:t},n):"size"===t?R.createElement(ak,{key:t},FN(b)):"outputPath"===t?R.createElement(ak,{key:t},g):"estimatedCompletionTime"===t?R.createElement(sj,{key:t,status:s,estimatedCompletionTime:v,timeleft:S,size:b,sizeleft:P,showRelativeDates:y,shortDateFormat:M,timeFormat:I}):"progress"===t?R.createElement(ak,{key:t,className:"QueueRow-progress-PESGV TableRowCell-cell-giPrj"},!!B&&R.createElement(AR,{progress:B,title:`${B.toFixed(1)}%`})):"actions"===t?R.createElement(ak,{key:t,className:"QueueRow-actions-iDDa7 TableRowCell-cell-giPrj"},C&&R.createElement(vN,{anchor:R.createElement(Lo,{name:nn,kind:Xs}),title:te("ManualDownload"),body:"This release failed parsing checks and was manually downloaded from an interactive search.  Import is likely to fail.",position:Mo}),L&&R.createElement(Ek,{name:On,onPress:this.onInteractiveImportPress}),j&&R.createElement(TR,{name:on,kind:O?Xs:Zs,isSpinning:k,onPress:A}),R.createElement(TR,{title:te("RemoveFromQueue"),name:Kn,isSpinning:w,onPress:this.onRemoveQueueItemPress})):null:null})),R.createElement($L,{isOpen:x,downloadId:t,title:n,onModalClose:this.onInteractiveImportModalClose,showReplaceExistingFiles:!0,replaceExistingFiles:!0}),R.createElement(ZL,{isOpen:F,sourceTitle:n,canChangeCategory:!!f,canIgnore:!!l,isPending:j,onRemovePress:this.onRemoveQueueItemModalConfirmed,onModalClose:this.onRemoveQueueItemModalClose}))}}oj.defaultProps={customFormats:[],isGrabbing:!1,isRemoving:!1};const aj=oj;function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rj.apply(null,arguments)}const ij={grabQueueItem:yh,removeQueueItem:Ih};class lj extends R.Component{constructor(...e){super(...e),this.onGrabPress=()=>{this.props.grabQueueItem({id:this.props.id})},this.onRemoveQueueItemPress=e=>{this.props.removeQueueItem({id:this.props.id,...e})}}render(){return R.createElement(aj,rj({},this.props,{onGrabPress:this.onGrabPress,onRemoveQueueItemPress:this.onRemoveQueueItemPress}))}}const cj=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),Wx(),mx(),((e,t,n)=>{const s=U().pick(n,["showRelativeDates","shortDateFormat","timeFormat"]);return s.author=e,s.book=t,s}))}),ij)(lj);function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dj.apply(null,arguments)}class uj extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onQueueRowModalOpenOrClose=e=>{this._shouldBlockRefresh=e},this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onGrabSelectedPress=()=>{this.props.onGrabSelectedPress(this.getSelectedIds())},this.onRemoveSelectedPress=()=>{this.setState({isConfirmRemoveModalOpen:!0},(()=>{this._shouldBlockRefresh=!0}))},this.onRemoveSelectedConfirmed=e=>{this._shouldBlockRefresh=!1,this.props.onRemoveSelectedPress({ids:this.getSelectedIds(),...e}),this.setState({isConfirmRemoveModalOpen:!1})},this.onConfirmRemoveModalClose=()=>{this._shouldBlockRefresh=!1,this.setState({isConfirmRemoveModalOpen:!1})},this._shouldBlockRefresh=!1,this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},isPendingSelected:!1,isConfirmRemoveModalOpen:!1,items:e.items}}shouldComponentUpdate(){return!this._shouldBlockRefresh}componentDidUpdate(e){const{items:t,isFetching:n,isBooksFetching:s}=this.props;if(!s&&e.isBooksFetching||!n&&e.isFetching||nx(e.items,t)&&!t.some((e=>e.bookId)))return void this.setState((n=>({...sx(n,tx(e.items,t)),items:t})));const o={};e.items!==t&&(o.items=t);const a=this.getSelectedIds(),r=U().some(this.props.items,(e=>a.indexOf(e.id)>-1&&"delay"===e.status));r!==this.state.isPendingSelected&&(o.isPendingSelected=r),U().isEmpty(o)||this.setState(o)}render(){const{isFetching:e,isPopulated:t,error:n,isAuthorFetching:s,isAuthorPopulated:o,isBooksFetching:a,isBooksPopulated:r,booksError:i,columns:l,totalRecords:c,isGrabbing:d,isRemoving:u,isRefreshMonitoredDownloadsExecuting:m,onRefreshPress:h,...p}=this.props,{allSelected:g,allUnselected:E,selectedState:f,isConfirmRemoveModalOpen:C,isPendingSelected:v,items:S}=this.state,b=e||s||a||m,P=t&&(o&&r||!S.length||S.every((e=>!e.bookId))),y=n||i,M=this.getSelectedIds(),I=M.length,k=0===I;return R.createElement(FF,{title:te("Queue")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("Refresh"),iconName:Gn,isSpinning:b,onPress:h}),R.createElement(SR,null),R.createElement(jF,{label:te("GrabSelected"),iconName:on,isDisabled:k||!v,isSpinning:d,onPress:this.onGrabSelectedPress}),R.createElement(jF,{label:te("RemoveSelected"),iconName:Kn,isDisabled:k,isSpinning:u,onPress:this.onRemoveSelectedPress})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,dj({columns:l},p,{optionsComponent:MR}),R.createElement(jF,{label:te("Options"),iconName:Es})))),R.createElement(TF,null,b&&!P?R.createElement(tM,null):null,!b&&y?R.createElement(OI,{kind:Xs},te("FailedToLoadQueue")):null,!P||y||S.length?null:R.createElement(OI,{kind:to},te("QueueIsEmpty")),P&&!y&&S.length?R.createElement("div",null,R.createElement(cO,dj({columns:l,selectAll:!0,allSelected:g,allUnselected:E},p,{optionsComponent:MR,onSelectAllChange:this.onSelectAllChange}),R.createElement(uO,null,S.map((e=>R.createElement(cj,dj({key:e.id,bookId:e.bookId,isSelected:f[e.id],columns:l},e,{onSelectedChange:this.onSelectedChange,onQueueRowModalOpenOrClose:this.onQueueRowModalOpenOrClose})))))),R.createElement(ex,dj({totalRecords:c,isFetching:b},p))):null),R.createElement(ZL,{isOpen:C,selectedCount:I,canChangeCategory:C&&M.every((e=>{const t=S.find((t=>t.id===e));return!(!t||!t.downloadClientHasPostImportCategory)})),canIgnore:C&&M.every((e=>{const t=S.find((t=>t.id===e));return!!(t&&t.authorId&&t.bookId)})),pending:C&&M.every((e=>{const t=S.find((t=>t.id===e));return!!t&&("delay"===t.status||"downloadClientUnavailable"===t.status)})),onRemovePress:this.onRemoveSelectedConfirmed,onModalClose:this.onConfirmRemoveModalClose}))}}uj.defaultProps={count:0};const mj=uj;function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hj.apply(null,arguments)}const pj={...I,executeCommand:Mc};class gj extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchQueue()},this.onFirstPagePress=()=>{this.props.gotoQueueFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoQueuePreviousPage()},this.onNextPagePress=()=>{this.props.gotoQueueNextPage()},this.onLastPagePress=()=>{this.props.gotoQueueLastPage()},this.onPageSelect=e=>{this.props.gotoQueuePage({page:e})},this.onSortPress=e=>{this.props.setQueueSort({sortKey:e})},this.onTableOptionChange=e=>{this.props.setQueueTableOption(e),e.pageSize&&this.props.gotoQueueFirstPage()},this.onRefreshPress=()=>{this.props.executeCommand({name:Ul})},this.onGrabSelectedPress=e=>{this.props.grabQueueItems({ids:e})},this.onRemoveSelectedPress=e=>{this.props.removeQueueItems(e)}}componentDidMount(){const{useCurrentPage:e,fetchQueue:t,fetchQueueStatus:n,gotoQueueFirstPage:s}=this.props;mI(this.repopulate),e?t():s(),n()}componentDidUpdate(e){this.props.includeUnknownAuthorItems!==e.includeUnknownAuthorItems&&this.repopulate()}componentWillUnmount(){hI(this.repopulate)}render(){return R.createElement(mj,hj({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onSortPress:this.onSortPress,onTableOptionChange:this.onTableOptionChange,onRefreshPress:this.onRefreshPress,onGrabSelectedPress:this.onGrabSelectedPress,onRemoveSelectedPress:this.onRemoveSelectedPress},this.props))}}const Ej=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors),(e=>e.books),(e=>e.queue.options),(e=>e.queue.paged),kF(Ul),((e,t,n,s,o)=>({isAuthorFetching:e.isFetching,isAuthorPopulated:e.isPopulated,isBooksFetching:t.isFetching,isBooksPopulated:t.isPopulated,booksError:t.error,isRefreshMonitoredDownloadsExecuting:o,...n,...s})))}),pj)(gj));function fj({message:e}){return R.createElement(FF,{title:te("MIA")},R.createElement("div",{className:"NotFound-container-fJ0iq"},R.createElement("div",{className:"NotFound-message-Qdgw5"},e),R.createElement("img",{className:"NotFound-image-FkW9i",src:`${window.Researcharr.urlBase}/Content/Images/404.png`})))}fj.defaultProps={message:"You must be lost, nothing to see here."};const Cj=fj;var vj=n(39243);class Sj extends R.Component{constructor(e,t){super(e,t),this.onDeleteFilesChange=({value:e})=>{this.setState({deleteFiles:e})},this.onAddImportListExclusionChange=({value:e})=>{this.setState({addImportListExclusion:e})},this.onDeleteAuthorConfirmed=()=>{const e=this.state.deleteFiles,t=this.state.addImportListExclusion;this.setState({deleteFiles:!1}),this.setState({addImportListExclusion:!1}),this.props.onDeletePress(e,t)},this.state={deleteFiles:!1,addImportListExclusion:!1}}render(){const{authorName:e,path:t,statistics:n,onModalClose:s}=this.props,{bookFileCount:o,sizeOnDisk:a}=n,r=this.state.deleteFiles,i=this.state.addImportListExclusion;let l=`Delete ${o} Book Files`,c=te("DeleteFilesHelpText");return 0===o&&(l="Delete Author Folder",c="Delete the author folder and its contents"),R.createElement(_M,{onModalClose:s},R.createElement(QM,null,"Delete - ",e),R.createElement(BM,null,R.createElement("div",{className:"DeleteAuthorModalContent-pathContainer-ehqPS"},R.createElement(Lo,{className:"DeleteAuthorModalContent-pathIcon-_baKQ",name:vn}),t),R.createElement(AI,null,R.createElement(Mk,null,l),R.createElement(ED,{type:ws,name:"deleteFiles",value:r,helpText:c,kind:Xs,onChange:this.onDeleteFilesChange})),R.createElement(AI,null,R.createElement(Mk,null,te("AddListExclusion")),R.createElement(ED,{type:ws,name:"addImportListExclusion",value:i,helpText:te("AddImportListExclusionHelpText"),kind:Xs,onChange:this.onAddImportListExclusionChange})),r&&R.createElement("div",{className:"DeleteAuthorModalContent-deleteFilesMessage-ohvmw"},R.createElement("div",null,te("TheAuthorFolderAndAllOfItsContentWillBeDeleted",[t])),!!o&&R.createElement("div",null,o," book files totaling ",FN(a)))),R.createElement(HM,null,R.createElement(TM,{onPress:s},"Close"),R.createElement(TM,{kind:Xs,onPress:this.onDeleteAuthorConfirmed},"Delete")))}}Sj.defaultProps={statistics:{bookFileCount:0}};const bj=Sj;function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pj.apply(null,arguments)}const yj={deleteAuthor:La};class Mj extends R.Component{constructor(...e){super(...e),this.onDeletePress=(e,t)=>{this.props.deleteAuthor({id:this.props.authorId,deleteFiles:e,addImportListExclusion:t}),this.props.onModalClose(!0)}}render(){return R.createElement(bj,Pj({},this.props,{onDeletePress:this.onDeletePress}))}}const Ij=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),(e=>e))}),yj)(Mj);function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kj.apply(null,arguments)}const Oj=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,size:go,onModalClose:n},R.createElement(Ij,kj({},s,{onModalClose:n})))},wj=function(e){const{originalPath:t,destinationPath:n,destinationRootFolder:s,isOpen:o,onSavePress:a,onMoveAuthorPress:r}=e;return!o||t||n||s||console.error("orginalPath and destinationPath OR destinationRootFolder must be provided"),R.createElement(JM,{isOpen:o,size:go,closeOnBackgroundClick:!1,onModalClose:a},R.createElement(_M,{showCloseButton:!0,onModalClose:a},R.createElement(QM,null,"Move Files"),R.createElement(BM,null,s?`Would you like to move the author folders to '${s}'?`:`Would you like to move the author files from '${t}' to '${n}'?`),R.createElement(HM,null,R.createElement(TM,{className:"MoveAuthorModal-doNotMoveButton-nLqTv Button-button-paJ9a Link-link-RInnp",onPress:a},"No, I'll Move the Files Myself"),R.createElement(TM,{kind:Xs,onPress:r},"Yes, Move the Files"))))},Tj="EditAuthorModalContent-labelIcon-aMyEe";function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nj.apply(null,arguments)}class Dj extends R.Component{constructor(e,t){super(e,t),this.onSavePress=()=>{const{isPathChanging:e,onSavePress:t}=this.props;e&&!this.state.isConfirmMoveModalOpen?this.setState({isConfirmMoveModalOpen:!0}):(this.setState({isConfirmMoveModalOpen:!1}),t(!1))},this.onMoveAuthorPress=()=>{this.setState({isConfirmMoveModalOpen:!1}),this.props.onSavePress(!0)},this.state={isConfirmMoveModalOpen:!1}}render(){const{authorName:e,item:t,isSaving:n,showMetadataProfile:s,originalPath:o,onInputChange:a,onModalClose:r,onDeleteAuthorPress:i,...l}=this.props,{monitored:c,monitorNewItems:d,qualityProfileId:u,metadataProfileId:m,path:h,tags:p}=t;return R.createElement(_M,{onModalClose:r},R.createElement(QM,null,"Edit - ",e),R.createElement(BM,null,R.createElement(Sk,l,R.createElement(AI,null,R.createElement(Mk,null,te("Monitored")),R.createElement(ED,Nj({type:ws,name:"monitored",helpText:te("MonitoredHelpText")},c,{onChange:a}))),R.createElement(AI,null,R.createElement(Mk,null,te("MonitorNewItems"),R.createElement(vN,{anchor:R.createElement(Lo,{className:Tj,name:kn}),title:te("MonitorNewItems"),body:R.createElement(uN,null),position:Po})),R.createElement(ED,Nj({type:As,name:"monitorNewItems",helpText:te("MonitorNewItemsHelpText")},d,{onChange:a}))),R.createElement(AI,null,R.createElement(Mk,null,te("QualityProfile")),R.createElement(ED,Nj({type:Ls,name:"qualityProfileId"},u,{onChange:a}))),s&&R.createElement(AI,null,R.createElement(Mk,null,"Metadata Profile",R.createElement(vN,{anchor:R.createElement(Lo,{className:Tj,name:kn}),title:te("MetadataProfile"),body:R.createElement(tN,null),position:Po})),R.createElement(ED,Nj({type:js,name:"metadataProfileId",helpText:te("MetadataProfileIdHelpText"),includeNone:!0},m,{onChange:a}))),R.createElement(AI,null,R.createElement(Mk,null,te("Path")),R.createElement(ED,Nj({type:Bs,name:"path"},h,{onChange:a}))),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,Nj({type:Ws,name:"tags"},p,{onChange:a}))))),R.createElement(HM,null,R.createElement(TM,{className:"EditAuthorModalContent-deleteButton-JgNZ_ Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:i},"Delete"),R.createElement(TM,{onPress:r},"Cancel"),R.createElement(AO,{isSpinning:n,onPress:this.onSavePress},"Save")),R.createElement(wj,{originalPath:o,destinationPath:h.value,isOpen:this.state.isConfirmMoveModalOpen,onSavePress:this.onSavePress,onMoveAuthorPress:this.onMoveAuthorPress}))}}const Aj=Dj;function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fj.apply(null,arguments)}const xj={dispatchSetAuthorValue:Ua,dispatchSaveAuthor:Ba};class Rj extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetAuthorValue({name:e,value:t})},this.onSavePress=e=>{this.props.dispatchSaveAuthor({id:this.props.authorId,moveFiles:e})}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(Aj,Fj({},this.props,{onInputChange:this.onInputChange,onSavePress:this.onSavePress,onMoveAuthorPress:this.onMoveAuthorPress}))}}const Bj=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors),(e=>e.settings.metadataProfiles),ox(),(0,Ky.Mz)((e=>e.authors.pendingChanges),ox(),((e,t)=>{const n=e.path;return null!=n&&t.path!==n})),((e,t,n,s)=>{const{isSaving:o,saveError:a,pendingChanges:r}=e,i=U().pick(n,["monitored","monitorNewItems","qualityProfileId","metadataProfileId","path","tags"]),l=PI(i,r,a);return{authorName:n.authorName,isSaving:o,saveError:a,isPathChanging:s,originalPath:n.path,item:l.settings,showMetadataProfile:t.items.length>1,...l}}))}),xj)(Rj);function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lj.apply(null,arguments)}const jj=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(Bj,Lj({},n,{onModalClose:t})))};function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_j.apply(null,arguments)}const zj={clearPendingChanges:he};class Uj extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"author"}),this.props.onModalClose()}}render(){return R.createElement(jj,_j({},this.props,{onModalClose:this.onModalClose}))}}const Hj=(0,Wy.Ng)(void 0,zj)(Uj);function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vj.apply(null,arguments)}const qj={fetchAuthorHistory:or,clearAuthorHistory:ar,authorHistoryMarkAsFailed:rr};class Qj extends R.Component{constructor(...e){super(...e),this.onMarkAsFailedPress=e=>{const{authorId:t,bookId:n}=this.props;this.props.authorHistoryMarkAsFailed({historyId:e,authorId:t,bookId:n})}}componentDidMount(){const{authorId:e,bookId:t}=this.props;this.props.fetchAuthorHistory({authorId:e,bookId:t})}componentWillUnmount(){this.props.clearAuthorHistory()}render(){const{component:e,...t}=this.props;return R.createElement(e,Vj({},t,{onMarkAsFailedPress:this.onMarkAsFailedPress}))}}const Wj=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorHistory),(e=>e))}),qj)(Qj),Gj=(0,Wy.Ng)((function(){return(0,Ky.Mz)(mx(),(e=>U().pick(e,["shortDateFormat","timeFormat"])))}))(eR);function Kj(e){switch(e){case"grabbed":return"Grabbed";case"downloadImported":return"Download Completed";case"bookFileImported":return"Book Imported";case"downloadFailed":return"Download Failed";case"bookFileDeleted":return"Book File Deleted";case"bookFileRenamed":return"Book File Renamed";case"bookFileRetagged":return"Book File Tags Updated";case"bookImportIncomplete":return"Book Import Incomplete";default:return"Unknown"}}class $j extends R.Component{constructor(e,t){super(e,t),this.onMarkAsFailedPress=()=>{this.setState({isMarkAsFailedModalOpen:!0})},this.onConfirmMarkAsFailed=()=>{this.props.onMarkAsFailedPress(this.props.id),this.setState({isMarkAsFailedModalOpen:!1})},this.onMarkAsFailedModalClose=()=>{this.setState({isMarkAsFailedModalOpen:!1})},this.state={isMarkAsFailedModalOpen:!1}}render(){const{eventType:e,sourceTitle:t,quality:n,qualityCutoffNotMet:s,customFormats:o,customFormatScore:a,date:r,data:i,book:l}=this.props,{isMarkAsFailedModalOpen:c}=this.state;return R.createElement(pO,null,R.createElement(oR,{eventType:e,data:i}),R.createElement(ak,{key:name},l.title),R.createElement(ak,{className:"AuthorHistoryRow-sourceTitle-tcjVc TableRowCell-cell-giPrj"},t),R.createElement(ak,null,R.createElement(ux,{quality:n,isCutoffNotMet:s})),R.createElement(ak,null,R.createElement(lx,{formats:o})),R.createElement(ak,null,Kx(a,o.length)),R.createElement(Px,{date:r}),R.createElement(ak,{className:"AuthorHistoryRow-actions-LfHyv TableRowCell-cell-giPrj"},R.createElement(vN,{anchor:R.createElement(Lo,{name:kn}),title:Kj(e),body:R.createElement(Gj,{eventType:e,sourceTitle:t,data:i}),position:Mo}),"grabbed"===e&&R.createElement(Ek,{title:te("MarkAsFailed"),name:Kn,size:14,onPress:this.onMarkAsFailedPress})),R.createElement(wD,{isOpen:c,kind:Xs,title:te("MarkAsFailed"),message:te("MarkAsFailedMessageText",[t]),confirmLabel:te("MarkAsFailed"),onConfirm:this.onConfirmMarkAsFailed,onCancel:this.onMarkAsFailedModalClose}))}}const Yj=$j,Jj={fetchHistory:su,markAsFailed:hu},Xj=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),Wx(),((e,t)=>({author:e,book:t})))}),Jj)(Yj);function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zj.apply(null,arguments)}const e_=[{name:"eventType",isVisible:!0},{name:"book",label:()=>te("Book"),isVisible:!0},{name:"sourceTitle",label:()=>te("SourceTitle"),isVisible:!0},{name:"quality",label:()=>te("Quality"),isVisible:!0},{name:"customFormats",label:()=>te("CustomFormats"),isSortable:!1,isVisible:!0},{name:"customFormatScore",label:R.createElement(Lo,{name:ss,title:()=>te("CustomFormatScore")}),isSortable:!0,isVisible:!0},{name:"date",label:()=>te("Date"),isVisible:!0},{name:"actions",isVisible:!0}];class t_ extends R.Component{render(){const{bookId:e,isFetching:t,isPopulated:n,error:s,items:o,onMarkAsFailedPress:a}=this.props,r=null==e,i=!!o.length;return R.createElement("div",null,t&&R.createElement(tM,null),!t&&!!s&&R.createElement(OI,{kind:Xs},te("UnableToLoadHistory")),n&&!i&&!s&&R.createElement("div",{className:"AuthorHistoryTableContent-blankpad-ETlTM"},te("NoHistory")),n&&i&&!s&&R.createElement(cO,{columns:e_},R.createElement(uO,null,o.map((e=>R.createElement(Xj,Zj({key:e.id,fullAuthor:r},e,{onMarkAsFailedPress:a})))))))}}const n_=t_;function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s_.apply(null,arguments)}const o_=function(e){const{...t}=e;return R.createElement("div",{className:"AuthorHistoryTable-container-NSKat"},R.createElement(Wj,s_({component:n_},t)))},a_="noChange";class r_ extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{this.setState({[e]:t})},this.onSavePress=()=>{const{onSavePress:e,isSaving:t}=this.props,{monitor:n}=this.state;n!==a_&&e({monitor:n}),t||this.onModalClose()},this.onModalClose=()=>{this.props.onModalClose()},this.state={monitor:a_}}componentDidUpdate(e){const{isSaving:t,saveError:n}=this.props;!e.isSaving||t||n||this.setState({monitor:a_})}render(){const{isSaving:e,onInputChange:t,onModalClose:n,...s}=this.props,{monitor:o}=this.state;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,te("MonitorBook")),R.createElement(BM,null,R.createElement(OI,{kind:to},R.createElement("div",null,te("MonitorBookExistingOnlyWarning"))),R.createElement(Sk,s,R.createElement(AI,null,R.createElement(Mk,null,te("Monitoring")),R.createElement(ED,{type:Ds,name:"monitor",value:o,includeNoChange:!0,onChange:this.onInputChange})))),R.createElement(HM,null,R.createElement(TM,{onPress:n},te("Cancel")),R.createElement(AO,{isSpinning:e,onPress:this.onSavePress},te("Save"))))}}r_.defaultProps={isSaving:!1};const i_=r_;function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l_.apply(null,arguments)}const c_={dispatchUpdateMonitoringOptions:za};class d_ extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.setState({name:e,value:t})},this.onSavePress=({monitor:e})=>{this.props.dispatchUpdateMonitoringOptions({id:this.props.authorId,monitor:e})}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose(!0)}render(){return R.createElement(i_,l_({},this.props,{onInputChange:this.onInputChange,onSavePress:this.onSavePress}))}}const u_=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors),(e=>{const{isSaving:t,saveError:n}=e;return{isSaving:t,saveError:n}}))}),c_)(d_);function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m_.apply(null,arguments)}const h_=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(u_,m_({},n,{onModalClose:t})))};class p_ extends R.Component{render(){const{className:e,children:t}=this.props;return R.createElement("div",{className:e},t)}}p_.defaultProps={className:"PageContentFooter-contentFooter-RHpBL"};const g_=p_;function E_(e){const{className:t,label:n,isSaving:s}=e;return R.createElement("div",{className:t},n,s&&R.createElement(qF,{className:"BookEditorFooterLabel-savingIcon-vPtUj",name:ms,isSpinning:!0}))}E_.defaultProps={className:"BookEditorFooterLabel-label-lCfuI"};const f_=E_,C_="DeleteBookModalContent-deleteFilesMessage-CvSYg";class v_ extends R.Component{constructor(e,t){super(e,t),this.onDeleteFilesChange=({value:e})=>{this.setState({deleteFiles:e})},this.onAddImportListExclusionChange=({value:e})=>{this.setState({addImportListExclusion:e})},this.onDeleteBookConfirmed=()=>{const{deleteFiles:e,addImportListExclusion:t}=this.state;this.setState({deleteFiles:!1}),this.props.onDeleteSelectedPress(e,t)},this.state={deleteFiles:!1,addImportListExclusion:!0}}render(){const{book:e,files:t,onModalClose:n}=this.props,{deleteFiles:s,addImportListExclusion:o}=this.state;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Delete Selected Book"),R.createElement(BM,null,R.createElement("div",null,R.createElement(AI,null,R.createElement(Mk,null,"Delete File"+(e.length>1?"s":"")),R.createElement(ED,{type:ws,name:"deleteFiles",value:s,helpText:te("DeleteFilesHelpText"),kind:Xs,isDisabled:0===t.length,onChange:this.onDeleteFilesChange})),R.createElement(AI,null,R.createElement(Mk,null,te("AddListExclusion")),R.createElement(ED,{type:ws,name:"addImportListExclusion",value:o,helpText:te("AddImportListExclusionHelpText"),kind:Xs,onChange:this.onAddImportListExclusionChange})),!o&&R.createElement("div",{className:C_},R.createElement("div",null,te("IfYouDontAddAnImportListExclusionAndTheAuthorHasAMetadataProfileOtherThanNoneThenThisBookMayBeReaddedDuringTheNextAuthorRefresh")))),R.createElement("div",{className:"DeleteBookModalContent-message-_dZCT"},`Are you sure you want to delete ${e.length} selected book${e.length>1?"s":""}${s?" and their files":""}?`),R.createElement("ul",null,e.map((e=>R.createElement("li",{key:e.title},R.createElement("span",null,e.title))))),s&&R.createElement("div",null,R.createElement("div",{className:C_},te("TheFollowingFilesWillBeDeleted")),R.createElement("ul",null,t.map((e=>R.createElement("li",{key:e.path},R.createElement("span",null,e.path))))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel"),R.createElement(TM,{kind:Xs,onPress:this.onDeleteBookConfirmed},"Delete")))}}const S_=v_,b_=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{bookIds:t})=>t),(e=>e.books.items),(e=>e.bookFiles.items),((e,t,n)=>{const s=U().intersectionWith(t,e,((e,t)=>e.id===t)),o=U().orderBy(s,"title"),a=U().intersectionWith(n,e,((e,t)=>e.bookId===t)),r=U().orderBy(a,["bookId","path"]);return{book:U().map(o,(e=>({title:e.title,path:e.path}))),files:r}}))}),(function(e,t){return{onDeleteSelectedPress(n,s){e(Sl({bookIds:t.bookIds,deleteFiles:n,addImportListExclusion:s})),t.onModalClose()}}}))(S_);function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P_.apply(null,arguments)}const y_=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(b_,P_({},s,{onModalClose:n})))},M_="noChange";class I_ extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{this.setState({[e]:t}),t!==M_&&("monitored"===e?this.props.onSaveSelected({[e]:"monitored"===t}):this.props.onSaveSelected({[e]:t}))},this.onDeleteSelectedPress=()=>{this.setState({isDeleteBookModalOpen:!0})},this.onDeleteBookModalClose=()=>{this.setState({isDeleteBookModalOpen:!1})},this.state={monitored:M_,rootFolderPath:M_,savingTags:!1,isDeleteBookModalOpen:!1,isTagsModalOpen:!1,isConfirmMoveModalOpen:!1,destinationRootFolder:null}}componentDidUpdate(e){const{isSaving:t,saveError:n}=this.props;!e.isSaving||t||n||this.setState({monitored:M_,rootFolderPath:M_,savingTags:!1})}render(){const{bookIds:e,selectedCount:t,isSaving:n,isDeleting:s}=this.props,{monitored:o,isDeleteBookModalOpen:a}=this.state,r=[{key:M_,value:te("NoChange"),isDisabled:!0},{key:"monitored",value:te("Monitored")},{key:"unmonitored",value:te("Unmonitored")}];return R.createElement(g_,null,R.createElement("div",{className:"BookEditorFooter-inputContainer-EoxKH"},R.createElement(f_,{label:te("MonitorBook"),isSaving:n&&o!==M_}),R.createElement(ZI,{name:"monitored",value:o,values:r,isDisabled:!t,onChange:this.onInputChange})),R.createElement("div",{className:"BookEditorFooter-buttonContainer-BnH8m"},R.createElement("div",{className:"BookEditorFooter-buttonContainerContent-JEnsU"},R.createElement(f_,{label:te("SelectedCountBooksSelectedInterp",[t]),isSaving:!1}),R.createElement("div",{className:"BookEditorFooter-buttons-pY4uu"},R.createElement(AO,{className:"BookEditorFooter-deleteSelectedButton-EYEPR SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",kind:Xs,isSpinning:s,isDisabled:!t||s,onPress:this.onDeleteSelectedPress},"Delete")))),R.createElement(y_,{isOpen:a,bookIds:e,onModalClose:this.onDeleteBookModalClose}))}}const k_=I_,O_={fetchBookFiles:xi};class w_ extends R.Component{componentDidMount(){this.props.fetchBookFiles({id:this.props.id})}render(){const{items:e,id:t,isFetching:n,error:s}=this.props,o=U().find(e,{id:t}),a=Jy(s,"Unable to load manual import items");return n||!o.audioTags?R.createElement(tM,null):s?R.createElement("div",null,a):R.createElement(PL,{audioTags:o.audioTags,filename:o.path})}}const T_=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.bookFiles),(e=>({...e})))}),O_)(w_),N_=function(e){const{isOpen:t,onModalClose:n,id:s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Details"),R.createElement(BM,null,R.createElement(T_,{id:s})),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Close"))))};class D_ extends R.Component{constructor(e,t){super(e,t),this.onDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.onDeleteFilePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onConfirmDelete=()=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.deleteBookFile({id:this.props.id})},this.onConfirmDeleteModalClose=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isDetailsModalOpen:!1,isConfirmDeleteModalOpen:!1}}render(){const{id:e,path:t}=this.props,{isDetailsModalOpen:n,isConfirmDeleteModalOpen:s}=this.state;return R.createElement(ak,{className:"BookFileActionsCell-TrackActionsCell-SOPzD TableRowCell-cell-giPrj"},t&&R.createElement(Ek,{name:kn,onPress:this.onDetailsPress}),t&&R.createElement(Ek,{name:sn,onPress:this.onDeleteFilePress}),R.createElement(N_,{isOpen:n,onModalClose:this.onDetailsModalClose,id:e}),R.createElement(wD,{isOpen:s,kind:Xs,title:te("DeleteBookFile"),message:te("DeleteBookFileMessageText",[t]),confirmLabel:te("Delete"),onConfirm:this.onConfirmDelete,onCancel:this.onConfirmDeleteModalClose}))}}const A_=D_,F_=function(e){const{id:t,path:n,size:s,dateAdded:o,quality:a,qualityCutoffNotMet:r,isSelected:i,onSelectedChange:l,deleteBookFile:c}=e;return R.createElement(pO,null,R.createElement(hk,{id:t,isSelected:i,onSelectedChange:l}),R.createElement(ak,{className:"BookFileEditorRow-path-jaRNm TableRowCell-cell-giPrj"},n),R.createElement(ak,{className:"BookFileEditorRow-size-ef8cz TableRowCell-cell-giPrj"},FN(s)),R.createElement(Px,{className:"BookFileEditorRow-dateAdded-K8YdL TableRowCell-cell-giPrj",date:o}),R.createElement(ak,{className:"BookFileEditorRow-quality-Aotyp TableRowCell-cell-giPrj"},R.createElement(ux,{quality:a,isCutoffNotMet:r})),R.createElement(A_,{id:t,path:n,deleteBookFile:c}))};function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x_.apply(null,arguments)}class R_ extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onConfirmDelete=()=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeletePress(this.getSelectedIds())},this.onConfirmDeleteModalClose=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onQualityChange=({value:e})=>{const t=this.getSelectedIds();t.length&&this.props.onQualityChange(t,parseInt(e))},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},isConfirmDeleteModalOpen:!1}}componentDidUpdate(e){nx(e.items,this.props.items)&&this.setState((t=>sx(t,e.items)))}render(){const{isDeleting:e,isFetching:t,isPopulated:n,error:s,items:o,qualities:a,dispatchDeleteBookFile:r,...i}=this.props,{allSelected:l,allUnselected:c,selectedState:d,isConfirmDeleteModalOpen:u}=this.state,m=U().reduceRight(a,((e,t)=>(e.push({key:t.id,value:t.name}),e)),[{key:"selectQuality",value:te("SelectQuality"),isDisabled:!0}]),h=this.getSelectedIds().length>0;return R.createElement("div",null,t&&!n?R.createElement(tM,null):null,!t&&s?R.createElement(OI,{kind:Xs},s):null,n&&!o.length?R.createElement("div",{className:"BookFileEditorTableContent-blankpad-l6Pab"},"No book files to manage."):null,n&&o.length?R.createElement("div",{className:"BookFileEditorTableContent-filesTable-a9IMZ"},R.createElement(cO,x_({selectAll:!0,allSelected:l,allUnselected:c,onSelectAllChange:this.onSelectAllChange},i),R.createElement(uO,null,o.map((e=>R.createElement(F_,x_({key:e.id,isSelected:d[e.id]},e,{onSelectedChange:this.onSelectedChange,deleteBookFile:r}))))))):null,n&&o.length?R.createElement("div",{className:"BookFileEditorTableContent-actions-n6S1Y"},R.createElement(AO,{kind:Xs,isSpinning:e,isDisabled:!h,onPress:this.onDeletePress},te("Delete")),R.createElement("div",{className:"BookFileEditorTableContent-selectInput-gSGm8"},R.createElement(ZI,{name:"quality",value:"selectQuality",values:m,isDisabled:!h,onChange:this.onQualityChange}))):null,R.createElement(wD,{isOpen:u,kind:Xs,title:te("DeleteSelectedBookFiles"),message:te("DeleteSelectedBookFilesMessageText"),confirmLabel:te("Delete"),onConfirm:this.onConfirmDelete,onCancel:this.onConfirmDeleteModalClose}))}}const B_=R_;function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},L_.apply(null,arguments)}class j_ extends R.Component{constructor(...e){super(...e),this.onQualityChange=(e,t)=>{const n={quality:U().find(this.props.qualities,{id:t}),revision:{version:1,real:0}};this.props.dispatchUpdateBookFiles({bookFileIds:e,quality:n})}}componentDidMount(){this.props.dispatchFetchQualityProfileSchema()}render(){const{dispatchFetchQualityProfileSchema:e,dispatchUpdateBookFiles:t,...n}=this.props;return R.createElement(B_,L_({},n,{onQualityChange:this.onQualityChange}))}}const __=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{bookId:t})=>t),$R("bookFiles"),(0,Ky.Mz)((e=>e.settings.qualityProfiles),(e=>{const t=ZB(e.schema.items);let n=null;return e.schemaError&&(n="Unable to load qualities"),{isFetching:e.isSchemaFetching,isPopulated:e.isSchemaPopulated,error:n,qualities:t}})),ox(),((e,t,n,s)=>{const{items:o,...a}=t;return{...n,items:o,...a,isDeleting:t.isDeleting,isSaving:t.isSaving}}))}),(function(e,t){return{onSortPress(t){e(ji({sortKey:t}))},dispatchFetchQualityProfileSchema(t,n){e(dS())},dispatchUpdateBookFiles(t){e(Li(t))},onDeletePress(t){e(Bi({bookFileIds:t}))},dispatchDeleteBookFile(t){e(Ri(t))}}}))(j_),z_=function(e){const{...t}=e;return R.createElement("div",{className:"BookFileEditorTable-container-T9IdO"},R.createElement(__,t))};function U_(e){return e.touches?e.touches[0].clientX:e.clientX}class H_ extends R.Component{constructor(e){super(e),this.onMouseDown=e=>{this.props.isSmallScreen&&this._isMobile&&!this.state.touching&&(this.startTouchPosition=U_(e),this.initTranslate=this.state.translate,this.setState({stage:null,touching:!0},(()=>{this.addEventListeners()})))},this.addEventListeners=()=>{window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onMouseUp)},this.removeEventListeners=()=>{window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onMouseUp)},this.onMouseMove=e=>{const{touching:t,containerWidth:n}=this.state;if(!t)return;const s=Math.max(Math.min(U_(e)-this.startTouchPosition+this.initTranslate,n),-1*n);this.setState({translate:s})},this.onMouseUp=()=>{this.startTouchPosition=null;const{nextLink:e,prevLink:t,navWidth:n}=this.props,{containerWidth:s,translate:o}=this.state,a={touching:!1},r=.7*n,i=Math.abs(o)>=r,l=Math.abs(o)>=.5*s;l&&(a.translate=Math.sign(o)*s),i||(a.translate=0,a.stage=null),i&&!l&&(a.translate=Math.sign(o)*n,a.stage="showNav"),this.setState(a,(()=>{l&&this.onNavClick(o<0?e:t,Math.abs(o)===s)})),this.removeEventListeners()},this.onNavClick=(e,t)=>{const{containerWidth:n,translate:s}=this.state;this.setState({stage:"navigating",translate:Math.sign(s)*n,url:e},(()=>{t&&this.onTransitionEnd()}))},this.onTransitionEnd=e=>{const{stage:t,url:n}=this.state;"navigating"===t&&this.setState({stage:"navigated",translate:0,url:null},(()=>{this.props.onGoTo(n),this.setState({stage:null})}))},this.onNext=()=>{this.onNavClick(this.props.nextLink)},this.onPrev=()=>{this.onNavClick(this.props.prevLink)},this.onContainerMeasure=({width:e})=>{this.setState({containerWidth:e})},this._isMobile=pM(),this.state={containerWidth:0,touching:null,translate:0,stage:"init",url:null}}componentWillUnmount(){this.removeEventListeners()}render(){const{transitionDuration:e,className:t,children:n,prevComponent:s,currentComponent:o,nextComponent:a,isSmallScreen:r}=this.props,{containerWidth:i,translate:l,touching:c,stage:d}=this.state,u=r&&this._isMobile,m=!c&&"navigated"!==d&&"init"!==d,h={width:"100%","--translate":0};return u&&(h.width="300%",h["--translate"]=l-i+"px",h["--transition"]=m?`transform ${e}ms ease-out`:void 0),R.createElement(hw,{className:t,onMeasure:this.onContainerMeasure},n,R.createElement("div",{className:"SwipeHeader-content-ZwVNg",style:h,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,onTransitionEnd:this.onTransitionEnd},u?s(i):null,o(i),u?a(i):null))}}H_.defaultProps={transitionDuration:250,navWidth:75};const V_=H_;class q_ extends R.Component{render(){return R.createElement(V_,this.props)}}const Q_=(0,Wy.Ng)((function(){return(0,Ky.Mz)($y(),(e=>({isSmallScreen:e.isSmallScreen})))}),(function(e,t){return{onGoTo(t){e((0,QD.VC)(`${window.Researcharr.urlBase}${t}`))}}}))(q_);function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},W_.apply(null,arguments)}function G_(e){const{iconName:t,indicator:n,text:s,...o}=e;return R.createElement(bA,W_({className:"PageMenuButton-menuButton-xRzLO MenuButton-menuButton-Jl5Je"},o),R.createElement(Lo,{name:t,size:18}),R.createElement("div",{className:"PageMenuButton-label-Jm2ou"},s))}G_.defaultProps={indicator:!1};const K_=G_,$_=function(e,t,n){const s=Number(e);if(isNaN(s))return"";const o=n?1024:1e3,a=s*Math.pow(o,t);return Math.round(a)};function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y_.apply(null,arguments)}const J_=function(e){return R.createElement("div",{className:"FilterBuilderRowValueTag-tag-hWm2U"},R.createElement(XO,Y_({kind:Zs},e)),e.isLastTag?null:R.createElement("div",{className:"FilterBuilderRowValueTag-or-SwTRv"},"or"))},X_="value";function Z_(e,t){return t.valueType===Et?FN(e):e}class ez extends R.Component{constructor(...e){super(...e),this.onTagAdd=e=>{const{filterValue:t,selectedFilterBuilderProp:n,onChange:s}=this.props;let o=e.id;null==o&&(o=function(e,t){if(t.valueType===Et){const t=e.match(/^(\d+)([kmgt](i?b)?)$/i);if(t&&t.length>1){const[,t,n]=e.match(/^(\d+)([kmgt](i?b)?)$/i);switch(n.toLowerCase()){case"k":case"kb":case"kib":return $_(t,1,!0);case"m":case"mb":case"mib":return $_(t,2,!0);case"g":case"gb":case"gib":return $_(t,3,!0);case"t":case"tb":case"tib":return $_(t,4,!0);default:return parseInt(t)}}}return t.type===mt?parseInt(e):e}(e.name,n)),s({name:X_,value:[...t,o]})},this.onTagDelete=({index:e})=>{const{filterValue:t,onChange:n}=this.props,s=t.filter(((t,n)=>n!==e));n({name:X_,value:s})}}render(){const{filterValue:e,selectedFilterBuilderProp:t,tagList:n}=this.props,s=!!n.length,o=e.map((e=>{if(s){const t=n.find((t=>t.id===e));return{id:e,name:t&&t.name}}return{id:e,name:Z_(e,t)}}));return R.createElement(nw,{name:X_,tags:o,tagList:n,allowNew:!n.length,kind:Zs,delimiters:["Tab","Enter"],maxSuggestionsLength:100,minQueryLength:0,tagComponent:J_,onTagAdd:this.onTagAdd,onTagDelete:this.onTagDelete})}}ez.defaultProps={filterValue:[]};const tz=ez;function nz(){return nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nz.apply(null,arguments)}const sz=[{id:"continuing",name:"Continuing"},{id:"ended",name:"Ended"}],oz=function(e){return R.createElement(tz,nz({tagList:sz},e))};function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},az.apply(null,arguments)}const rz=[{id:!0,name:"true"},{id:!1,name:"false"}],iz=function(e){return R.createElement(tz,az({tagList:rz},e))};function lz(e){return"string"==typeof e||e instanceof String}const cz=[{key:"seconds",value:"seconds"},{key:"minutes",value:"minutes"},{key:"hours",value:"hours"},{key:"days",value:"days"},{key:"weeks",value:"weeks"},{key:"months",value:"months"}];function dz(e){return e===Je||e===Xe||e===Ze||e===et}class uz extends R.Component{constructor(...e){super(...e),this.onValueChange=({value:e})=>{const{filterValue:t,onChange:n}=this.props;let s=e;lz(e)||(s={time:t.time,value:e}),n({name:X_,value:s})},this.onTimeChange=({value:e})=>{const{filterValue:t,onChange:n}=this.props;n({name:X_,value:{time:e,value:t.value}})}}componentDidMount(){const{filterType:e,filterValue:t,onChange:n}=this.props;dz(e)&&lz(t)&&n({name:X_,value:{time:cz[0].key,value:null}})}componentDidUpdate(e){const{filterType:t,filterValue:n,onChange:s}=this.props;e.filterType!==t&&(dz(t)&&lz(n)?s({name:X_,value:{time:cz[0].key,value:null}}):dz(t)||lz(n)||s({name:X_,value:""}))}render(){const{filterType:e,filterValue:t}=this.props;return dz(e)&&lz(t)||!dz(e)&&!lz(t)?null:dz(e)?R.createElement("div",{className:"DateFilterBuilderRowValue-container-O7izS"},R.createElement(gT,{className:"DateFilterBuilderRowValue-numberInput-UmOYr TextInput-input-svfXu Input-input-KWeec",name:X_,value:t.value,onChange:this.onValueChange}),R.createElement(ZI,{className:"DateFilterBuilderRowValue-selectInput-LWocC SelectInput-select-M6gsU Input-input-KWeec",name:X_,value:t.time,values:cz,onChange:this.onTimeChange})):R.createElement(jO,{name:X_,value:t,type:"date",placeholder:"yyyy-mm-dd",onChange:this.onValueChange})}}const mz=uz,hz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{filterType:t})=>t),((e,{sectionItems:t})=>t),((e,{selectedFilterBuilderProp:t})=>t),((e,t,n)=>{if((n.type===mt||n.type===ht)&&e!==Ke&&e!==ot||!n.optionsSelector)return[];let s=[];return s=n.optionsSelector?n.optionsSelector(t):t.reduce(((e,t)=>{const s=t[n.name];return s&&e.push({id:s,name:s}),e}),[]).sort(cr),U().uniqBy(s,"id")})),(e=>({tagList:e})))}))(tz),pz={dispatchFetchIndexers:cC};class gz extends R.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.props.isPopulated||this.props.dispatchFetchIndexers()}}render(){const{isFetching:e,isPopulated:t,error:n,...s}=this.props;return R.createElement(tz,s)}}const Ez=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.indexers),(e=>{const{isFetching:t,isPopulated:n,error:s,items:o}=e;return{isFetching:t,isPopulated:n,error:s,tagList:o.map((e=>({id:e.id,name:e.name})))}}))}),pz)(gz),fz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.metadataProfiles),(e=>({tagList:e.items.map((e=>{const{id:t,name:n}=e;return{id:t,name:n}}))})))}))(tz);function Cz(){return Cz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cz.apply(null,arguments)}const vz=[{id:"torrent",name:"Torrent"},{id:"usenet",name:"Usenet"}],Sz=function(e){return R.createElement(tz,Cz({tagList:vz},e))},bz={dispatchFetchQualityProfileSchema:dS};class Pz extends R.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.props.isPopulated||this.props.dispatchFetchQualityProfileSchema()}}render(){const{isFetching:e,isPopulated:t,error:n,...s}=this.props;return R.createElement(tz,s)}}const yz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.qualityProfiles),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isFetching:t,isPopulated:n,error:s,tagList:ZB(o.items)}}))}),bz)(Pz),Mz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.qualityProfiles),(e=>({tagList:e.items.map((e=>{const{id:t,name:n}=e;return{id:t,name:n}}))})))}))(tz),Iz=(0,Wy.Ng)((function(){return(0,Ky.Mz)(GN(),(e=>({tagList:e.map((e=>{const{id:t,label:n}=e;return{id:t,name:n}}))})))}))(tz),kz="FilterBuilderRow-inputContainer-mJ6US";function Oz(e,t){return e.find((e=>e.name===t))}function wz(e,t){const n=Oz(e,t);return n?pt[n.type]:[]}function Tz(e){return pt[e.type][0].key}function Nz(e){return e.type===dt?"":[]}class Dz extends R.Component{constructor(e,t){super(e,t),this.onFilterKeyChange=({value:e})=>{const{index:t,filterBuilderProps:n,onFilterChange:s}=this.props,o=Oz(n,e),a=Tz(o),r={key:e,value:Nz(o),type:a};this.selectedFilterBuilderProp=o,s(t,r)},this.onFilterChange=({name:e,value:t})=>{const{index:n,filterKey:s,filterValue:o,filterType:a,onFilterChange:r}=this.props,i={key:s,value:o,type:a};i[e]=t,r(n,i)},this.onAddPress=()=>{const{index:e,onAddPress:t}=this.props;t(e)},this.onRemovePress=()=>{const{index:e,onRemovePress:t}=this.props;t(e)};const{filterKey:n,filterBuilderProps:s}=e;if(n){const e=s.find((e=>e.name===n));this.selectedFilterBuilderProp=e}}componentDidMount(){const{index:e,filterKey:t,filterBuilderProps:n,onFilterChange:s}=this.props;if(t){const e=n.find((e=>e.name===t));return void(this.selectedFilterBuilderProp=e)}const o=n[0],a={key:o.name,value:Nz(o),type:Tz(o)};this.selectedFilterBuilderProp=o,s(e,a)}render(){const{filterKey:e,filterType:t,filterValue:n,filterCount:s,filterBuilderProps:o,sectionItems:a}=this.props,r=this.selectedFilterBuilderProp,i=o.map((e=>{const{name:t,label:n}=e;return{key:t,value:"function"==typeof n?n():n}})).sort(((e,t)=>e.value.localeCompare(t.value))),l=function(e){if(!e)return hz;switch(e.valueType){case gt:return iz;case ft:return mz;case Ct:return Ez;case vt:return fz;case St:return Sz;case bt:return yz;case Pt:return Mz;case yt:return oz;case Mt:return Iz;default:return hz}}(r);return R.createElement("div",{className:"FilterBuilderRow-filterRow-q1nvx"},R.createElement("div",{className:kz},e&&R.createElement(ZI,{name:"key",value:e,values:i,onChange:this.onFilterKeyChange})),R.createElement("div",{className:kz},t&&R.createElement(ZI,{name:"type",value:t,values:wz(o,e),onChange:this.onFilterChange})),R.createElement("div",{className:"FilterBuilderRow-valueInputContainer-wN_TZ"},null!=n&&!!r&&R.createElement(l,{filterType:t,filterValue:n,selectedFilterBuilderProp:r,sectionItems:a,onChange:this.onFilterChange})),R.createElement("div",{className:"FilterBuilderRow-actionsContainer-cYvae"},R.createElement(Ek,{name:ps,isDisabled:1===s,onPress:this.onRemovePress}),R.createElement(Ek,{name:Tt,onPress:this.onAddPress})))}}const Az=Dz,Fz="FilterBuilderModalContent-label-aJpFi";class xz extends R.Component{constructor(e,t){super(e,t),this.onLabelChange=({value:e})=>{this.setState({label:e})},this.onFilterChange=(e,t)=>{const n=[...this.state.filters];n.splice(e,1,t),this.setState({filters:n})},this.onAddFilterPress=()=>{const e=[...this.state.filters];e.push({}),this.setState({filters:e})},this.onRemoveFilterPress=e=>{const t=[...this.state.filters];t.splice(e,1),this.setState({filters:t})},this.onSaveFilterPress=()=>{const{id:e,customFilterType:t,onSaveCustomFilterPress:n}=this.props,{label:s,filters:o}=this.state;s?n({id:e,type:t,label:s,filters:o}):this.setState({labelErrors:[{message:te("LabelIsRequired")}]})};const n=[...e.filters];n.length||n.push({}),this.state={label:e.label,filters:n,labelErrors:[]}}componentDidUpdate(e){const{id:t,customFilters:n,isSaving:s,saveError:o,dispatchSetFilter:a,onModalClose:r}=this.props;!e.isSaving||s||o||(a(t?{selectedFilterKey:t}:{selectedFilterKey:(0,z.maxBy)(n,"id").id}),r())}render(){const{sectionItems:e,filterBuilderProps:t,isSaving:n,saveError:s,onCancelPress:o,onModalClose:a}=this.props,{label:r,filters:i,labelErrors:l}=this.state;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,te("CustomFilter")),R.createElement(BM,null,R.createElement("div",{className:"FilterBuilderModalContent-labelContainer-_6W6j"},R.createElement("div",{className:Fz},te("Label")),R.createElement("div",{className:"FilterBuilderModalContent-labelInputContainer-khdZ8"},R.createElement(ED,{name:"label",value:r,type:Gs,errors:l,onChange:this.onLabelChange}))),R.createElement("div",{className:Fz},te("Filters")),R.createElement("div",{className:"FilterBuilderModalContent-rows-PzMnR"},i.map(((n,s)=>R.createElement(Az,{key:`${n.key}-${s}`,index:s,sectionItems:e,filterBuilderProps:t,filterKey:n.key,filterValue:n.value,filterType:n.type,filterCount:i.length,onAddPress:this.onAddFilterPress,onRemovePress:this.onRemoveFilterPress,onFilterChange:this.onFilterChange}))))),R.createElement(HM,null,R.createElement(TM,{onPress:o},te("Cancel")),R.createElement(CT,{isSpinning:n,error:s,onPress:this.onSaveFilterPress},te("Save"))))}}const Rz=xz,Bz={onSaveCustomFilterPress:Td,dispatchDeleteCustomFilter:Nd},Lz=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{customFilters:t})=>t),((e,{id:t})=>t),(e=>e.customFilters.isSaving),(e=>e.customFilters.saveError),((e,t,n,s)=>{if(t){const o=e.find((e=>e.id===t));return{id:o.id,label:o.label,filters:o.filters,customFilters:e,isSaving:n,saveError:s}}return{label:"",filters:[],customFilters:e,isSaving:n,saveError:s}}))}),Bz)(Rz);class jz extends R.Component{constructor(e,t){super(e,t),this.onEditPress=()=>{const{id:e,onEditPress:t}=this.props;t(e)},this.onRemovePress=()=>{const{id:e,dispatchDeleteCustomFilter:t}=this.props;this.setState({isDeleting:!0},(()=>{t({id:e})}))},this.state={isDeleting:!1}}componentDidUpdate(e){const{isDeleting:t,deleteError:n}=this.props;e.isDeleting&&!t&&this.state.isDeleting&&n&&this.setState({isDeleting:!1})}componentWillUnmount(){const{id:e,selectedFilterKey:t,dispatchSetFilter:n}=this.props;this.state.isDeleting&&e===t&&n({selectedFilterKey:"all"})}render(){const{label:e}=this.props;return R.createElement("div",{className:"CustomFilter-customFilter-eI_Cq"},R.createElement("div",{className:"CustomFilter-label-lHwLr"},e),R.createElement("div",{className:"CustomFilter-actions-Wjx7G"},R.createElement(Ek,{name:cn,onPress:this.onEditPress}),R.createElement(TR,{title:te("RemoveFilter"),name:Kn,isSpinning:this.state.isDeleting,onPress:this.onRemovePress})))}}const _z=jz,zz={dispatchDeleteCustomFilter:Nd},Uz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.customFilters.isDeleting),(e=>e.customFilters.deleteError),((e,t)=>({isDeleting:e,deleteError:t})))}),zz)((function(e){const{selectedFilterKey:t,customFilters:n,isDeleting:s,deleteError:o,dispatchDeleteCustomFilter:a,dispatchSetFilter:r,onAddCustomFilter:i,onEditCustomFilter:l,onModalClose:c}=e;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,"Custom Filters"),R.createElement(BM,null,n.sort(((e,t)=>e.label.localeCompare(t.label))).map((e=>R.createElement(_z,{key:e.id,id:e.id,label:e.label,filters:e.filters,selectedFilterKey:t,isDeleting:s,deleteError:o,dispatchSetFilter:r,dispatchDeleteCustomFilter:a,onEditPress:l}))),R.createElement("div",{className:"CustomFiltersModalContent-addButtonContainer-CcXAj"},R.createElement(TM,{onPress:i},"Add Custom Filter"))),R.createElement(HM,null,R.createElement(TM,{onPress:c},"Close")))}));function Hz(){return Hz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hz.apply(null,arguments)}class Vz extends R.Component{constructor(e,t){super(e,t),this.onAddCustomFilter=()=>{this.setState({filterBuilder:!0})},this.onEditCustomFilter=e=>{this.setState({filterBuilder:!0,id:e})},this.onCancelPress=()=>{this.state.filterBuilder?this.setState({filterBuilder:!1,id:null}):this.onModalClose()},this.onModalClose=()=>{this.setState({filterBuilder:!1,id:null},(()=>{this.props.onModalClose()}))},this.state={filterBuilder:!e.customFilters.length,id:null}}render(){const{isOpen:e,...t}=this.props,{filterBuilder:n,id:s}=this.state;return R.createElement(JM,{isOpen:e,onModalClose:this.onModalClose},n?R.createElement(Lz,Hz({},t,{id:s,onCancelPress:this.onCancelPress,onModalClose:this.onModalClose})):R.createElement(Uz,Hz({},t,{onAddCustomFilter:this.onAddCustomFilter,onEditCustomFilter:this.onEditCustomFilter,onModalClose:this.onModalClose})))}}const qz=Vz,Qz=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.releases.items),(e=>e.releases.filterBuilderProps),((e,t)=>({sectionItems:e,filterBuilderProps:t,customFilterType:"releases"})))}),(function(e,t){return{dispatchSetFilter(n){const s="book"===t.type?Yh:Jh;e(s(n))}}}))(qz),Wz=function(e){const{selectedFilterKey:t,filters:n,customFilters:s,onFilterSelect:o}=e;return R.createElement("div",{className:"InteractiveSearch-filterMenuContainer-fP7Zp"},R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:t,filters:n,customFilters:s,buttonComponent:K_,filterModalConnectorComponent:Qz,onFilterSelect:o}))};class Gz extends R.Component{render(){const{...e}=this.props;return R.createElement(Wz,e)}}const Kz=(0,Wy.Ng)((function(e,{type:t}){return(0,Ky.Mz)($R("releases",`releases.${t}`),(e=>({...e})))}),(function(e,t){return{onFilterSelect(n){const s="book"===t.type?Yh:Jh;e(s({selectedFilterKey:n}))}}}))(Gz);function $z(e,t){return null==e?`Unknown ${t}s`:1===e?`1 ${t}`:`${e} ${t}s`}const Yz=function(e){const{seeders:t,leechers:n}=e,s=function(e){return e>50?so:e>10?to:e>0?ro:Xs}(t);return R.createElement(YO,{kind:s,title:`${$z(t,"seeder")}, ${$z(n,"leecher")}`},null==t?"-":t," / ",null==n?"-":n)};function Jz(e,t,n){return e?ms:t||n?rn:on}function Xz(e,t,n){return e?ao:t||!n?Xs:Zs}function Zz(e,t,n){return e?"":t?"Added to downloaded queue":n||"Add to downloaded queue"}class eU extends R.Component{constructor(e,t){super(e,t),this.onGrabPress=()=>{const{guid:e,indexerId:t,onGrabPress:n}=this.props;n({guid:e,indexerId:t})},this.onConfirmGrabPress=()=>{this.setState({isConfirmGrabModalOpen:!0})},this.onGrabConfirm=()=>{this.setState({isConfirmGrabModalOpen:!1});const{guid:e,indexerId:t,searchPayload:n,onGrabPress:s}=this.props;s({guid:e,indexerId:t,...n})},this.onGrabCancel=()=>{this.setState({isConfirmGrabModalOpen:!1})},this.state={isConfirmGrabModalOpen:!1}}render(){const{protocol:e,age:t,ageHours:n,ageMinutes:s,publishDate:o,title:a,infoUrl:r,indexer:i,size:l,seeders:c,leechers:d,quality:u,customFormatScore:m,customFormats:h,indexerFlags:p=0,rejections:g,downloadAllowed:E,isGrabbing:f,isGrabbed:C,longDateFormat:v,timeFormat:S,grabError:b}=this.props;return R.createElement(pO,null,R.createElement(ak,{className:"InteractiveSearchRow-protocol-b6LO7 InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},R.createElement(kR,{protocol:e})),R.createElement(ak,{className:"InteractiveSearchRow-age-_Al2v InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj",title:fx(o,v,S,{includeSeconds:!0})},$x(t,n,s)),R.createElement(ak,null,R.createElement("div",{className:"InteractiveSearchRow-titleContent-U2HxT"},R.createElement(IM,{to:r},a))),R.createElement(ak,{className:"InteractiveSearchRow-indexer-d6vdv InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},i),R.createElement(ak,{className:"InteractiveSearchRow-size-gI6mO InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},FN(l)),R.createElement(ak,{className:"InteractiveSearchRow-peers-KAl97 InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},"torrent"===e&&R.createElement(Yz,{seeders:c,leechers:d})),R.createElement(ak,{className:"InteractiveSearchRow-quality-Dfyom InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},R.createElement(ux,{quality:u,showRevision:!0})),R.createElement(ak,{className:"InteractiveSearchRow-customFormatScore-_bMLv TableRowCell-cell-giPrj"},R.createElement(fN,{anchor:Kx(m,h.length),tooltip:R.createElement(lx,{formats:h}),position:Mo})),R.createElement(ak,{className:"InteractiveSearchRow-indexerFlags-WmlTF InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},p?R.createElement(vN,{anchor:R.createElement(Lo,{name:Cn,kind:so}),title:te("IndexerFlags"),body:R.createElement(SL,{indexerFlags:p}),position:Mo}):null),R.createElement(ak,{className:"InteractiveSearchRow-rejected-Zg0fy InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},!!g.length&&R.createElement(vN,{anchor:R.createElement(Lo,{name:nn,kind:Xs}),title:te("ReleaseRejected"),body:R.createElement("ul",null,g.map(((e,t)=>R.createElement("li",{key:t},e)))),position:Mo})),R.createElement(ak,{className:"InteractiveSearchRow-download-VeAgn InteractiveSearchRow-cell-MBxv7 TableRowCell-cell-giPrj"},R.createElement(TR,{name:Jz(f,C,b),kind:Xz(C,b,E),title:Zz(f,C,b),isSpinning:f,onPress:E?this.onGrabPress:this.onConfirmGrabPress})),R.createElement(wD,{isOpen:this.state.isConfirmGrabModalOpen,kind:ro,title:te("GrabRelease"),message:te("GrabReleaseMessageText",[a]),confirmLabel:te("Grab"),onConfirm:this.onGrabConfirm,onCancel:this.onGrabCancel}))}}eU.defaultProps={indexerFlags:0,rejections:[],isGrabbing:!1,isGrabbed:!1};const tU=eU;function nU(){return nU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nU.apply(null,arguments)}const sU=[{name:"protocol",label:"Source",isSortable:!0,isVisible:!0},{name:"age",label:"Age",isSortable:!0,isVisible:!0},{name:"title",label:"Title",isSortable:!0,isVisible:!0},{name:"indexer",label:"Indexer",isSortable:!0,isVisible:!0},{name:"size",label:"Size",isSortable:!0,isVisible:!0},{name:"peers",label:"Peers",isSortable:!0,isVisible:!0},{name:"qualityWeight",label:"Quality",isSortable:!0,isVisible:!0},{name:"customFormatScore",label:R.createElement(Lo,{name:ss,title:()=>te("CustomFormatScore")}),isSortable:!0,isVisible:!0},{name:"indexerFlags",label:R.createElement(Lo,{name:Cn,title:()=>te("IndexerFlags")}),isSortable:!0,isVisible:!0},{name:"rejections",label:R.createElement(Lo,{name:nn,title:"Rejections"}),isSortable:!0,fixedSortDirection:vo,isVisible:!0},{name:"releaseWeight",label:R.createElement(Lo,{name:on}),isSortable:!0,fixedSortDirection:vo,isVisible:!0}],oU=function(e){const{searchPayload:t,isFetching:n,isPopulated:s,error:o,totalReleasesCount:a,items:r,sortKey:i,sortDirection:l,longDateFormat:c,timeFormat:d,onSortPress:u,onGrabPress:m}=e;return R.createElement("div",null,n?R.createElement(tM,null):null,!n&&o?R.createElement("div",{className:"InteractiveSearch-blankpad-d3Hhj"},"Unable to load results for this book search. Try again later"):null,n||!s||a?null:R.createElement(OI,{kind:to},te("NoResultsFound")),a&&s&&!r.length?R.createElement(OI,{kind:ro},te("AllResultsAreHiddenByTheAppliedFilter")):null,s&&r.length?R.createElement(cO,{columns:sU,sortKey:i,sortDirection:l,onSortPress:u},R.createElement(uO,null,r.map((e=>R.createElement(tU,nU({key:`${e.indexerId}-${e.guid}`},e,{searchPayload:t,longDateFormat:c,timeFormat:d,onGrabPress:m})))))):null,a!==r.length&&r.length?R.createElement("div",{className:"InteractiveSearch-filteredMessage-pTZGE"},te("SomeResultsAreHiddenByTheAppliedFilter")):null)};class aU extends R.Component{componentDidMount(){const{searchPayload:e,isPopulated:t,dispatchFetchReleases:n}=this.props;t||n(e)}render(){const{dispatchFetchReleases:e,...t}=this.props;return R.createElement(oU,t)}}const rU=(0,Wy.Ng)((function(e,{type:t}){return(0,Ky.Mz)((e=>e.releases.items.length),$R("releases",`releases.${t}`),mx(),((e,t,n)=>({totalReleasesCount:e,longDateFormat:n.longDateFormat,timeFormat:n.timeFormat,...t})))}),(function(e,t){return{dispatchFetchReleases(t){e(qh(t))},onSortPress(t,n){e(Wh({sortKey:t,sortDirection:n}))},onFilterSelect(n){const s="book"===t.type?Yh:Jh;e(s({selectedFilterKey:n}))},onGrabPress(t){e(Kh(t))}}}))(aU),iU=function(e){const{type:t,...n}=e;return R.createElement(rU,{searchPayload:n,type:t})},lU="OrganizePreviewRow-path-H586p";class cU extends R.Component{constructor(...e){super(...e),this.onSelectedChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})}}componentDidMount(){const{id:e,onSelectedChange:t}=this.props;t({id:e,value:!0})}render(){const{id:e,existingPath:t,newPath:n,isSelected:s}=this.props;return R.createElement("div",{className:"OrganizePreviewRow-row-rLTEj"},R.createElement(dk,{containerClassName:"OrganizePreviewRow-selectedContainer-IbbiT",name:e.toString(),value:s,onChange:this.onSelectedChange}),R.createElement("div",null,R.createElement("div",null,R.createElement(Lo,{name:ps,kind:Xs}),R.createElement("span",{className:lU},t)),R.createElement("div",null,R.createElement(Lo,{name:Tt,kind:ao}),R.createElement("span",{className:lU},n))))}}const dU=cU;class uU extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onOrganizePress=()=>{this.props.onOrganizePress(this.getSelectedIds())},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{}}}render(){const{isFetching:e,isPopulated:t,error:n,items:s,trackFormat:o,onModalClose:a}=this.props,{allSelected:r,allUnselected:i,selectedState:l}=this.state,c=function(e,t){return!!e||!t&&null}(r,i);return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Organize & Rename"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&n&&R.createElement("div",null,te("ErrorLoadingPreviews")),!e&&t&&!s.length&&R.createElement("div",null,te("SuccessMyWorkIsDoneNoFilesToRename")),!e&&t&&!!s.length&&R.createElement("div",null,R.createElement(OI,null,R.createElement("div",null,"Naming pattern:",R.createElement("span",{className:"OrganizePreviewModalContent-trackFormat-xHlut"},o))),R.createElement("div",{className:"OrganizePreviewModalContent-previews-QQ9Ez"},s.map((e=>R.createElement(dU,{key:e.bookFileId,id:e.bookFileId,existingPath:e.existingPath,newPath:e.newPath,isSelected:l[e.bookFileId],onSelectedChange:this.onSelectedChange})))))),R.createElement(HM,null,t&&!!s.length&&R.createElement(dk,{className:"OrganizePreviewModalContent-selectAllInput-w6Apl CheckInput-input-VAM1T",containerClassName:"OrganizePreviewModalContent-selectAllInputContainer-utcdu",name:"selectAll",value:c,onChange:this.onSelectAllChange}),R.createElement(TM,{onPress:a},"Cancel"),R.createElement(TM,{kind:so,onPress:this.onOrganizePress},"Organize")))}}const mU=uU;function hU(){return hU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hU.apply(null,arguments)}const pU={fetchOrganizePreview:fm,fetchNamingSettings:Cv,executeCommand:Mc};class gU extends R.Component{constructor(...e){super(...e),this.onOrganizePress=e=>{this.props.executeCommand({name:Zl,authorId:this.props.authorId,files:e}),this.props.onModalClose()}}componentDidMount(){const{authorId:e,bookId:t}=this.props;this.props.fetchOrganizePreview({authorId:e,bookId:t}),this.props.fetchNamingSettings()}render(){return R.createElement(mU,hU({},this.props,{onOrganizePress:this.onOrganizePress}))}}const EU=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.organizePreview),(e=>e.settings.naming),ox(),((e,t,n)=>{const s={...e};return s.isFetching=e.isFetching||t.isFetching,s.isPopulated=e.isPopulated&&t.isPopulated,s.error=e.error||t.error,s.trackFormat=t.item.standardBookFormat,s.path=n.path,s}))}),pU)(gU);function fU(){return fU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fU.apply(null,arguments)}const CU=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},t&&R.createElement(EU,fU({},s,{onModalClose:n})))};function vU(){return vU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vU.apply(null,arguments)}const SU={clearOrganizePreview:Cm};class bU extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearOrganizePreview(),this.props.onModalClose()}}render(){return R.createElement(CU,vU({},this.props,{onModalClose:this.onModalClose}))}}const PU=(0,Wy.Ng)(void 0,SU)(bU);function yU(e,t){return void 0===t||0===t||"0"===t||""===t?R.createElement(Lo,{name:jt,size:12}):"Image Size"===e?FN(t):t}function MU(e,t,n){return R.createElement("div",null," ",yU(e,t)," ",R.createElement(Lo,{name:Rt,size:12})," ",yU(e,n)," ")}class IU extends R.Component{constructor(...e){super(...e),this.onSelectedChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})}}componentDidMount(){const{id:e,onSelectedChange:t}=this.props;t({id:e,value:!0})}render(){const{id:e,path:t,changes:n,isSelected:s}=this.props;return R.createElement("div",{className:"RetagPreviewRow-row-ru6E9"},R.createElement(dk,{containerClassName:"RetagPreviewRow-selectedContainer-vNn7G",name:e.toString(),value:s,onChange:this.onSelectedChange}),R.createElement("div",{className:"RetagPreviewRow-column-bKtx4"},R.createElement("span",{className:"RetagPreviewRow-path-ThaSy"},t),R.createElement(sN,null,n.map((({field:e,oldValue:t,newValue:n})=>R.createElement(cN,{key:e,title:e,data:MU(e,t,n)}))))))}}const kU=IU,OU="RetagPreviewModalContent-searchForNewBookLabelContainer-qvIRs",wU="RetagPreviewModalContent-searchForNewBookLabel-hyHf6",TU="RetagPreviewModalContent-searchForNewBookContainer-p_fHU CheckInput-container-FXKYv",NU="RetagPreviewModalContent-searchForNewBookInput-oZdF8 CheckInput-input-VAM1T";class DU extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onCheckInputChange=({name:e,value:t})=>{this.setState({[e]:t})},this.onRetagPress=()=>{this.props.onRetagPress(this.getSelectedIds(),this.state.updateCovers,this.state.embedMetadata)},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},updateCovers:!1,embedMetadata:!1}}render(){const{isFetching:e,isPopulated:t,error:n,items:s,onModalClose:o}=this.props,{allSelected:a,allUnselected:r,selectedState:i}=this.state,l=function(e,t){return!!e||!t&&null}(a,r);return R.createElement(_M,{onModalClose:o},R.createElement(QM,null,"Write Metadata Tags"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&n&&R.createElement("div",null,te("ErrorLoadingPreviews")),!e&&t&&!s.length&&R.createElement("div",null,te("SuccessMyWorkIsDoneNoFilesToRetag")),!e&&t&&!!s.length&&R.createElement("div",null,R.createElement("div",{className:"RetagPreviewModalContent-previews-wBgPA"},s.map((e=>R.createElement(kU,{key:e.bookFileId,id:e.bookFileId,path:e.path,changes:e.changes,isSelected:i[e.bookFileId],onSelectedChange:this.onSelectedChange})))))),R.createElement(HM,null,t&&!!s.length&&R.createElement(dk,{className:"RetagPreviewModalContent-selectAllInput-yNqiY CheckInput-input-VAM1T",containerClassName:"RetagPreviewModalContent-selectAllInputContainer-VR7AM",name:"selectAll",value:l,onChange:this.onSelectAllChange}),R.createElement("label",{className:OU},R.createElement("span",{className:wU},"Update Covers"),R.createElement(dk,{containerClassName:TU,className:NU,name:"updateCovers",value:this.state.updateCovers,onChange:this.onCheckInputChange})),R.createElement("label",{className:OU},R.createElement("span",{className:wU},"Embed Metadata"),R.createElement(dk,{containerClassName:TU,className:NU,name:"embedMetadata",value:this.state.embedMetadata,onChange:this.onCheckInputChange})),R.createElement(TM,{onPress:o},"Cancel"),R.createElement(TM,{kind:so,onPress:this.onRetagPress},"Retag")))}}const AU=DU;function FU(){return FU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FU.apply(null,arguments)}const xU={fetchRetagPreview:ap,executeCommand:Mc};class RU extends R.Component{constructor(...e){super(...e),this.onRetagPress=(e,t,n)=>{this.props.executeCommand({name:"RetagFiles",authorId:this.props.authorId,updateCovers:t,embedMetadata:n,files:e}),this.props.onModalClose()}}componentDidMount(){const{authorId:e,bookId:t}=this.props;this.props.fetchRetagPreview({authorId:e,bookId:t})}render(){return R.createElement(AU,FU({},this.props,{onRetagPress:this.onRetagPress}))}}const BU=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.retagPreview),ox(),((e,t)=>{const n={...e};return n.isFetching=e.isFetching,n.isPopulated=e.isPopulated,n.error=e.error,n.path=t.path,n}))}),xU)(RU);function LU(){return LU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LU.apply(null,arguments)}const jU=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},t&&R.createElement(BU,LU({},s,{onModalClose:n})))};function _U(){return _U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_U.apply(null,arguments)}const zU={clearRetagPreview:rp};class UU extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearRetagPreview(),this.props.onModalClose()}}render(){return R.createElement(jU,_U({},this.props,{onModalClose:this.onModalClose}))}}const HU=(0,Wy.Ng)(void 0,zU)(UU);var VU=n(5257),qU=n.n(VU);function QU(e){let t={icon:as,title:te("StatusEndedContinuing"),message:te("ContinuingMoreBooksAreExpected")};return"ended"===e&&(t={icon:rs,title:te("StatusEndedEnded"),message:te("ContinuingNoAdditionalBooksAreExpected")}),t}function WU({rating:e,iconSize:t}){return R.createElement("span",{className:"HeartRating-rating-sn8Sx"},R.createElement(Lo,{className:"HeartRating-heart-nZHjG",name:yn,size:t}),e.toFixed(1))}WU.defaultProps={iconSize:14};const GU=WU;class KU extends R.Component{constructor(e){super(e),this.onHandleMouseEnter=()=>{const{animationState:e,overflowWidth:t}=this.state;null===e&&t>0&&this.setState({animationState:"toLeft"})},this.onTransitionEnd=e=>{const{animationState:t}=this.state;"toLeft"===t&&this.setState({animationState:"toRight"}),"toRight"===t&&this.setState({animationState:null})},this.onContainerMeasure=({width:e})=>{this.setState({containerWidth:e})},this.state={containerWidth:0,overflowWidth:0,animationState:null,key:0}}componentDidUpdate(e){if(this.props.text!==e.text)return void this.setState({overflowWidth:0,animationState:null,key:this.state.key+1});const t=this.state.containerWidth,n=this.text;if(t&&n){const e=n.offsetWidth-t+10|0;if(e!==this.state.overflowWidth){const t=e>0&&0===this.state.overflowWidth;this.setState({overflowWidth:e},(()=>{t&&this.onHandleMouseEnter()}))}}}render(){const{text:e}=this.props,{key:t,overflowWidth:n,animationState:s}=this.state,o=-n-10,a={"--duration":-o/50+"s","--distance":`${o}px`};return R.createElement(hw,{key:t,className:"Marquee-container-whj2g",onMeasure:this.onContainerMeasure},R.createElement("div",{className:Fo()("Marquee-inner-q4Xv0","toLeft"===s&&"Marquee-toLeft-qFG_o"),style:a,onTransitionEnd:this.onTransitionEnd,onMouseEnter:this.onHandleMouseEnter,onTouchStart:this.onHandleMouseEnter},R.createElement("span",{ref:e=>{this.text=e},title:e},e)))}}const $U=KU;function YU(){return YU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YU.apply(null,arguments)}function JU(e,t){return t?"Cannot toggle monitored state when author is unmonitored":e?"Monitored, click to unmonitor":"Unmonitored, click to monitor"}class XU extends R.Component{constructor(...e){super(...e),this.onPress=e=>{const t=e.nativeEvent.shiftKey;this.props.onPress(!this.props.monitored,{shiftKey:t})}}render(){const{className:e,monitored:t,isDisabled:n,isSaving:s,size:o,...a}=this.props,r=t?Dn:bs;return R.createElement(TR,YU({className:Fo()(e,n&&"MonitorToggleButton-isDisabled-XFERN"),name:r,size:o,title:JU(t,n),isDisabled:n,isSpinning:s},a,{onPress:this.onPress}))}}XU.defaultProps={className:"MonitorToggleButton-toggleButton-fG17x IconButton-button-t4C5V Link-link-RInnp",isDisabled:!1,isSaving:!1};const ZU=XU;function eH(e){return(0,Ky.Mz)((e=>e.settings.qualityProfiles.items),(t=>t.find((t=>t.id===e))))}const tH=function({qualityProfileId:e}){var t;const n=(0,Wy.d4)(eH(e));return R.createElement("span",null,null!=(t=null==n?void 0:n.name)?t:te("Unknown"))};var nH=n(14333),sH=n.n(nH);const oH=function({alternateTitles:e}){return R.createElement("ul",null,e.map((e=>R.createElement("li",{key:e,className:"AuthorAlternateTitles-alternateTitle-hTbkL"},e))))},aH=function(e){const{links:t}=e;return R.createElement("div",{className:"AuthorDetailsLinks-links-IlmRv"},t.map(((e,t)=>R.createElement("span",{key:t},R.createElement(IM,{className:"AuthorDetailsLinks-link-Guqhm",to:e.url,key:t},R.createElement(YO,{className:"AuthorDetailsLinks-linkLabel-GuoEf Label-label-DYldh",kind:to,size:Eo},e.name)),t>0&&t%5==0&&R.createElement("br",null)))))},rH=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),GN(),((e,t)=>({tags:e.tags.map((e=>t.find((t=>t.id===e)))).filter((e=>!!e)).map((e=>e.label)).sort(((e,t)=>e.localeCompare(t)))})))}))((function({tags:e}){return R.createElement("div",null,e.map((e=>R.createElement(YO,{key:e,kind:to,size:Eo},e))))})),iH={header:"AuthorDetailsHeader-header-aUnI9",backdrop:"AuthorDetailsHeader-backdrop-rfcg7",backdropOverlay:"AuthorDetailsHeader-backdropOverlay-hTkkT",headerContent:"AuthorDetailsHeader-headerContent-a5wOy",poster:"AuthorDetailsHeader-poster-YxkN1",info:"AuthorDetailsHeader-info-LTtjz",titleRow:"AuthorDetailsHeader-titleRow-LT1z0",titleContainer:"AuthorDetailsHeader-titleContainer-pgC_F",title:"AuthorDetailsHeader-title-pa18k",toggleMonitoredContainer:"AuthorDetailsHeader-toggleMonitoredContainer-Bldfm",monitorToggleButton:"AuthorDetailsHeader-monitorToggleButton-W_tmL MonitorToggleButton-toggleButton-fG17x IconButton-button-t4C5V Link-link-RInnp",alternateTitlesIconContainer:"AuthorDetailsHeader-alternateTitlesIconContainer-BO25h",authorNavigationButtons:"AuthorDetailsHeader-authorNavigationButtons-G4aQp",authorUpButton:"AuthorDetailsHeader-authorUpButton-bPnQP IconButton-button-t4C5V Link-link-RInnp",authorNavigationButton:"AuthorDetailsHeader-authorNavigationButton-DIbaa IconButton-button-t4C5V Link-link-RInnp",details:"AuthorDetailsHeader-details-p8EMO",detailsLabel:"AuthorDetailsHeader-detailsLabel-EPRuI Label-label-DYldh",path:"AuthorDetailsHeader-path-IaM5E",sizeOnDisk:"AuthorDetailsHeader-sizeOnDisk-hc0UX",qualityProfileName:"AuthorDetailsHeader-qualityProfileName-Xg1LS",links:"AuthorDetailsHeader-links-Di661",tags:"AuthorDetailsHeader-tags-SFGFC",overview:"AuthorDetailsHeader-overview-FDitC"},lH=parseInt(sH().defaultFontSize),cH=parseFloat(sH().lineHeight);class dH extends R.Component{constructor(e){super(e),this.onOverviewMeasure=({height:e})=>{this.setState({overviewHeight:e})},this.onTitleMeasure=({width:e})=>{this.setState({titleWidth:e})},this.state={overviewHeight:0,titleWidth:0}}render(){const{id:e,width:t,authorName:n,ratings:s,path:o,statistics:a,qualityProfileId:r,monitored:i,status:l,overview:c,links:d,images:u,alternateTitles:m,tags:h,isSaving:p,isSmallScreen:g,onMonitorTogglePress:E}=this.props,{bookFileCount:f,sizeOnDisk:C}=a,{overviewHeight:v,titleWidth:S}=this.state,b=QU(l),P=function(e){var t;return null==(t=e.find((e=>"fanart"===e.coverType)))?void 0:t.url}(u),y=S-(g?85:160);let M=te("BookFilesCountMessage");return 1===f?M="1 book file":f>1&&(M=`${f} book files`),R.createElement("div",{className:iH.header,style:{width:t}},R.createElement("div",{className:iH.backdrop,style:P?{backgroundImage:`url(${P})`}:null},R.createElement("div",{className:iH.backdropOverlay})),R.createElement("div",{className:iH.headerContent},R.createElement(nA,{className:iH.poster,images:u,size:250,lazy:!1}),R.createElement("div",{className:iH.info},R.createElement(hw,{className:iH.titleRow,onMeasure:this.onTitleMeasure},R.createElement("div",{className:iH.titleContainer},R.createElement("div",{className:iH.toggleMonitoredContainer},R.createElement(ZU,{className:iH.monitorToggleButton,monitored:i,isSaving:p,size:g?30:40,onPress:E})),R.createElement("div",{className:iH.title,style:{width:y}},R.createElement($U,{text:n})),!!m.length&&R.createElement("div",{className:iH.alternateTitlesIconContainer},R.createElement(vN,{anchor:R.createElement(Lo,{name:Dt,size:20}),title:te("AlternateTitles"),body:R.createElement(oH,{alternateTitles:m}),position:yo})))),R.createElement("div",{className:iH.details},R.createElement("div",null,R.createElement(GU,{rating:s.value,iconSize:20}))),R.createElement("div",{className:iH.detailsLabels},R.createElement(YO,{className:iH.detailsLabel,size:Eo},R.createElement(Lo,{name:vn,size:17}),R.createElement("span",{className:iH.path},o)),R.createElement(YO,{className:iH.detailsLabel,title:M,size:Eo},R.createElement(Lo,{name:ln,size:17}),R.createElement("span",{className:iH.sizeOnDisk},FN(C||0))),R.createElement(YO,{className:iH.detailsLabel,title:te("QualityProfile"),size:Eo},R.createElement(Lo,{name:Vn,size:17}),R.createElement("span",{className:iH.qualityProfileName},R.createElement(tH,{qualityProfileId:r}))),R.createElement(YO,{className:iH.detailsLabel,size:Eo},R.createElement(Lo,{name:i?Dn:bs,size:17}),R.createElement("span",{className:iH.qualityProfileName},i?"Monitored":"Unmonitored")),R.createElement(YO,{className:iH.detailsLabel,title:b.message,size:Eo},R.createElement(Lo,{name:b.icon,size:17}),R.createElement("span",{className:iH.qualityProfileName},b.title)),R.createElement(fN,{anchor:R.createElement(YO,{className:iH.detailsLabel,size:Eo},R.createElement(Lo,{name:pn,size:17}),R.createElement("span",{className:iH.links},"Links")),tooltip:R.createElement(aH,{links:d}),kind:no,position:yo}),!!h.length&&R.createElement(fN,{anchor:R.createElement(YO,{className:iH.detailsLabel,size:Eo},R.createElement(Lo,{name:fs,size:17}),R.createElement("span",{className:iH.tags},"Tags")),tooltip:R.createElement(rH,{authorId:e}),kind:no,position:yo})),R.createElement(hw,{onMeasure:this.onOverviewMeasure,className:iH.overview},R.createElement(qU(),{line:Math.floor(v/(lH*cH)),text:bL(c)})))))}}const uH=dH;function mH(){return mH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mH.apply(null,arguments)}const hH={toggleAuthorMonitored:ja};class pH extends R.Component{constructor(...e){super(...e),this.onMonitorTogglePress=e=>{this.props.toggleAuthorMonitored({authorId:this.props.authorId,monitored:e})}}render(){return R.createElement(uH,mH({},this.props,{onMonitorTogglePress:this.onMonitorTogglePress}))}}const gH=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors),ox(),$y(),((e,t,n)=>{const s=U().reduce(t.alternateTitles,((e,t)=>(-1!==t.seasonNumber&&void 0!==t.seasonNumber||-1!==t.sceneSeasonNumber&&void 0!==t.sceneSeasonNumber||e.push(t.title),e)),[]);return{...t,isSaving:e.isSaving,alternateTitles:s,isSmallScreen:n.isSmallScreen}}))}),hH)(pH),EH=function(e,t,n="id"){if(e===t)return!1;const s=e.length;if(s!==t.length)return!0;for(let o=0;o<s;o++)if(e[o][n]!==t[o][n])return!0;return!1},fH=function(e){const{bookId:t,bookTitle:n,authorName:s,onModalClose:o}=e;return R.createElement(_M,{onModalClose:o},R.createElement(QM,null,null===t?te("InteractiveSearchModalHeader"):te("InteractiveSearchModalHeaderBookAuthor",{bookTitle:n,authorName:s})),R.createElement(BM,{scrollDirection:co},R.createElement(rU,{type:"book",searchPayload:{bookId:t}})),R.createElement(HM,null,R.createElement(TM,{onPress:o},te("Close"))))},CH=(0,Wy.Ng)(null,(function(e,t){return{onModalClose(){e(Qh()),e(Gh()),t.onModalClose()}}}))((function(e){const{isOpen:t,bookId:n,bookTitle:s,authorName:o,onModalClose:a}=e;return R.createElement(JM,{isOpen:t,size:Co,closeOnBackgroundClick:!1,onModalClose:a},R.createElement(fH,{bookId:n,bookTitle:s,authorName:o,onModalClose:a}))}));function vH(){return vH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vH.apply(null,arguments)}class SH extends R.Component{constructor(e,t){super(e,t),this.onManualSearchPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.state={isDetailsModalOpen:!1}}render(){const{bookId:e,bookTitle:t,authorName:n,isSearching:s,onSearchPress:o,...a}=this.props;return R.createElement(ak,{className:"BookSearchCell-BookSearchCell-nVact TableRowCell-cell-giPrj"},R.createElement(TR,{name:os,isSpinning:s,onPress:o}),R.createElement(Ek,{name:On,onPress:this.onManualSearchPress}),R.createElement(CH,vH({isOpen:this.state.isDetailsModalOpen,bookId:e,bookTitle:t,authorName:n,onModalClose:this.onDetailsModalClose},a)))}}const bH=SH,PH=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{bookId:t})=>t),ox(),IF(),((e,t,n)=>{const s=n.some((t=>!(t.name!==Gl)&&cc(t)&&t.body.bookIds.indexOf(e)>-1));return{authorMonitored:t.monitored,isSearching:s}}))}),(function(e,t){return{onSearchPress(n,s){e(Mc({name:Gl,bookIds:[t.bookId]}))}}}))(bH);function yH({rating:e,votes:t,iconSize:n}){const s={width:20*e+"%"},o=`${e.toFixed(1)} (${t} Votes)`;return R.createElement("span",{className:"StarRating-starRating-ZoVGK",title:o},R.createElement("div",{className:"StarRating-backStar-uHVmL"},R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement("div",{className:"StarRating-frontStar-BPXC3",style:s},R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}),R.createElement(Lo,{name:hs,size:n}))))}yH.defaultProps={iconSize:14};const MH=yH,IH="BookStatus-center-P2CuC",kH=function(e){const{isAvailable:t,monitored:n,bookFile:s}=e;if(s){const e=s.quality;return R.createElement("div",{className:IH},R.createElement(ux,{title:e.quality.name,size:s.size,quality:e,isMonitored:n,isCutoffNotMet:s.qualityCutoffNotMet}))}return n?t?R.createElement("div",{className:IH},R.createElement(YO,{title:te("BookAvailableButMissing"),kind:Xs},te("Missing"))):R.createElement("div",{className:IH},R.createElement(YO,{title:te("NotAvailable"),kind:to},te("NotAvailable"))):R.createElement("div",{className:IH},R.createElement(YO,{title:te("NotMonitored"),kind:ro},te("NotMonitored")))},OH={title:"BookRow-title-rquEw TableRowCell-cell-giPrj",monitored:"BookRow-monitored-ENXEO TableRowCell-cell-giPrj",position:"BookRow-position-lmRXI TableRowCell-cell-giPrj",rating:"BookRow-rating-WHX7l TableRowCell-cell-giPrj",status:"BookRow-status-R08D7 TableRowCell-cell-giPrj",releaseDate:"BookRow-releaseDate-IHXjn TableRowCell-cell-giPrj",pageCount:"BookRow-pageCount-hwxYX TableRowCell-cell-giPrj",indexerFlags:"BookRow-indexerFlags-VpaOA TableRowCell-cell-giPrj"};class wH extends R.Component{constructor(e,t){super(e,t),this.onManualSearchPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.onEditBookPress=()=>{this.setState({isEditBookModalOpen:!0})},this.onEditBookModalClose=()=>{this.setState({isEditBookModalOpen:!1})},this.onMonitorBookPress=(e,t)=>{this.props.onMonitorBookPress(this.props.id,e,t)},this.state={isDetailsModalOpen:!1,isEditBookModalOpen:!1}}render(){const{id:e,authorId:t,monitored:n,releaseDate:s,title:o,seriesTitle:a,authorName:r,position:i,pageCount:l,ratings:c,isSaving:d,authorMonitored:u,titleSlug:m,bookFiles:h,indexerFlags:p,journal:g,doi:E,citations:f,isEditorActive:C,isSelected:v,onSelectedChange:S,columns:b}=this.props,P=h[0],y=Date.parse(s)<new Date;return R.createElement(pO,null,b.map((h=>{const{name:b,isVisible:M}=h;if(!M)return null;if(C&&"select"===b)return R.createElement(hk,{key:b,id:e,isSelected:v,isDisabled:!1,onSelectedChange:S});if("monitored"===b)return R.createElement(ak,{key:b,className:OH.monitored},R.createElement(ZU,{monitored:n,isDisabled:!u,isSaving:d,onPress:this.onMonitorBookPress}));if("title"===b)return R.createElement(ak,{key:b,className:OH.title},R.createElement(Gx,{titleSlug:m,title:o}));if("series"===b)return R.createElement(ak,{key:b,className:OH.title},a||"");if("position"===b)return R.createElement(ak,{key:b,className:OH.position},i||"");if("rating"===b)return R.createElement(ak,{key:b,className:OH.rating},R.createElement(MH,{rating:c.value,votes:c.votes}));if("releaseDate"===b)return R.createElement(Px,{className:OH.releaseDate,key:b,date:s});if("pageCount"===b)return R.createElement(ak,{key:b,className:OH.pageCount},l||"");if("journal"===b)return R.createElement(ak,{key:b,className:OH.series},g||"");if("doi"===b){const e=null==E?void 0:E.replace(/^https?:\/\//i,"");return R.createElement(ak,{key:b,className:OH.title},E?R.createElement("a",{href:E,target:"_blank",rel:"noreferrer"},e):"")}return"citations"===b?R.createElement(ak,{key:b,className:OH.position},null!=f?f:""):"indexerFlags"===b?R.createElement(ak,{key:b,className:OH.indexerFlags},p?R.createElement(vN,{anchor:R.createElement(Lo,{name:Cn,kind:so}),title:te("IndexerFlags"),body:R.createElement(SL,{indexerFlags:p}),position:Mo}):null):"status"===b?R.createElement(ak,{key:b,className:OH.status},R.createElement(kH,{isAvailable:y,monitored:n,bookFile:P})):"actions"===b?R.createElement(PH,{key:b,bookId:e,authorId:t,bookTitle:o,authorName:r}):null})))}}wH.defaultProps={indexerFlags:0};const TH=wH,NH=(0,Ky.Mz)((e=>e.bookFiles),(e=>{const{items:t}=e;return t.reduce(((e,t)=>{const n=t.bookId;return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(t),e}),{})})),DH=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),NH,((e,{id:t})=>t),((e={},t,n)=>{var s;const o=null!=(s=t[n])?s:[],a=o[0];return{authorMonitored:e.monitored,authorName:e.authorName,bookFiles:o,indexerFlags:a?a.indexerFlags:0}}))}))(TH);function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AH.apply(null,arguments)}class FH extends R.Component{constructor(e,t){super(e,t),this.onMonitorBookPress=(e,t,{shiftKey:n})=>{const s=this.state.lastToggledBook,o=[e];if(n&&s){const{lower:t,upper:n}=CO(this.props.items,e,s),a=this.props.items;for(let e=t;e<n;e++)o.push(a[e].id)}this.setState({lastToggledBook:e}),this.props.onMonitorBookPress(U().uniq(o),t)},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{const{onSelectedChange:s,items:o}=this.props;return s(o,e,t,n)},this.state={lastToggledBook:null}}componentDidMount(){this.props.setSelectedState(this.props.items)}componentDidUpdate(e){const{items:t,sortKey:n,sortDirection:s,setSelectedState:o}=this.props;(n!==e.sortKey||s!==e.sortDirection||EH(e.items,t))&&o(t)}render(){const{items:e,isEditorActive:t,columns:n,sortKey:s,sortDirection:o,onSortPress:a,onTableOptionChange:r,selectedState:i}=this.props;let l=n;return t||(l=n.filter((e=>"select"!==e.name))),R.createElement("div",{className:"AuthorDetailsSeason-bookType-TClrt"},R.createElement("div",{className:"AuthorDetailsSeason-books-n16Hi"},R.createElement(cO,{columns:l,sortKey:s,sortDirection:o,onSortPress:a,onTableOptionChange:r},R.createElement(uO,null,e.map((e=>R.createElement(DH,AH({key:e.id,columns:n},e,{onMonitorBookPress:this.onMonitorBookPress,isEditorActive:t,isSelected:i[e.id],onSelectedChange:this.onSelectedChange}))))))))}}const xH=FH;function RH(){return RH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RH.apply(null,arguments)}const BH={setAuthorDetailsId:Ya,setAuthorDetailsSort:$a,toggleBooksMonitored:ga,setBooksTableOption:ma,executeCommand:Mc};class LH extends R.Component{constructor(...e){super(...e),this.onTableOptionChange=e=>{this.props.setBooksTableOption(e)},this.onSortPress=e=>{this.props.setAuthorDetailsSort({sortKey:e})},this.onMonitorBookPress=(e,t)=>{this.props.toggleBooksMonitored({bookIds:e,monitored:t})}}componentDidMount(){this.props.setAuthorDetailsId({authorId:this.props.authorId})}render(){return R.createElement(xH,RH({},this.props,{onSortPress:this.onSortPress,onTableOptionChange:this.onTableOptionChange,onMonitorBookPress:this.onMonitorBookPress}))}}const jH=(0,Wy.Ng)((function(){return(0,Ky.Mz)($R("books","authorDetails"),ox(),$y(),mx(),((e,t,n,s)=>{const o=e.items;let a="asc";return"descending"===e.sortDirection&&(a="desc"),{items:U().orderBy(o,e.sortKey,a),columns:e.columns,sortKey:e.sortKey,sortDirection:e.sortDirection,authorMonitored:t.monitored,isSmallScreen:n.isSmallScreen,uiSettings:s}}))}),BH)(LH);function _H(){return _H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_H.apply(null,arguments)}class zH extends R.Component{constructor(e,t){super(e,t),this.onExpandPress=()=>{const{id:e,isExpanded:t}=this.props;this.props.onExpandPress(e,!t)},this.onMonitorBookPress=(e,t,{shiftKey:n})=>{const s=this.state.lastToggledBook,o=[e];if(n&&s){const{lower:t,upper:n}=CO(this.props.items,e,s),a=this.props.items;for(let e=t;e<n;e++)o.push(a[e].id)}this.setState({lastToggledBook:e}),this.props.onMonitorBookPress(U().uniq(o),t)},this.onMonitorSeriesPress=(e,{shiftKey:t})=>{const n=this.props.items.map((e=>e.id));this.props.onMonitorBookPress(U().uniq(n),e)},this.state={isOrganizeModalOpen:!1,isManageBooksOpen:!1,lastToggledBook:null}}componentDidMount(){this._expandByDefault()}componentDidUpdate(e){const{authorId:t}=this.props;e.authorId===t||this._expandByDefault()}_expandByDefault(){const{id:e,onExpandPress:t}=this.props;t(e,!0)}isSeriesMonitored(e){return e.items.every((e=>e.monitored))}isSeriesSaving(e){return e.items.some((e=>e.isSaving))}render(){const{label:e,items:t,positionMap:n,columns:s,isExpanded:o,sortKey:a,sortDirection:r,onSortPress:i,isSmallScreen:l,onTableOptionChange:c,authorMonitored:d}=this.props;return R.createElement("div",{className:"AuthorDetailsSeries-bookType-chfkK"},R.createElement("div",{className:"AuthorDetailsSeries-seriesTitle-N4i9w"},R.createElement(ZU,{size:24,monitored:this.isSeriesMonitored(this.props),isDisabled:!d,isSaving:this.isSeriesSaving(this.props),onPress:this.onMonitorSeriesPress}),R.createElement(IM,{className:"AuthorDetailsSeries-expandButton-sbC4X Link-link-RInnp",onPress:this.onExpandPress},R.createElement("div",{className:"AuthorDetailsSeries-header-yLP8n"},R.createElement("div",{className:"AuthorDetailsSeries-left-HWDgn"},R.createElement("div",null,R.createElement("span",{className:"AuthorDetailsSeries-bookTypeLabel-K3i0j"},e),R.createElement("span",{className:"AuthorDetailsSeries-bookCount-RI0Gl"},"(",t.length," Books)"))),R.createElement(Lo,{className:"AuthorDetailsSeries-expandButtonIcon-Sa7ZS AuthorDetailsSeries-actionButton-DeDfn IconButton-button-t4C5V Link-link-RInnp",name:o?en:un,title:te(o?"IsExpandedHideBooks":"IsExpandedShowBooks"),size:24}),!l&&R.createElement("span",null,"")))),R.createElement("div",null,o&&R.createElement("div",{className:"AuthorDetailsSeries-books-bjW4c"},R.createElement(cO,{columns:s,sortKey:a,sortDirection:r,onSortPress:i,onTableOptionChange:c},R.createElement(uO,null,t.map((e=>R.createElement(DH,_H({key:e.id,columns:s},e,{position:n[e.id],onMonitorBookPress:this.onMonitorBookPress})))))),R.createElement("div",{className:"AuthorDetailsSeries-collapseButtonContainer-e1imM"},R.createElement(Ek,{iconClassName:"AuthorDetailsSeries-collapseButtonIcon-xkhg6",name:en,size:20,title:te("HideBooks"),onPress:this.onExpandPress})))))}}const UH=zH;function HH(){return HH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HH.apply(null,arguments)}const VH={toggleBooksMonitored:ga,setSeriesTableOption:_p,dispatchSetSeriesSort:jp,executeCommand:Mc};class qH extends R.Component{constructor(...e){super(...e),this.onTableOptionChange=e=>{this.props.setSeriesTableOption(e)},this.onSortPress=e=>{this.props.dispatchSetSeriesSort({sortKey:e})},this.onMonitorBookPress=(e,t)=>{this.props.toggleBooksMonitored({bookIds:e,monitored:t})}}render(){return R.createElement(UH,HH({},this.props,{onSortPress:this.onSortPress,onTableOptionChange:this.onTableOptionChange,onMonitorBookPress:this.onMonitorBookPress}))}}const QH=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{seriesId:t})=>t),(e=>e.books),ox(),(e=>e.series),IF(),$y(),mx(),((e,t,n,s,o,a,r)=>{const i=U().find(s.items,{id:e}),l=i.links.map((e=>e.bookId)),c=i.links.reduce(((e,t)=>(e[t.bookId]=t.position,e)),{}),d=U().filter(t.items,(e=>l.includes(e.id)));let u="asc";"descending"===s.sortDirection&&(u="desc");let m=[];return m="position"===s.sortKey?d.sort(((e,t)=>{const n=c[e.id]||"",s=c[t.id]||"";return n.localeCompare(s,void 0,{numeric:!0,sensivity:"base"})})):U().orderBy(d,s.sortKey,u),{id:i.id,label:i.title,items:m,positionMap:c,columns:s.columns,sortKey:s.sortKey,sortDirection:s.sortDirection,authorMonitored:n.monitored,isSmallScreen:a.isSmallScreen,uiSettings:r}}))}),VH)(qH),WH={innerContentBody:"AuthorDetails-innerContentBody-KcmeH",errorMessage:"AuthorDetails-errorMessage-K6HLb",metadataMessage:"AuthorDetails-metadataMessage-y727n",contentContainer:"AuthorDetails-contentContainer-N_4mB",tabList:"AuthorDetails-tabList-uNUco",tab:"AuthorDetails-tab-nqPCb",selectedTab:"AuthorDetails-selectedTab-CASCE",tabContent:"AuthorDetails-tabContent-wMVLt",filterIcon:"AuthorDetails-filterIcon-l2Nfh",authorNavigationButtons:"AuthorDetails-authorNavigationButtons-VK2qL",authorUpButton:"AuthorDetails-authorUpButton-VM4z5 IconButton-button-t4C5V Link-link-RInnp",authorNavigationButton:"AuthorDetails-authorNavigationButton-nKqN3 IconButton-button-t4C5V Link-link-RInnp"};function GH(e){return{allExpanded:e.allSelected,allCollapsed:e.allUnselected,expandedState:e.selectedState}}class KH extends R.Component{constructor(e,t){super(e,t),this.setSelectedState=e=>{const{selectedState:t}=this.state,n={};e.forEach((e=>{const s=t[e.id];n[e.id]=s||!1}));const s=gO(n).length,o=Object.keys(n).length;let a=!1,r=!1;0===s?r=!0:s===o&&(a=!0),this.setState({selectedState:n,allSelected:a,allUnselected:r})},this.getSelectedIds=()=>gO(this.state.selectedState),this.onOrganizePress=()=>{this.setState({isOrganizeModalOpen:!0})},this.onOrganizeModalClose=()=>{this.setState({isOrganizeModalOpen:!1})},this.onRetagPress=()=>{this.setState({isRetagModalOpen:!0})},this.onRetagModalClose=()=>{this.setState({isRetagModalOpen:!1})},this.onInteractiveImportPress=()=>{this.setState({isInteractiveImportModalOpen:!0})},this.onInteractiveImportModalClose=()=>{this.setState({isInteractiveImportModalOpen:!1})},this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onMonitorOptionsPress=()=>{this.setState({isMonitorOptionsModalOpen:!0})},this.onMonitorOptionsClose=()=>{this.setState({isMonitorOptionsModalOpen:!1})},this.onBookEditorTogglePress=()=>{this.setState({isEditorActive:!this.state.isEditorActive})},this.onExpandAllPress=()=>{const{allExpanded:e,expandedState:t}=this.state;this.setState(GH(EO(t,!e)))},this.onExpandPress=(e,t)=>{this.setState((n=>{const s={allSelected:n.allExpanded,allUnselected:n.allCollapsed,selectedState:n.expandedState};return GH(vO(s,[],e,t,!1))}))},this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectAllPress=()=>{this.onSelectAllChange({value:!this.state.allSelected})},this.onSelectedChange=(e,t,n,s=!1)=>{this.setState((o=>vO(o,e,t,n,s)))},this.onSaveSelected=e=>{this.props.onSaveSelected({bookIds:this.getSelectedIds(),...e})},this.onTabSelect=(e,t)=>{this.setState({selectedTabIndex:e})},this.state={isOrganizeModalOpen:!1,isRetagModalOpen:!1,isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1,isInteractiveImportModalOpen:!1,isMonitorOptionsModalOpen:!1,isEditorActive:!1,allExpanded:!1,allCollapsed:!1,expandedState:{},allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},selectedTabIndex:0}}render(){const{id:e,authorName:t,path:n,monitored:s,isRefreshing:o,isSearching:a,isFetching:r,isPopulated:i,booksError:l,bookFilesError:c,hasBooks:d,hasMonitoredBooks:u,hasSeries:m,series:h,hasBookFiles:p,previousAuthor:g,nextAuthor:E,onRefreshPress:f,onSearchPress:C,isSaving:v,saveError:S,isDeleting:b,deleteError:P,statistics:y={}}=this.props,{bookFileCount:M=0,totalBookCount:I=0}=y,{isOrganizeModalOpen:k,isRetagModalOpen:O,isEditAuthorModalOpen:w,isDeleteAuthorModalOpen:T,isInteractiveImportModalOpen:N,isMonitorOptionsModalOpen:D,isEditorActive:A,allSelected:F,selectedState:x,allExpanded:B,allCollapsed:L,expandedState:j,selectedTabIndex:_}=this.state;let z=mn;B?z=en:L&&(z=un);const U=this.getSelectedIds();return R.createElement(FF,{title:t},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("RefreshAndScan"),iconName:Gn,spinningName:Gn,title:te("RefreshInformationAndScanDisk"),isSpinning:o,onPress:f}),R.createElement(jF,{label:te("SearchMonitored"),iconName:os,isDisabled:!s||!u||!d,isSpinning:a,title:u?void 0:te("HasMonitoredBooksNoMonitoredBooksForThisAuthor"),onPress:C}),R.createElement(SR,null),R.createElement(jF,{label:te("PreviewRename"),iconName:Fn,isDisabled:!p,onPress:this.onOrganizePress}),R.createElement(jF,{label:te("PreviewRetag"),iconName:Zn,isDisabled:!p,onPress:this.onRetagPress}),R.createElement(jF,{label:te("ManualImport"),iconName:On,onPress:this.onInteractiveImportPress}),R.createElement(SR,null),R.createElement(jF,{label:te("BookMonitoring"),iconName:Dn,onPress:this.onMonitorOptionsPress}),R.createElement(jF,{label:te("Edit"),iconName:cn,onPress:this.onEditAuthorPress}),R.createElement(jF,{label:te("Delete"),iconName:sn,onPress:this.onDeleteAuthorPress}),R.createElement(SR,null),A?R.createElement(jF,{label:te("BookList"),iconName:as,onPress:this.onBookEditorTogglePress}):R.createElement(jF,{label:te("BookEditor"),iconName:cn,onPress:this.onBookEditorTogglePress}),A?R.createElement(jF,{label:te(F?"UnselectAll":"SelectAll"),iconName:Gt,onPress:this.onSelectAllPress}):null),R.createElement(YF,{alignContent:Qe},R.createElement(jF,{label:te(B?"AllExpandedCollapseAll":"AllExpandedExpandAll"),iconName:z,onPress:this.onExpandAllPress}))),R.createElement(TF,{innerClassName:WH.innerContentBody},R.createElement(Q_,{className:WH.header,nextLink:`/author/${E.titleSlug}`,nextComponent:e=>R.createElement(gH,{authorId:E.id,width:e}),prevLink:`/author/${g.titleSlug}`,prevComponent:e=>R.createElement(gH,{authorId:g.id,width:e}),currentComponent:t=>R.createElement(gH,{authorId:e,width:t})},R.createElement("div",{className:WH.authorNavigationButtons},R.createElement(Ek,{className:WH.authorNavigationButton,name:Ft,size:30,title:te("GoToInterp",[g.authorName]),to:`/author/${g.titleSlug}`}),R.createElement(Ek,{className:WH.authorUpButton,name:Bt,size:30,title:te("GoToAuthorListing"),to:"/"}),R.createElement(Ek,{className:WH.authorNavigationButton,name:xt,size:30,title:te("GoToInterp",[E.authorName]),to:`/author/${E.titleSlug}`}))),R.createElement("div",{className:WH.contentContainer},i||l||c?null:R.createElement(tM,null),!r&&l?R.createElement(OI,{kind:Xs},te("LoadingBooksFailed")):null,!r&&c?R.createElement(OI,{kind:Xs},te("LoadingBookFilesFailed")):null,i&&R.createElement(vj.tU,{selectedIndex:this.state.tabIndex,onSelect:this.onTabSelect},R.createElement(vj.wb,{className:WH.tabList},R.createElement(vj.oz,{className:WH.tab,selectedClassName:WH.selectedTab},te("BooksTotal",[I])),R.createElement(vj.oz,{className:WH.tab,selectedClassName:WH.selectedTab},te("SeriesTotal",[h.length])),R.createElement(vj.oz,{className:WH.tab,selectedClassName:WH.selectedTab},te("History")),R.createElement(vj.oz,{className:WH.tab,selectedClassName:WH.selectedTab},te("Search")),R.createElement(vj.oz,{className:WH.tab,selectedClassName:WH.selectedTab},te("FilesTotal",[M])),3===_&&R.createElement("div",{className:WH.filterIcon},R.createElement(Kz,{type:"author"}))),R.createElement(vj.Kp,null,R.createElement(jH,{authorId:e,isExpanded:!0,selectedState:x,onExpandPress:this.onExpandPress,setSelectedState:this.setSelectedState,onSelectedChange:this.onSelectedChange,isEditorActive:A})),R.createElement(vj.Kp,null,i&&m&&R.createElement("div",null,h.map((t=>R.createElement(QH,{key:t.id,seriesId:t.id,authorId:e,isExpanded:j[t.id],onExpandPress:this.onExpandPress}))))),R.createElement(vj.Kp,null,R.createElement(o_,{authorId:e})),R.createElement(vj.Kp,null,R.createElement(iU,{type:"author",authorId:e})),R.createElement(vj.Kp,null,R.createElement(z_,{authorId:e})))),R.createElement("div",{className:WH.metadataMessage},te("TooManyBooks"),R.createElement(IM,{to:"/settings/profiles"}," ",te("MetadataProfile")," "),"or manually",R.createElement(IM,{to:`/add/search?term=${encodeURIComponent(t)}`}," ",te("Search")," "),"for new items!"),R.createElement(PU,{isOpen:k,authorId:e,onModalClose:this.onOrganizeModalClose}),R.createElement(HU,{isOpen:O,authorId:e,onModalClose:this.onRetagModalClose}),R.createElement(Hj,{isOpen:w,authorId:e,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:T,authorId:e,onModalClose:this.onDeleteAuthorModalClose}),R.createElement($L,{isOpen:N,authorId:e,folder:n,allowAuthorChange:!1,showFilterExistingFiles:!0,showImportMode:!1,onModalClose:this.onInteractiveImportModalClose}),R.createElement(h_,{isOpen:D,authorId:e,onModalClose:this.onMonitorOptionsClose})),A&&R.createElement(k_,{bookIds:U,selectedCount:U.length,isSaving:v,saveError:S,isDeleting:b,deleteError:P,onSaveSelected:this.onSaveSelected}))}}KH.defaultProps={statistics:{},tags:[]};const $H=KH;function YH(){return YH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YH.apply(null,arguments)}const JH=(0,Ky.Mz)((e=>e.books),(e=>e.bookIndex),((e,t)=>{const{items:n,isFetching:s,isPopulated:o,error:a}=e,{isSaving:r,saveError:i,isDeleting:l,deleteError:c}=t;return{isBooksFetching:s,isBooksPopulated:o,booksError:a,hasBooks:!!n.length,hasMonitoredBooks:n.some((e=>e.monitored)),isSaving:r,saveError:i,isDeleting:l,deleteError:c}})),XH=(0,Ky.Mz)(nT("series",((e,t)=>e.title.localeCompare(t.title))),(e=>e.series),(e=>{const{items:t,isFetching:n,isPopulated:s,error:o}=e;return{isSeriesFetching:n,isSeriesPopulated:s,seriesError:o,hasSeries:!!t.length,series:e.items}})),ZH=(0,Ky.Mz)((e=>e.bookFiles),(e=>{const{items:t,isFetching:n,isPopulated:s,error:o}=e;return{isBookFilesFetching:n,isBookFilesPopulated:s,bookFilesError:o,hasBookFiles:!!t.length}})),eV={fetchSeries:Lp,clearSeries:zp,saveBookEditor:vl,fetchBookFiles:xi,clearBookFiles:zi,toggleAuthorMonitored:ja,fetchQueueDetails:uh,clearQueueDetails:mh,clearReleases:Gh,cancelFetchReleases:Qh,executeCommand:Mc};class tV extends R.Component{constructor(...e){super(...e),this.populate=()=>{const e=this.props.id;this.props.fetchSeries({authorId:e}),this.props.fetchBookFiles({authorId:e}),this.props.fetchQueueDetails({authorId:e})},this.unpopulate=()=>{this.props.cancelFetchReleases(),this.props.clearSeries(),this.props.clearBookFiles(),this.props.clearQueueDetails(),this.props.clearReleases()},this.onMonitorTogglePress=e=>{this.props.toggleAuthorMonitored({authorId:this.props.id,monitored:e})},this.onRefreshPress=()=>{this.props.executeCommand({name:$l,authorId:this.props.id})},this.onSearchPress=()=>{this.props.executeCommand({name:rc,authorId:this.props.id})},this.onSaveSelected=e=>{this.props.saveBookEditor(e)}}componentDidMount(){mI(this.populate),this.populate()}componentDidUpdate(e){const{id:t,isAuthorRefreshing:n,allAuthorRefreshing:s,isRenamingFiles:o,isRenamingAuthor:a}=this.props;(e.isAuthorRefreshing&&!n||e.allAuthorRefreshing&&!s||e.isRenamingFiles&&!o||e.isRenamingAuthor&&!a)&&this.populate(),e.id!==t&&(this.unpopulate(),this.populate())}componentWillUnmount(){hI(this.populate),this.unpopulate()}render(){return R.createElement($H,YH({},this.props,{onMonitorTogglePress:this.onMonitorTogglePress,onRefreshPress:this.onRefreshPress,onSearchPress:this.onSearchPress,onSaveSelected:this.onSaveSelected}))}}const nV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{titleSlug:t})=>t),JH,XH,ZH,WD(),IF(),$y(),((e,t,n,s,o,a,r)=>{const i=U().orderBy(o,"sortNameLastFirst"),l=U().findIndex(i,{titleSlug:e}),c=i[l];if(!c)return{};const{isBooksFetching:d,isBooksPopulated:u,booksError:m,hasBooks:h,hasMonitoredBooks:p,isSaving:g,saveError:E,isDeleting:f,deleteError:C}=t,{isSeriesFetching:v,isSeriesPopulated:S,seriesError:b,hasSeries:P,series:y}=n,{isBookFilesFetching:M,isBookFilesPopulated:I,bookFilesError:k,hasBookFiles:O}=s,w=i[l-1]||U().last(i),T=i[l+1]||U().first(i),N=cc(lc(a,{name:$l,authorId:c.id})),D=lc(a,{name:$l}),A=cc(D)&&!D.body.authorId,F=N||A,x=cc(lc(a,{name:rc,authorId:c.id})),R=cc(lc(a,{name:Zl,authorId:c.id})),B=lc(a,{name:ec}),L=cc(B)&&B.body.authorIds.indexOf(c.id)>-1,j=d||v||M,_=u&&S&&I,z=U().reduce(c.alternateTitles,((e,t)=>(-1!==t.seasonNumber&&void 0!==t.seasonNumber||-1!==t.sceneSeasonNumber&&void 0!==t.sceneSeasonNumber||e.push(t.title),e)),[]);return{...c,alternateTitles:z,isAuthorRefreshing:N,allAuthorRefreshing:A,isRefreshing:F,isSearching:x,isRenamingFiles:R,isRenamingAuthor:L,isFetching:j,isPopulated:_,booksError:m,isSaving:g,saveError:E,isDeleting:f,deleteError:C,seriesError:b,bookFilesError:k,hasBooks:h,hasMonitoredBooks:p,hasSeries:P,series:y,hasBookFiles:O,previousAuthor:w,nextAuthor:T,isSmallScreen:r.isSmallScreen}}))}),eV)(tV),sV={push:QD.VC};class oV extends R.Component{componentDidUpdate(e){this.props.titleSlug||this.props.push(`${window.Researcharr.urlBase}/`)}render(){const{titleSlug:e,isFetching:t,isPopulated:n,error:s}=this.props;return t&&!n?R.createElement(FF,{title:te("Loading")},R.createElement(TF,null,R.createElement(tM,null))):!t&&s?R.createElement("div",{className:WH.errorMessage},Jy(s,"Failed to load author from API")):e?R.createElement(nV,{titleSlug:e}):R.createElement(Cj,{message:te("SorryThatAuthorCannotBeFound")})}}const aV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{match:t})=>t),(e=>e.authors),((e,t)=>{const n=e.params.titleSlug,{isFetching:s,isPopulated:o,error:a,items:r}=t;return U().findIndex(r,{titleSlug:n})>-1?{isFetching:s,isPopulated:o,titleSlug:n}:{isFetching:s,isPopulated:o,error:a}}))}),sV)(oV),rV={authorIndex:0,bookIndex:0};function iV(){return iV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iV.apply(null,arguments)}const lV=function(e,t){return function(n){const{history:s}=n,o="POP"===s.action||s.location.state&&s.location.state.restoreScrollPosition?rV[t]:0;return R.createElement(e,iV({},n,{scrollTop:o}))}},cV=(0,Ky.Ad)(GD.UI,(function(e,t){return EH(e,t)})),dV=function(e){return cV(function(e){return(0,Ky.Mz)($R("authors",e),(e=>{const t=e.items.map((e=>{const{id:t,sortName:n,sortNameLastFirst:s}=e;return{id:t,sortName:n,sortNameLastFirst:s}}));return{...e,items:t}}))}(e),(e=>e))},uV="RetagAuthorModalContent-searchForNewBookLabelContainer-SKO70",mV="RetagAuthorModalContent-searchForNewBookLabel-iheqm",hV="RetagAuthorModalContent-searchForNewBookContainer-vZ2_k CheckInput-container-FXKYv",pV="RetagAuthorModalContent-searchForNewBookInput-hXvi9 CheckInput-input-VAM1T";class gV extends R.Component{constructor(e,t){super(e,t),this.onCheckInputChange=({name:e,value:t})=>{this.setState({[e]:t})},this.onRetagAuthorPress=()=>{this.props.onRetagAuthorPress(this.state.updateCovers,this.state.embedMetadata)},this.state={updateCovers:!1,embedMetadata:!1}}render(){const{authorNames:e,onModalClose:t}=this.props;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,"Retag Selected Author"),R.createElement(BM,null,R.createElement(OI,null,'Tip: To preview the tags that will be written... select "Cancel" then click any author name and use the',R.createElement(Lo,{className:"RetagAuthorModalContent-retagIcon-vSVqY",name:Zn})),R.createElement("div",{className:"RetagAuthorModalContent-message-p8Ca2"},"Are you sure you want to re-tag all files in the ",e.length," selected author?"),R.createElement("ul",null,e.map((e=>R.createElement("li",{key:e},e))))),R.createElement(HM,null,R.createElement("label",{className:uV},R.createElement("span",{className:mV},"Update Covers"),R.createElement(dk,{containerClassName:hV,className:pV,name:"updateCovers",value:this.state.updateCovers,onChange:this.onCheckInputChange})),R.createElement("label",{className:uV},R.createElement("span",{className:mV},"Embed Metadata"),R.createElement(dk,{containerClassName:hV,className:pV,name:"embedMetadata",value:this.state.embedMetadata,onChange:this.onCheckInputChange})),R.createElement(TM,{onPress:t},"Cancel"),R.createElement(TM,{kind:Xs,onPress:this.onRetagAuthorPress},"Retag")))}}const EV=gV;function fV(){return fV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fV.apply(null,arguments)}const CV={executeCommand:Mc};class vV extends R.Component{constructor(...e){super(...e),this.onRetagAuthorPress=(e,t)=>{this.props.executeCommand({name:nc,authorIds:this.props.authorIds,updateCovers:e,embedMetadata:t}),this.props.onModalClose(!0)}}render(e){return R.createElement(EV,fV({},this.props,{onRetagAuthorPress:this.onRetagAuthorPress}))}}const SV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{authorIds:t})=>t),WD(),((e,t)=>{const n=U().intersectionWith(t,e,((e,t)=>e.id===t)),s=U().orderBy(n,"sortName");return{authorNames:U().map(s,"authorName")}}))}),CV)(vV);function bV(){return bV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bV.apply(null,arguments)}const PV=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(SV,bV({},s,{onModalClose:n})))};function yV(e){const{className:t,label:n,isSaving:s}=e;return R.createElement("div",{className:t},n,s&&R.createElement(qF,{className:"AuthorEditorFooterLabel-savingIcon-HFwUv",name:ms,isSpinning:!0}))}yV.defaultProps={className:"AuthorEditorFooterLabel-label-pXfuh"};const MV=yV;class IV extends R.Component{constructor(e,t){super(e,t),this.onDeleteFilesChange=({value:e})=>{this.setState({deleteFiles:e})},this.onDeleteAuthorConfirmed=()=>{const e=this.state.deleteFiles;this.setState({deleteFiles:!1}),this.props.onDeleteSelectedPress(e)},this.state={deleteFiles:!1}}render(){const{author:e,onModalClose:t}=this.props,n=this.state.deleteFiles;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,"Delete Selected Author"),R.createElement(BM,null,R.createElement("div",null,R.createElement(AI,null,R.createElement(Mk,null,"Delete Author Folder"+(e.length>1?"s":"")),R.createElement(ED,{type:ws,name:"deleteFiles",value:n,helpText:`Delete Author Folder${e.length>1?"s":""} and all contents`,kind:Xs,onChange:this.onDeleteFilesChange}))),R.createElement("div",{className:"DeleteAuthorModalContent-message-ms3vZ"},`Are you sure you want to delete ${e.length} selected author${e.length>1?"s":""}${n?" and all contents":""}?`),R.createElement("ul",null,e.map((e=>R.createElement("li",{key:e.authorName},R.createElement("span",null,e.authorName),n&&R.createElement("span",{className:"DeleteAuthorModalContent-pathContainer-XE6ic"},"-",R.createElement("span",{className:"DeleteAuthorModalContent-path-v9zMQ"},e.path))))))),R.createElement(HM,null,R.createElement(TM,{onPress:t},"Cancel"),R.createElement(TM,{kind:Xs,onPress:this.onDeleteAuthorConfirmed},"Delete")))}}const kV=IV,OV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{authorIds:t})=>t),WD(),((e,t)=>{const n=U().intersectionWith(t,e,((e,t)=>e.id===t)),s=U().orderBy(n,"sortName");return{author:U().map(s,(e=>({authorName:e.authorName,path:e.path})))}}))}),(function(e,t){return{onDeleteSelectedPress(n){e(Dr({authorIds:t.authorIds,deleteFiles:n})),t.onModalClose()}}}))(kV);function wV(){return wV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wV.apply(null,arguments)}const TV=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(OV,wV({},s,{onModalClose:n})))};class NV extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{this.setState({[e]:t})},this.onApplyTagsPress=()=>{const{tags:e,applyTags:t}=this.state;this.props.onApplyTagsPress(e,t)},this.state={tags:[],applyTags:"add"}}render(){const{authorTags:e,tagList:t,onModalClose:n}=this.props,{tags:s,applyTags:o}=this.state;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Tags"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,{type:Ws,name:"tags",value:s,onChange:this.onInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("ApplyTags")),R.createElement(ED,{type:qs,name:"applyTags",value:o,values:[{key:"add",value:"Add"},{key:"remove",value:"Remove"},{key:"replace",value:"Replace"}],helpTexts:[te("ApplyTagsHelpTextHowToApplyAuthors"),te("ApplyTagsHelpTextAdd"),te("ApplyTagsHelpTextRemove"),te("ApplyTagsHelpTextReplace")],onChange:this.onInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("Result")),R.createElement("div",{className:"TagsModalContent-result-e_XrO"},e.map((e=>{const n=U().find(t,{id:e});if(!n)return null;const a="remove"===o&&s.indexOf(e)>-1||"replace"===o&&-1===s.indexOf(e);return R.createElement(YO,{key:n.id,title:te(a?"RemoveTagRemovingTag":"RemoveTagExistingTag"),kind:a?no:to,size:Eo},n.label)})),("add"===o||"replace"===o)&&s.map((n=>{const s=U().find(t,{id:n});return s?e.indexOf(n)>-1?null:R.createElement(YO,{key:s.id,title:te("AddingTag"),kind:ao,size:Eo},s.label):null})))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel"),R.createElement(TM,{kind:so,onPress:this.onApplyTagsPress},"Apply")))}}const DV=NV,AV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{authorIds:t})=>t),WD(),GN(),((e,t,n)=>{const s=U().intersectionWith(t,e,((e,t)=>e.id===t));return{authorTags:U().uniq(U().concat(...U().map(s,"tags"))),tagList:n}}))}),(function(e,t){return{onAction(){}}}))(DV);function FV(){return FV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FV.apply(null,arguments)}const xV=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(AV,FV({},s,{onModalClose:n})))},RV="AuthorEditorFooter-inputContainer-nVp18",BV="AuthorEditorFooter-organizeSelectedButton-FKFai SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",LV="noChange",jV={dispatchFetchRootFolders:HS};class _V extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{if(this.setState({[e]:t}),t!==LV)switch(e){case"rootFolderPath":this.setState({isConfirmMoveModalOpen:!0,destinationRootFolder:t});break;case"monitored":this.props.onSaveSelected({[e]:"monitored"===t});break;default:this.props.onSaveSelected({[e]:t})}},this.onApplyTagsPress=(e,t)=>{this.setState({savingTags:!0,isTagsModalOpen:!1}),this.props.onSaveSelected({tags:e,applyTags:t})},this.onDeleteSelectedPress=()=>{this.setState({isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onTagsPress=()=>{this.setState({isTagsModalOpen:!0})},this.onTagsModalClose=()=>{this.setState({isTagsModalOpen:!1})},this.onSaveRootFolderPress=()=>{this.setState({isConfirmMoveModalOpen:!1,destinationRootFolder:null}),this.props.onSaveSelected({rootFolderPath:this.state.destinationRootFolder})},this.onMoveAuthorPress=()=>{this.setState({isConfirmMoveModalOpen:!1,destinationRootFolder:null}),this.props.onSaveSelected({rootFolderPath:this.state.destinationRootFolder,moveFiles:!0})},this.state={monitored:LV,monitorNewItems:LV,qualityProfileId:LV,metadataProfileId:LV,rootFolderPath:LV,savingTags:!1,isDeleteAuthorModalOpen:!1,isTagsModalOpen:!1,isConfirmMoveModalOpen:!1,destinationRootFolder:null}}componentDidMount(){this.props.dispatchFetchRootFolders()}componentDidUpdate(e){const{isSaving:t,saveError:n}=this.props;!e.isSaving||t||n||this.setState({monitored:LV,monitorNewItems:LV,qualityProfileId:LV,metadataProfileId:LV,rootFolderPath:LV,savingTags:!1})}render(){const{authorIds:e,selectedCount:t,isSaving:n,isDeleting:s,isOrganizingAuthor:o,isRetaggingAuthor:a,onOrganizeAuthorPress:r,onRetagAuthorPress:i}=this.props,{monitored:l,monitorNewItems:c,qualityProfileId:d,metadataProfileId:u,rootFolderPath:m,savingTags:h,isTagsModalOpen:p,isDeleteAuthorModalOpen:g,isConfirmMoveModalOpen:E,destinationRootFolder:f}=this.state,C=[{key:LV,value:te("NoChange"),isDisabled:!0},{key:"monitored",value:te("Monitored")},{key:"unmonitored",value:te("Unmonitored")}];return R.createElement(g_,null,R.createElement("div",{className:"AuthorEditorFooter-footer-wjjR4"},R.createElement("div",{className:"AuthorEditorFooter-dropdownContainer-t1GEM"},R.createElement("div",{className:RV},R.createElement(MV,{label:te("MonitorAuthor"),isSaving:n&&l!==LV}),R.createElement(ZI,{name:"monitored",value:l,values:C,isDisabled:!t,onChange:this.onInputChange})),R.createElement("div",{className:RV},R.createElement(MV,{label:te("MonitorNewItems"),isSaving:n&&l!==LV}),R.createElement(uT,{name:"monitorNewItems",value:c,includeNoChange:!0,isDisabled:!t,onChange:this.onInputChange})),R.createElement("div",{className:RV},R.createElement(MV,{label:te("QualityProfile"),isSaving:n&&d!==LV}),R.createElement(ZT,{name:"qualityProfileId",value:d,includeNoChange:!0,isDisabled:!t,onChange:this.onInputChange})),R.createElement("div",{className:RV},R.createElement(MV,{label:te("MetadataProfile"),isSaving:n&&u!==LV}),R.createElement(aT,{name:"metadataProfileId",value:u,includeNoChange:!0,includeNone:!0,isDisabled:!t,onChange:this.onInputChange})),R.createElement("div",{className:RV},R.createElement(MV,{label:te("RootFolder"),isSaving:n&&m!==LV}),R.createElement(WN,{name:"rootFolderPath",value:m,includeNoChange:!0,isDisabled:!t,selectedValueOptions:{includeFreeSpace:!1},onChange:this.onInputChange}))),R.createElement("div",{className:"AuthorEditorFooter-buttonContainer-WV75m"},R.createElement("div",{className:"AuthorEditorFooter-buttonContainerContent-ernhF"},R.createElement(MV,{label:te("SelectedCountAuthorsSelectedInterp",[t]),isSaving:!1}),R.createElement("div",{className:"AuthorEditorFooter-buttons-W_cJw"},R.createElement(AO,{className:BV,kind:ro,isSpinning:o,isDisabled:!t||o||a,onPress:r},te("RenameFiles")),R.createElement(AO,{className:BV,kind:ro,isSpinning:a,isDisabled:!t||o||a,onPress:i},te("WriteMetadataTags")),R.createElement(AO,{className:"AuthorEditorFooter-tagsButton-ykza0 SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",isSpinning:n&&h,isDisabled:!t||o||a,onPress:this.onTagsPress},te("SetReadarrTags")),R.createElement(AO,{className:"AuthorEditorFooter-deleteSelectedButton-OV0KX SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",kind:Xs,isSpinning:s,isDisabled:!t||s,onPress:this.onDeleteSelectedPress},te("Delete")))))),R.createElement(xV,{isOpen:p,authorIds:e,onApplyTagsPress:this.onApplyTagsPress,onModalClose:this.onTagsModalClose}),R.createElement(TV,{isOpen:g,authorIds:e,onModalClose:this.onDeleteAuthorModalClose}),R.createElement(wj,{destinationRootFolder:f,isOpen:E,onSavePress:this.onSaveRootFolderPress,onMoveAuthorPress:this.onMoveAuthorPress}))}}const zV=(0,Wy.Ng)(void 0,jV)(_V),UV=function(e){const{authorNames:t,onModalClose:n,onOrganizeAuthorPress:s}=e;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Organize Selected Author"),R.createElement(BM,null,R.createElement(OI,null,'Tip: To preview a rename, select "Cancel", then select any author name and use the',R.createElement(Lo,{className:"OrganizeAuthorModalContent-renameIcon-F1n_X",name:Fn})),R.createElement("div",{className:"OrganizeAuthorModalContent-message-pbnel"},"Are you sure you want to organize all files in the ",t.length," selected author?"),R.createElement("ul",null,t.map((e=>R.createElement("li",{key:e},e))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Cancel"),R.createElement(TM,{kind:Xs,onPress:s},"Organize")))};function HV(){return HV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HV.apply(null,arguments)}const VV={executeCommand:Mc};class qV extends R.Component{constructor(...e){super(...e),this.onOrganizeAuthorPress=()=>{this.props.executeCommand({name:ec,authorIds:this.props.authorIds}),this.props.onModalClose(!0)}}render(e){return R.createElement(UV,HV({},this.props,{onOrganizeAuthorPress:this.onOrganizeAuthorPress}))}}const QV=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{authorIds:t})=>t),WD(),((e,t)=>{const n=U().intersectionWith(t,e,((e,t)=>e.id===t)),s=U().orderBy(n,"sortName");return{authorNames:U().map(s,"authorName")}}))}),VV)(qV);function WV(){return WV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WV.apply(null,arguments)}const GV=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(QV,WV({},s,{onModalClose:n})))},KV="NoAuthor-message-Wx5Rl",$V="NoAuthor-buttonContainer-iTnYu";function YV(e){const{totalItems:t,itemType:n}=e;return t>0?R.createElement("div",null,R.createElement("div",{className:KV},`All ${n} are hidden due to the applied filter.`)):R.createElement("div",null,R.createElement("div",{className:KV},`No ${n} found, to get started you'll want to add a new author or book or add an existing library location (Root Folder) and update.`),R.createElement("div",{className:$V},R.createElement(TM,{to:"/settings/mediamanagement",kind:so},te("AddRootFolder"))),R.createElement("div",{className:$V},R.createElement(TM,{to:"/add/search",kind:so},te("AddNewAuthor"))))}YV.defaultProps={itemType:"authors"};const JV=YV;class XV extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{label:e,onItemPress:t}=this.props;t(e)}}render(){return R.createElement(IM,{className:"PageJumpBarItem-jumpBarItem-Yz0Ev",onPress:this.onPress},this.props.label.toUpperCase())}}const ZV=XV,eq=parseInt(Fk().jumpBarItemHeight);class tq extends R.Component{constructor(e,t){super(e,t),this.onMeasure=({height:e})=>{e>0&&this.setState({height:e})},this.state={height:0,visibleItems:e.items.order}}componentDidMount(){this.computeVisibleItems()}shouldComponentUpdate(e,t){return e.items!==this.props.items||t.height!==this.state.height||t.visibleItems!==this.state.visibleItems}componentDidUpdate(e,t){e.items===this.props.items&&t.height===this.state.height||this.computeVisibleItems()}computeVisibleItems(){const{items:e,minimumItems:t}=this.props;if(!e)return;const{characters:n,order:s}=e,o=this.state.height,a=Math.floor(o/eq);if(s.length-a<0)return void this.setState({visibleItems:s});if(s.length<t)return void this.setState({visibleItems:s});const r=[s[0]],i=s.slice(1,-1).map((e=>n[e])).sort(((e,t)=>t-e)),l=i[a-3];let c=a-2-i.reduce(((e,t)=>e+(t>l?1:0)),0);for(let e=1;e<s.length-1;e++)n[s[e]]>l?r.push(s[e]):n[s[e]]===l&&c>0&&(r.push(s[e]),c--);r.push(s[s.length-1]),this.setState({visibleItems:r})}render(){const{minimumItems:e,onItemPress:t}=this.props,{visibleItems:n}=this.state;return!n.length||n.length<e?null:R.createElement("div",{className:"PageJumpBar-jumpBar-NBpLl"},R.createElement(hw,{className:"PageJumpBar-jumpBarItems-fCD8H",onMeasure:this.onMeasure},n.map((e=>R.createElement(ZV,{key:e,label:e,onItemPress:t})))))}}tq.defaultProps={minimumItems:5};const nq=tq,sq="AuthorIndexFooter-legendItem-uBWEs";class oq extends R.PureComponent{render(){const{author:e}=this.props,t=e.length;let n=0,s=0,o=0,a=0,r=0,i=0;return e.forEach((e=>{const{statistics:t={}}=e,{bookCount:l=0,bookFileCount:c=0,sizeOnDisk:d=0}=t;n+=l,s+=c,"ended"===e.status?o++:a++,e.monitored&&r++,i+=d})),R.createElement(rI,null,(e=>R.createElement("div",{className:"AuthorIndexFooter-footer-ztvLO"},R.createElement("div",null,R.createElement("div",{className:sq},R.createElement("div",{className:Fo()("AuthorIndexFooter-continuing-qbdTp AuthorIndexFooter-legendItemColor-tbWXo",e&&"colorImpaired")}),R.createElement("div",null,te("ContinuingAllBooksDownloaded"))),R.createElement("div",{className:sq},R.createElement("div",{className:Fo()("AuthorIndexFooter-ended-kCn7D AuthorIndexFooter-legendItemColor-tbWXo",e&&"colorImpaired")}),R.createElement("div",null,te("EndedAllBooksDownloaded"))),R.createElement("div",{className:sq},R.createElement("div",{className:Fo()("AuthorIndexFooter-missingMonitored-rnGmH AuthorIndexFooter-legendItemColor-tbWXo",e&&"colorImpaired")}),R.createElement("div",null,te("MissingBooksAuthorMonitored"))),R.createElement("div",{className:sq},R.createElement("div",{className:Fo()("AuthorIndexFooter-missingUnmonitored-ZrpFr AuthorIndexFooter-legendItemColor-tbWXo",e&&"colorImpaired")}),R.createElement("div",null,te("MissingBooksAuthorNotMonitored")))),R.createElement("div",{className:"AuthorIndexFooter-statistics-dwZ14"},R.createElement(sN,null,R.createElement(cN,{title:te("Authors"),data:t}),R.createElement(cN,{title:te("Ended"),data:o}),R.createElement(cN,{title:te("Continuing"),data:a})),R.createElement(sN,null,R.createElement(cN,{title:te("Monitored"),data:r}),R.createElement(cN,{title:te("Unmonitored"),data:t-r})),R.createElement(sN,null,R.createElement(cN,{title:te("Books"),data:n}),R.createElement(cN,{title:te("Files"),data:s})),R.createElement(sN,null,R.createElement(cN,{title:te("TotalFileSize"),data:FN(i)}))))))}}const aq=oq;const rq=(0,Wy.Ng)((function(){return(0,Ky.Mz)(KD((0,Ky.Mz)($R("authors","authorIndex"),(e=>e.items.map((e=>{const{monitored:t,status:n,statistics:s}=e;return{monitored:t,status:n,statistics:s}})))),(e=>e)),(e=>({author:e})))}))(aq),iq={dispatchSetFilter:Mr},lq=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors.items),(e=>e.authorIndex.filterBuilderProps),((e,t)=>({sectionItems:e,filterBuilderProps:t,customFilterType:"authorIndex"})))}),iq)(qz);function cq(e){const{selectedFilterKey:t,filters:n,customFilters:s,isDisabled:o,onFilterSelect:a}=e;return R.createElement(Qx,{alignMenu:Qe,isDisabled:o,selectedFilterKey:t,filters:n,customFilters:s,filterModalConnectorComponent:lq,onFilterSelect:a})}cq.defaultProps={showCustomFilters:!1};const dq=cq;function uq(){return uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uq.apply(null,arguments)}function mq(e){const{className:t,children:n,isDisabled:s,...o}=e;return R.createElement(CA,uq({className:t},o),R.createElement(UF,{iconName:cs,text:"Sort",isDisabled:s}),n)}mq.defaultProps={isDisabled:!1};const hq=mq;function pq(){return pq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pq.apply(null,arguments)}function gq(e){const{name:t,sortKey:n,sortDirection:s,...o}=e,a=t===n;return R.createElement(Lx,pq({name:t,selectedIconName:s===vo?ds:us,isSelected:a},o))}gq.defaultProps={name:null};const Eq=gq,fq=function(e){const{sortKey:t,sortDirection:n,isDisabled:s,onSortSelect:o}=e;return R.createElement(hq,{isDisabled:s,alignMenu:Qe},R.createElement(yA,null,R.createElement(Eq,{name:"status",sortKey:t,sortDirection:n,onPress:o},"Monitored/Status"),R.createElement(Eq,{name:"sortName",sortKey:t,sortDirection:n,onPress:o},"First Name"),R.createElement(Eq,{name:"sortNameLastFirst",sortKey:t,sortDirection:n,onPress:o},"Last Name"),R.createElement(Eq,{name:"qualityProfileId",sortKey:t,sortDirection:n,onPress:o},"Quality Profile"),R.createElement(Eq,{name:"metadataProfileId",sortKey:t,sortDirection:n,onPress:o},"Metadata Profile"),R.createElement(Eq,{name:"nextBook",sortKey:t,sortDirection:n,onPress:o},"Next Book"),R.createElement(Eq,{name:"lastBook",sortKey:t,sortDirection:n,onPress:o},"Last Book"),R.createElement(Eq,{name:"added",sortKey:t,sortDirection:n,onPress:o},"Added"),R.createElement(Eq,{name:"bookCount",sortKey:t,sortDirection:n,onPress:o},"Books"),R.createElement(Eq,{name:"bookProgress",sortKey:t,sortDirection:n,onPress:o},"Books Progress"),R.createElement(Eq,{name:"path",sortKey:t,sortDirection:n,onPress:o},"Path"),R.createElement(Eq,{name:"sizeOnDisk",sortKey:t,sortDirection:n,onPress:o},"Size on Disk")))};function Cq(e){const{children:t,isDisabled:n,...s}=e;return R.createElement(CA,s,R.createElement(UF,{iconName:ys,text:"View",isDisabled:n}),t)}Cq.defaultProps={isDisabled:!1};const vq=Cq;function Sq(){return Sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sq.apply(null,arguments)}const bq=function(e){const{name:t,selectedView:n,...s}=e,o=t===n;return R.createElement(Lx,Sq({name:t,isSelected:o},s))},Pq=function(e){const{view:t,isDisabled:n,onViewSelect:s}=e;return R.createElement(vq,{isDisabled:n,alignMenu:Qe},R.createElement(yA,null,R.createElement(bq,{name:"table",selectedView:t,onPress:s},"Table"),R.createElement(bq,{name:"posters",selectedView:t,onPress:s},"Posters"),R.createElement(bq,{name:"overview",selectedView:t,onPress:s},"Overview")))};var yq=n(25880);const Mq=function(){return(0,Ky.Mz)((e=>e.commands.items),(e=>e.filter((e=>cc(e)))))};function Iq(){return Iq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Iq.apply(null,arguments)}const kq={dispatchExecuteCommand:Mc};class Oq extends R.Component{constructor(...e){super(...e),this.onRefreshAuthorPress=()=>{this.props.dispatchExecuteCommand({name:$l,authorId:this.props.id})},this.onSearchPress=()=>{this.props.dispatchExecuteCommand({name:rc,authorId:this.props.id})}}render(){const{id:e,component:t,...n}=this.props;return e?R.createElement(t,Iq({},n,{id:e,onRefreshAuthorPress:this.onRefreshAuthorPress,onSearchPress:this.onSearchPress})):null}}const wq=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),(0,Ky.Mz)((e=>e.settings.qualityProfiles.items),ox(),((e,t={})=>e.find((e=>e.id===t.qualityProfileId)))),(0,Ky.Mz)((e=>e.settings.metadataProfiles.items),ox(),((e,t={})=>e.find((e=>e.id===t.metadataProfileId)))),(0,Ky.Mz)((e=>e.authorIndex),(e=>{switch(e.view){case"posters":return e.posterOptions.showSearchAction;case"banners":return e.bannerOptions.showSearchAction;case"overview":return e.overviewOptions.showSearchAction;default:return e.tableOptions.showSearchAction}})),Mq(),((e,t,n,s,o)=>{if(!e)return{};const a=o.some((t=>t.name===$l&&t.body.authorId===e.id)),r=o.some((t=>t.name===rc&&t.body.authorId===e.id)),i=U().maxBy(e.books,(e=>e.releaseDate));return{...e,qualityProfile:t,metadataProfile:n,latestBook:i,showSearchAction:s,isRefreshingAuthor:a,isSearchingAuthor:r}}))}),kq)(Oq);function Tq(e,t,n){return U().findIndex(e,(e=>{const s=e[t].charAt(0);return"#"===n?!isNaN(s):s===n}))}const Nq=function(e,t,n){return 100===n?"ended"===e?ao:so:t?Xs:ro},Dq=function(e){const{monitored:t,status:n,bookCount:s,availableBookCount:o,bookFileCount:a,totalBookCount:r,posterWidth:i,detailedProgressBar:l}=e,c=s?o/s*100:100,d=`${o} / ${s}`;return R.createElement(AR,{className:"AuthorIndexProgressBar-progressBar-ZUQcV ProgressBar-progressBar-xAcCf",containerClassName:"AuthorIndexProgressBar-progress-U_62s ProgressBar-container-VCeFi",progress:c,kind:Nq(n,t,c),size:l?go:po,showText:l,text:d,title:te("AuthorProgressBarText",{bookCount:s,availableBookCount:o,bookFileCount:a,totalBookCount:r}),width:i})},Aq=function(e){const{title:t,iconName:n,label:s}=e;return R.createElement("div",{className:"AuthorIndexOverviewInfoRow-infoRow-zt6tl",title:t},R.createElement(Lo,{className:"AuthorIndexOverviewInfoRow-icon-lApW1",name:n,size:14}),s)};function Fq(){return Fq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fq.apply(null,arguments)}const xq=parseInt(Fk().authorIndexOverviewInfoRowHeight),Rq=[{name:"monitored",showProp:"showMonitored",valueProp:"monitored"},{name:"qualityProfileId",showProp:"showQualityProfile",valueProp:"qualityProfileId"},{name:"lastBook",showProp:"showLastBook",valueProp:"lastBook"},{name:"added",showProp:"showAdded",valueProp:"added"},{name:"bookCount",showProp:"showBookCount",valueProp:"bookCount"},{name:"path",showProp:"showPath",valueProp:"path"},{name:"sizeOnDisk",showProp:"showSizeOnDisk",valueProp:"sizeOnDisk"}],Bq=function(e){const{height:t,nextAiring:n,showRelativeDates:s,shortDateFormat:o,longDateFormat:a,timeFormat:r}=e;let i=1;const l=Math.floor(t/(xq+4));return R.createElement("div",{className:"AuthorIndexOverviewInfo-infos-rf9oa"},!!n&&R.createElement(Aq,{title:fx(n,a,r),iconName:ns,label:Cx(n,o,s,{timeFormat:r,timeForToday:!0})}),Rq.map((t=>{if(!function(e,t){const{name:n,showProp:s,valueProp:o}=e;return null!=t[o]&&(t[s]||t.sortKey===n)}(t,e))return null;if(i>=l)return null;i++;const n=function(e,t){var n;const{name:s}=e;if("monitored"===s){const e=t.monitored?"Monitored":"Unmonitored";return{title:e,iconName:t.monitored?Dn:bs,label:e}}if("qualityProfileId"===s&&null!=(n=t.qualityProfile)&&n.name)return{title:te("QualityProfile"),iconName:Vn,label:t.qualityProfile.name};if("lastBook"===s){const{lastBook:e,showRelativeDates:n,shortDateFormat:s,timeFormat:o}=t;return{title:`Last Book: ${e.title}`,iconName:Ut,label:Cx(e.releaseDate,s,n,{timeFormat:o,timeForToday:!0})}}if("added"===s){const{added:e,showRelativeDates:n,shortDateFormat:s,longDateFormat:o,timeFormat:a}=t;return{title:`Added: ${fx(e,o,a)}`,iconName:Tt,label:Cx(e,s,n,{timeFormat:a,timeForToday:!0})}}if("bookCount"===s){const{bookCount:e}=t;let n="1 book";return 0===e?n="No books":e>1&&(n=`${e} books`),{title:"Book Count",iconName:_t,label:n}}return"path"===s?{title:"Path",iconName:vn,label:t.path}:"sizeOnDisk"===s?{title:"Size on Disk",iconName:ln,label:FN(t.sizeOnDisk)}:void 0}(t,e);return R.createElement(Aq,Fq({key:t.name},n))})))},Lq={container:"AuthorIndexOverview-container-l9Kru",content:"AuthorIndexOverview-content-yzRH0",poster:"AuthorIndexOverview-poster-wyB3y",editorSelect:"AuthorIndexOverview-editorSelect-ZfZRK",posterContainer:"AuthorIndexOverview-posterContainer-SZfNc",link:"AuthorIndexOverview-link-ORKMe Link-link-RInnp",ended:"AuthorIndexOverview-ended-OBqVx",info:"AuthorIndexOverview-info-E1jtc",titleRow:"AuthorIndexOverview-titleRow-t4KIh",title:"AuthorIndexOverview-title-l5NrE AuthorIndexOverview-link-ORKMe Link-link-RInnp",actions:"AuthorIndexOverview-actions-AXFq_",details:"AuthorIndexOverview-details-vo8BP",overview:"AuthorIndexOverview-overview-wsSni AuthorIndexOverview-link-ORKMe Link-link-RInnp"};function jq(){return jq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jq.apply(null,arguments)}const _q=parseInt(Fk().authorIndexColumnPadding),zq=parseInt(Fk().authorIndexColumnPaddingSmallScreen),Uq=parseInt(sH().defaultFontSize),Hq=parseFloat(sH().lineHeight);class Vq extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})},this.state={isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1}}render(){const{id:e,authorName:t,authorNameLastFirst:n,overview:s,monitored:o,status:a,titleSlug:r,nextAiring:i,statistics:l={},images:c,posterWidth:d,posterHeight:u,qualityProfile:m,overviewOptions:h,showSearchAction:p,showRelativeDates:g,shortDateFormat:E,longDateFormat:f,timeFormat:C,rowHeight:v,isSmallScreen:S,isRefreshingAuthor:b,isSearchingAuthor:P,onRefreshAuthorPress:y,onSearchPress:M,isEditorActive:I,isSelected:k,...O}=this.props,{bookCount:w=0,availableBookCount:T=0,bookFileCount:N=0,totalBookCount:D=0,sizeOnDisk:A=0}=l,{isEditAuthorModalOpen:F,isDeleteAuthorModalOpen:x}=this.state,B=`/author/${r}`,L={width:`${d}px`,height:`${u}px`,objectFit:"contain"},j=function(e,t){return e-(t?zq:_q)}(v,S),_=j-42;return R.createElement("div",{className:Lq.container},R.createElement("div",{className:Lq.content},R.createElement("div",{className:Lq.posterContainer},I&&R.createElement("div",{className:Lq.editorSelect},R.createElement(dk,{className:Lq.checkInput,name:e.toString(),value:k,onChange:this.onChange})),"ended"===a&&R.createElement("div",{className:Lq.ended,title:te("Ended")}),R.createElement(IM,{className:Lq.link,style:L,to:B},R.createElement(nA,{className:Lq.poster,style:L,images:c,size:250,lazy:!1,overflow:!0,blurBackground:!0})),R.createElement(Dq,{monitored:o,status:a,bookCount:w,availableBookCount:T,bookFileCount:N,totalBookCount:D,posterWidth:d,detailedProgressBar:h.detailedProgressBar})),R.createElement("div",{className:Lq.info,style:{maxHeight:j}},R.createElement("div",{className:Lq.titleRow},R.createElement(IM,{className:Lq.title,to:B},"firstLast"===h.showTitle?t:n),R.createElement("div",{className:Lq.actions},R.createElement(TR,{name:Gn,title:te("RefreshAuthor"),isSpinning:b,onPress:y}),p&&R.createElement(TR,{className:Lq.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:P,onPress:M}),R.createElement(Ek,{name:cn,title:te("EditAuthor"),onPress:this.onEditAuthorPress}))),R.createElement("div",{className:Lq.details},R.createElement(IM,{className:Lq.overview,to:B},R.createElement(qU(),{line:Math.floor(_/(Uq*Hq)),text:bL(s)})),R.createElement(Bq,jq({height:_,monitored:o,nextAiring:i,bookCount:w,sizeOnDisk:A,qualityProfile:m,showRelativeDates:g,shortDateFormat:E,longDateFormat:f,timeFormat:C},h,O))))),R.createElement(Hj,{isOpen:F,authorId:e,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:x,authorId:e,onModalClose:this.onDeleteAuthorModalClose}))}}Vq.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0}};const qq=Vq,Qq=parseInt(Fk().authorIndexColumnPadding),Wq=parseInt(Fk().authorIndexColumnPaddingSmallScreen),Gq=parseInt(Fk().progressBarSmallHeight),Kq=parseInt(Fk().progressBarMediumHeight);function $q(e,t,n,s){const{detailedProgressBar:o}=s;return[e,o?Kq:Gq,n?Wq:Qq].reduce(((e,t)=>e+t),0)}class Yq extends R.Component{constructor(e,t){super(e,t),this.setGridRef=e=>{this._grid=e},this.calculateGrid=(e=this.state.width,t)=>{const{sortKey:n,overviewOptions:s}=this.props,o=function(e,t){const n=t?192:202;return"large"===e?n:"medium"===e?Math.floor(.75*n):Math.floor(.5*n)}(s.size,t),a=o,r=$q(a,0,t,s);this.setState({width:e,posterWidth:o,posterHeight:a,rowHeight:r})},this.cellRenderer=({key:e,rowIndex:t,style:n})=>{const{items:s,sortKey:o,overviewOptions:a,showRelativeDates:r,shortDateFormat:i,longDateFormat:l,timeFormat:c,isSmallScreen:d,selectedState:u,isEditorActive:m,onSelectedChange:h}=this.props,{posterWidth:p,posterHeight:g,rowHeight:E}=this.state,f=s[t];return f?R.createElement("div",{key:e,style:n},R.createElement(wq,{key:f.id,component:qq,sortKey:o,posterWidth:p,posterHeight:g,rowHeight:E,overviewOptions:a,showRelativeDates:r,shortDateFormat:i,longDateFormat:l,timeFormat:c,isSmallScreen:d,authorId:f.id,qualityProfileId:f.qualityProfileId,metadataProfileId:f.metadataProfileId,isSelected:u[f.id],onSelectedChange:h,isEditorActive:m})):null},this.onMeasure=({width:e})=>{this.calculateGrid(e,this.props.isSmallScreen)},this.state={width:0,columnCount:1,posterWidth:238,posterHeight:238,rowHeight:$q(238,0,e.isSmallScreen,{}),scrollRestored:!1},this._grid=null}componentDidUpdate(e,t){const{items:n,sortKey:s,overviewOptions:o,jumpToCharacter:a,scrollTop:r,isEditorActive:i,selectedState:l}=this.props,{width:c,rowHeight:d,scrollRestored:u}=this.state;if(e.sortKey===s&&e.overviewOptions===o||this.calculateGrid(),this._grid&&(t.width!==c||t.rowHeight!==d||EH(e.items,n)||e.isEditorActive!==i||e.selectedState!==l||e.overviewOptions.showTitle!==o.showTitle)&&this._grid.recomputeGridSize(),this._grid&&0!==r&&!u&&(this.setState({scrollRestored:!0}),this._grid.scrollToPosition({scrollTop:r})),null!=a&&a!==e.jumpToCharacter){const e=Tq(n,s,a);this._grid&&null!=e&&this._grid.scrollToCell({rowIndex:e,columnIndex:0})}}render(){const{items:e,isSmallScreen:t,scroller:n}=this.props,{width:s,rowHeight:o}=this.state;return R.createElement(hw,{onMeasure:this.onMeasure},R.createElement(yq.PG,{scrollElement:t?void 0:n},(({height:t,registerChild:n,onChildScroll:a,scrollTop:r})=>t?R.createElement("div",{ref:n},R.createElement(yq.xA,{ref:this.setGridRef,className:"AuthorIndexOverviews-grid-ZFAFS",autoHeight:!0,height:t,columnCount:1,columnWidth:s,rowCount:e.length,rowHeight:o,width:s,onScroll:a,scrollTop:r,overscanRowCount:2,cellRenderer:this.cellRenderer,onSectionRendered:this.onSectionRendered,scrollToAlignment:"start",isScrollingOptOut:!0})):R.createElement("div",null))))}}const Jq=Yq,Xq=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex.overviewOptions),mx(),$y(),((e,t,n)=>({overviewOptions:e,showRelativeDates:t.showRelativeDates,shortDateFormat:t.shortDateFormat,longDateFormat:t.longDateFormat,timeFormat:t.timeFormat,isSmallScreen:n.isSmallScreen})))}))(Jq),Zq=[{key:"firstLast",get value(){return te("NameFirstLast")}},{key:"lastFirst",get value(){return te("NameLastFirst")}}],eQ=[{key:"small",get value(){return te("Small")}},{key:"medium",get value(){return te("Medium")}},{key:"large",get value(){return te("Large")}}];class tQ extends R.Component{constructor(e,t){super(e,t),this.onChangeOverviewOption=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onChangeOverviewOption({[e]:t})}))},this.state={showTitle:e.showTitle,detailedProgressBar:e.detailedProgressBar,size:e.size,showMonitored:e.showMonitored,showQualityProfile:e.showQualityProfile,showLastBook:e.showLastBook,showAdded:e.showAdded,showBookCount:e.showBookCount,showPath:e.showPath,showSizeOnDisk:e.showSizeOnDisk,showSearchAction:e.showSearchAction}}componentDidUpdate(e){const{showTitle:t,detailedProgressBar:n,size:s,showMonitored:o,showQualityProfile:a,showLastBook:r,showAdded:i,showBookCount:l,showPath:c,showSizeOnDisk:d,showSearchAction:u}=this.props,m={};t!==e.showTitle&&(m.showTitle=t),n!==e.detailedProgressBar&&(m.detailedProgressBar=n),s!==e.size&&(m.size=s),o!==e.showMonitored&&(m.showMonitored=o),a!==e.showQualityProfile&&(m.showQualityProfile=a),r!==e.showLastBook&&(m.showLastBook=r),i!==e.showAdded&&(m.showAdded=i),l!==e.showBookCount&&(m.showBookCount=l),c!==e.showPath&&(m.showPath=c),d!==e.showSizeOnDisk&&(m.showSizeOnDisk=d),u!==e.showSearchAction&&(m.showSearchAction=u),U().isEmpty(m)||this.setState(m)}render(){const{onModalClose:e}=this.props,{showTitle:t,detailedProgressBar:n,size:s,showMonitored:o,showQualityProfile:a,showLastBook:r,showAdded:i,showBookCount:l,showPath:c,showSizeOnDisk:d,showSearchAction:u}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Overview Options"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("NameStyle")),R.createElement(ED,{type:qs,name:"showTitle",value:t,values:Zq,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("PosterSize")),R.createElement(ED,{type:qs,name:"size",value:s,values:eQ,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("DetailedProgressBar")),R.createElement(ED,{type:ws,name:"detailedProgressBar",value:n,helpText:te("DetailedProgressBarHelpText"),onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowMonitored")),R.createElement(ED,{type:ws,name:"showMonitored",value:o,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowQualityProfile")),R.createElement(ED,{type:ws,name:"showQualityProfile",value:a,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowLastBook")),R.createElement(ED,{type:ws,name:"showLastBook",value:r,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowDateAdded")),R.createElement(ED,{type:ws,name:"showAdded",value:i,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowBookCount")),R.createElement(ED,{type:ws,name:"showBookCount",value:l,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowPath")),R.createElement(ED,{type:ws,name:"showPath",value:c,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSizeOnDisk")),R.createElement(ED,{type:ws,name:"showSizeOnDisk",value:d,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:u,helpText:te("ShowSearchActionHelpText"),onChange:this.onChangeOverviewOption})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Close")))}}const nQ=tQ,sQ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex),(e=>e.overviewOptions))}),(function(e,t){return{onChangeOverviewOption(t){e(Tr(t))}}}))(nQ);function oQ(){return oQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oQ.apply(null,arguments)}const aQ=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(sQ,oQ({},n,{onModalClose:t})))},rQ="AuthorIndexPosterInfo-info-NdXOK",iQ=function(e){const{qualityProfile:t,showQualityProfile:n,metadataProfile:s,added:o,nextBook:a,lastBook:r,bookCount:i,path:l,sizeOnDisk:c,sortKey:d,showRelativeDates:u,shortDateFormat:m,timeFormat:h}=e;if("qualityProfileId"===d&&!n)return R.createElement("div",{className:rQ},t.name);if("metadataProfileId"===d)return R.createElement("div",{className:rQ},s.name);if("added"===d&&o){const e=Cx(o,m,u,{timeFormat:h,timeForToday:!1});return R.createElement("div",{className:rQ},`Added ${e}`)}if("nextBook"===d&&a){const e=Cx(a.releaseDate,m,u,{timeFormat:h,timeForToday:!1});return R.createElement("div",{className:rQ},`Next Book ${e}`)}if("lastBook"===d&&r){const e=Cx(r.releaseDate,m,u,{timeFormat:h,timeForToday:!1});return R.createElement("div",{className:rQ},`Last Book ${e}`)}if("bookCount"===d){let e="1 book";return 0===i?e="No books":i>1&&(e=`${i} books`),R.createElement("div",{className:rQ},e)}return"path"===d?R.createElement("div",{className:rQ},l):"sizeOnDisk"===d?R.createElement("div",{className:rQ},FN(c)):null},lQ={content:"AuthorIndexPoster-content-onr1w",controls:"AuthorIndexPoster-controls-AlLzc",posterContainer:"AuthorIndexPoster-posterContainer-WQ8wU",poster:"AuthorIndexPoster-poster-WityJ",link:"AuthorIndexPoster-link-WxEdq Link-link-RInnp",overlayTitle:"AuthorIndexPoster-overlayTitle-ByUSz",nextAiring:"AuthorIndexPoster-nextAiring-pgRd4",title:"AuthorIndexPoster-title-LnHe1",ended:"AuthorIndexPoster-ended-rFQMm",editorSelect:"AuthorIndexPoster-editorSelect-vZLZM",action:"AuthorIndexPoster-action-PJasP IconButton-button-t4C5V Link-link-RInnp",container:"AuthorIndexPoster-container-qiZeL"};function cQ(){return cQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cQ.apply(null,arguments)}class dQ extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onPosterLoad=()=>{this.state.hasPosterError&&this.setState({hasPosterError:!1})},this.onPosterLoadError=()=>{this.state.hasPosterError||this.setState({hasPosterError:!0})},this.onChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})},this.state={hasPosterError:!1,isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1}}render(){const{id:e,authorName:t,authorNameLastFirst:n,monitored:s,titleSlug:o,status:a,nextAiring:r,statistics:i={},images:l,posterWidth:c,posterHeight:d,detailedProgressBar:u,showTitle:m,showMonitored:h,showQualityProfile:p,qualityProfile:g,metadataProfile:E,showSearchAction:f,showRelativeDates:C,shortDateFormat:v,timeFormat:S,isRefreshingAuthor:b,isSearchingAuthor:P,onRefreshAuthorPress:y,onSearchPress:M,isEditorActive:I,isSelected:k,onSelectedChange:O,...w}=this.props,{bookCount:T=0,availableBookCount:N=0,bookFileCount:D=0,totalBookCount:A=0,sizeOnDisk:F=0}=i,{hasPosterError:x,isEditAuthorModalOpen:B,isDeleteAuthorModalOpen:L}=this.state,j=`/author/${o}`,_={width:`${c}px`,height:`${d}px`,objectFit:"contain"};return R.createElement("div",null,R.createElement("div",{className:lQ.content},R.createElement("div",{className:lQ.posterContainer},I&&R.createElement("div",{className:lQ.editorSelect},R.createElement(dk,{className:lQ.checkInput,name:e.toString(),value:k,onChange:this.onChange})),R.createElement(YO,{className:lQ.controls},R.createElement(TR,{className:lQ.action,name:Gn,title:te("RefreshAuthor"),isSpinning:b,onPress:y}),f&&R.createElement(TR,{className:lQ.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:P,onPress:M}),R.createElement(Ek,{className:lQ.action,name:cn,title:te("EditAuthor"),onPress:this.onEditAuthorPress})),"ended"===a&&R.createElement("div",{className:lQ.ended,title:te("Ended")}),R.createElement(IM,{className:lQ.link,style:_,to:j},R.createElement(nA,{className:lQ.poster,style:_,images:l,size:250,lazy:!1,overflow:!0,blurBackground:!0,onError:this.onPosterLoadError,onLoad:this.onPosterLoad}),x&&R.createElement("div",{className:lQ.overlayTitle},t))),R.createElement(Dq,{monitored:s,status:a,bookCount:T,availableBookCount:N,bookFileCount:D,totalBookCount:A,posterWidth:c,detailedProgressBar:u}),"no"!==m&&R.createElement("div",{className:lQ.title},"firstLast"===m?t:n),h&&R.createElement("div",{className:lQ.title},s?"Monitored":"Unmonitored"),p&&null!=g&&g.name?R.createElement("div",{className:lQ.title,title:te("QualityProfile")},g.name):null,r&&R.createElement("div",{className:lQ.nextAiring},Cx(r,v,C,{timeFormat:S,timeForToday:!0})),R.createElement(iQ,cQ({bookCount:T,sizeOnDisk:F,qualityProfile:g,showQualityProfile:p,metadataProfile:E,showRelativeDates:C,shortDateFormat:v,timeFormat:S},w)),R.createElement(Hj,{isOpen:B,authorId:e,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:L,authorId:e,onModalClose:this.onDeleteAuthorModalClose})))}}dQ.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0}};const uQ=dQ,mQ=parseInt(Fk().authorIndexColumnPadding),hQ=parseInt(Fk().authorIndexColumnPaddingSmallScreen),pQ=parseInt(Fk().progressBarSmallHeight),gQ=parseInt(Fk().progressBarMediumHeight),EQ={small:3,medium:2,large:1};function fQ(e,t,n,s){const{detailedProgressBar:o,showTitle:a,showMonitored:r,showQualityProfile:i}=s,l=[e,o?gQ:pQ,19,n?hQ:mQ];switch("no"!==a&&l.push(19),r&&l.push(19),i&&l.push(19),t){case"seasons":case"previousAiring":case"added":case"path":case"sizeOnDisk":l.push(19);break;case"qualityProfileId":i||l.push(19)}return l.reduce(((e,t)=>e+t),0)}class CQ extends R.Component{constructor(e,t){super(e,t),this.setGridRef=e=>{this._grid=e},this.calculateGrid=(e=this.state.width,t)=>{const{sortKey:n,posterOptions:s}=this.props,o=function(e,t,n){const s=n?172:182,o=Math.floor(e/s);return 0==e%s&&"large"===t?s:Math.floor(e/(o+EQ[t]))}(e,s.size,t),a=Math.max(Math.floor(e/o),1),r=o-2*this._padding,i=function(e){return Math.ceil(e)}(r),l=fQ(i,n,t,s);this.setState({width:e,columnWidth:o,columnCount:a,posterWidth:r,posterHeight:i,rowHeight:l})},this.cellRenderer=({key:e,rowIndex:t,columnIndex:n,style:s})=>{const{items:o,sortKey:a,posterOptions:r,showRelativeDates:i,shortDateFormat:l,timeFormat:c,selectedState:d,isEditorActive:u,onSelectedChange:m}=this.props,{posterWidth:h,posterHeight:p,columnCount:g}=this.state,{detailedProgressBar:E,showTitle:f,showMonitored:C,showQualityProfile:v}=r,S=o[t*g+n];return S?R.createElement("div",{key:e,style:{...s,padding:this._padding}},R.createElement(wq,{key:S.id,component:uQ,sortKey:a,posterWidth:h,posterHeight:p,detailedProgressBar:E,showTitle:f,showMonitored:C,showQualityProfile:v,showRelativeDates:i,shortDateFormat:l,timeFormat:c,style:s,authorId:S.id,qualityProfileId:S.qualityProfileId,metadataProfileId:S.metadataProfileId,isSelected:d[S.id],onSelectedChange:m,isEditorActive:u})):null},this.onMeasure=({width:e})=>{this.calculateGrid(e,this.props.isSmallScreen)},this.state={width:0,columnWidth:182,columnCount:1,posterWidth:238,posterHeight:238,rowHeight:fQ(238,null,e.isSmallScreen,{}),scrollRestored:!1},this._isInitialized=!1,this._grid=null,this._padding=e.isSmallScreen?hQ:mQ}componentDidUpdate(e,t){const{items:n,sortKey:s,posterOptions:o,jumpToCharacter:a,isSmallScreen:r,isEditorActive:i,scrollTop:l,selectedState:c}=this.props,{width:d,columnWidth:u,columnCount:m,rowHeight:h,scrollRestored:p}=this.state;if(e.sortKey===s&&e.posterOptions===o||this.calculateGrid(d,r),(this._grid&&(t.width!==d||t.columnWidth!==u||t.columnCount!==m||t.rowHeight!==h||EH(e.items,n))||e.isEditorActive!==i||e.selectedState!==c||e.posterOptions.showTitle!==o.showTitle)&&this._grid.recomputeGridSize(),this._grid&&0!==l&&!p&&(this.setState({scrollRestored:!0}),this._grid.scrollToPosition({scrollTop:l})),null!=a&&a!==e.jumpToCharacter){const e=Tq(n,s,a);if(this._grid&&null!=e){const t=Math.floor(e/m);this._grid.scrollToCell({rowIndex:t,columnIndex:0})}}}render(){const{scroller:e,items:t,isSmallScreen:n}=this.props,{width:s,columnWidth:o,columnCount:a,rowHeight:r}=this.state,i=Math.ceil(t.length/a);return R.createElement(hw,{onMeasure:this.onMeasure},R.createElement(yq.PG,{scrollElement:n?void 0:e},(({height:e,registerChild:t,onChildScroll:n,scrollTop:l})=>e?R.createElement("div",{ref:t},R.createElement(yq.xA,{ref:this.setGridRef,className:"AuthorIndexPosters-grid-RPOFw",autoHeight:!0,height:e,columnCount:a,columnWidth:o,rowCount:i,rowHeight:r,width:s,onScroll:n,scrollTop:l,overscanRowCount:2,cellRenderer:this.cellRenderer,scrollToAlignment:"start",isScrollingOptOut:!0})):R.createElement("div",null))))}}const vQ=CQ,SQ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex.posterOptions),mx(),$y(),((e,t,n)=>({posterOptions:e,showRelativeDates:t.showRelativeDates,shortDateFormat:t.shortDateFormat,timeFormat:t.timeFormat,isSmallScreen:n.isSmallScreen})))}))(vQ),bQ=[{key:"small",get value(){return te("Small")}},{key:"medium",get value(){return te("Medium")}},{key:"large",get value(){return te("Large")}}],PQ=[{key:"no",get value(){return te("NoName")}},{key:"firstLast",get value(){return te("NameFirstLast")}},{key:"lastFirst",get value(){return te("NameLastFirst")}}];class yQ extends R.Component{constructor(e,t){super(e,t),this.onChangePosterOption=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onChangePosterOption({[e]:t})}))},this.state={detailedProgressBar:e.detailedProgressBar,size:e.size,showTitle:e.showTitle,showMonitored:e.showMonitored,showQualityProfile:e.showQualityProfile,showSearchAction:e.showSearchAction}}componentDidUpdate(e){const{detailedProgressBar:t,size:n,showTitle:s,showMonitored:o,showQualityProfile:a,showSearchAction:r}=this.props,i={};t!==e.detailedProgressBar&&(i.detailedProgressBar=t),n!==e.size&&(i.size=n),s!==e.showTitle&&(i.showTitle=s),o!==e.showMonitored&&(i.showMonitored=o),a!==e.showQualityProfile&&(i.showQualityProfile=a),r!==e.showSearchAction&&(i.showSearchAction=r),U().isEmpty(i)||this.setState(i)}render(){const{onModalClose:e}=this.props,{detailedProgressBar:t,size:n,showTitle:s,showMonitored:o,showQualityProfile:a,showSearchAction:r}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Poster Options"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("PosterSize")),R.createElement(ED,{type:qs,name:"size",value:n,values:bQ,onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("DetailedProgressBar")),R.createElement(ED,{type:ws,name:"detailedProgressBar",value:t,helpText:te("DetailedProgressBarHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowName")),R.createElement(ED,{type:qs,name:"showTitle",value:s,values:PQ,helpText:te("ShowTitleHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowMonitored")),R.createElement(ED,{type:ws,name:"showMonitored",value:o,helpText:te("ShowMonitoredHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowQualityProfile")),R.createElement(ED,{type:ws,name:"showQualityProfile",value:a,helpText:te("ShowQualityProfileHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:r,helpText:te("ShowSearchActionHelpText"),onChange:this.onChangePosterOption})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Close")))}}const MQ=yQ,IQ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex),(e=>e.posterOptions))}),(function(e,t){return{onChangePosterOption(t){e(Or(t))}}}))(MQ);function kQ(){return kQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kQ.apply(null,arguments)}const OQ=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(IQ,kQ({},n,{onModalClose:t})))};function wQ(){return wQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wQ.apply(null,arguments)}function TQ(e){const{cellCount:t,overscanCellsCount:n,startIndex:s,stopIndex:o}=e,a=s-n,r=o+n;return{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(t-1,r)}}class NQ extends R.Component{constructor(e,t){super(e,t),this.setGridRef=e=>{this._grid=e},this.onMeasure=({width:e})=>{this.setState({width:e})},this.state={width:0,scrollRestored:!1},this._grid=null}componentDidUpdate(e,t){const{items:n,scrollIndex:s,scrollTop:o,onRecompute:a}=this.props,{width:r,scrollRestored:i}=this.state;this._grid&&(t.width!==r||EH(e.items,n))&&(a(r),this._grid.recomputeGridSize()),this._grid&&void 0!==o&&0!==o&&!i&&(this.setState({scrollRestored:!0}),this._grid.scrollToPosition({scrollTop:o})),null!=s&&s!==e.scrollIndex&&this._grid.scrollToCell({rowIndex:s,columnIndex:0})}render(){const{isSmallScreen:e,className:t,items:n,scroller:s,scrollTop:o,header:a,headerHeight:r,rowHeight:i,rowRenderer:l,...c}=this.props,{width:d}=this.state,u={boxSizing:void 0,direction:void 0,height:void 0,position:void 0,willChange:void 0,overflow:void 0,width:void 0},m={position:void 0};return R.createElement(yq.PG,{scrollElement:e?void 0:s},(({height:e,registerChild:s,onChildScroll:o,scrollTop:h})=>e?R.createElement(hw,{whitelist:["width"],onMeasure:this.onMeasure},R.createElement(FM,{className:t,scrollDirection:uo},a,R.createElement("div",{ref:s},R.createElement(yq.xA,wQ({ref:this.setGridRef,autoContainerWidth:!0,autoHeight:!0,autoWidth:!0,width:d,height:e,headerHeight:e-r,rowHeight:i,rowCount:n.length,columnCount:1,columnWidth:d,scrollTop:h,onScroll:o,overscanRowCount:2,cellRenderer:l,overscanIndicesGetter:TQ,scrollToAlignment:"start",isScrollingOptout:!0,className:"VirtualTable-tableBodyContainer-W0ddE",style:u,containerStyle:m},c))))):null))}}NQ.defaultProps={className:"VirtualTable-tableContainer-MHSuC",headerHeight:38,rowHeight:38,onRecompute:()=>{}};const DQ=NQ;function AQ(){return AQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AQ.apply(null,arguments)}function FQ(e){const{className:t,children:n,style:s,...o}=e;return R.createElement("div",AQ({className:t,style:s},o),n)}FQ.defaultProps={className:"VirtualTableRow-row-cfNxh"};const xQ=FQ,RQ=function({children:e}){return R.createElement("div",{className:"VirtualTableHeader-header-BLqeA"},e)};function BQ(){return BQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BQ.apply(null,arguments)}class LQ extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,fixedSortDirection:t}=this.props;t?this.props.onSortPress(e,t):this.props.onSortPress(e)}}render(){const{className:e,name:t,isSortable:n,sortKey:s,sortDirection:o,fixedSortDirection:a,children:r,onSortPress:i,...l}=this.props,c=n&&s===t,d=o===vo?ds:us;return n?R.createElement(IM,BQ({component:"div",className:e,onPress:this.onPress},l),r,c&&R.createElement(Lo,{name:d,className:"VirtualTableHeaderCell-sortIcon-IdM2s"})):R.createElement("div",{className:e},r)}}LQ.defaultProps={className:"VirtualTableHeaderCell-headerCell-oq_lz",isSortable:!1};const jQ=LQ,_Q=function(e){const{allSelected:t,allUnselected:n,onSelectAllChange:s}=e,o=function(e,t){return!!e||!t&&null}(t,n);return R.createElement(jQ,{className:"VirtualTableSelectAllHeaderCell-selectAllHeaderCell-gBYqR TableHeaderCell-headerCell-aJDuw",name:"selectAll"},R.createElement(dk,{className:"VirtualTableSelectAllHeaderCell-input-XcVa4 CheckInput-input-VAM1T",name:"selectAll",value:o,onChange:s}))},zQ=[{key:"firstLast",get value(){return te("NameFirstLast")}},{key:"lastFirst",get value(){return te("NameLastFirst")}}];class UQ extends R.Component{constructor(e,t){super(e,t),this.onTableOptionChange=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onTableOptionChange({tableOptions:{...this.state,[e]:t}})}))},this.state={showBanners:e.showBanners,showSearchAction:e.showSearchAction,showTitle:e.showTitle}}componentDidUpdate(e){const{showBanners:t,showSearchAction:n,showTitle:s}=this.props;t===e.showBanners&&n===e.showSearchAction&&s===e.showTitle||this.setState({showBanners:t,showSearchAction:n,showTitle:s})}render(){const{showBanners:e,showSearchAction:t,showTitle:n}=this.state;return R.createElement(R.Fragment,null,R.createElement(AI,null,R.createElement(Mk,null,te("NameStyle")),R.createElement(ED,{type:qs,name:"showTitle",value:n,values:zQ,onChange:this.onTableOptionChange})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowBanners")),R.createElement(ED,{type:ws,name:"showBanners",value:e,helpText:te("ShowBannersHelpText"),onChange:this.onTableOptionChange})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:t,helpText:te("ShowSearchActionHelpText"),onChange:this.onTableOptionChange})))}}const HQ=UQ,VQ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex.tableOptions),(e=>e))}))(HQ),qQ=["qualityProfileId","path","tags"];function QQ(e){return e.some((e=>{const{name:t,isVisible:n}=e;return qQ.includes(t)&&n}))}const WQ={status:"AuthorIndexHeader-status-e_dB6 VirtualTableHeaderCell-headerCell-oq_lz",sortName:"AuthorIndexHeader-sortName-hbTD6 VirtualTableHeaderCell-headerCell-oq_lz",banner:"AuthorIndexHeader-banner-Bn8kA",bannerGrow:"AuthorIndexHeader-bannerGrow-n_Xwe",qualityProfileId:"AuthorIndexHeader-qualityProfileId-b6TCJ VirtualTableHeaderCell-headerCell-oq_lz",metadataProfileId:"AuthorIndexHeader-metadataProfileId-yIpFZ VirtualTableHeaderCell-headerCell-oq_lz",nextBook:"AuthorIndexHeader-nextBook-v0Q4I VirtualTableHeaderCell-headerCell-oq_lz",lastBook:"AuthorIndexHeader-lastBook-yCrK4 VirtualTableHeaderCell-headerCell-oq_lz",added:"AuthorIndexHeader-added-biNm4 VirtualTableHeaderCell-headerCell-oq_lz",genres:"AuthorIndexHeader-genres-mUH94 VirtualTableHeaderCell-headerCell-oq_lz",bookCount:"AuthorIndexHeader-bookCount-mXiYI VirtualTableHeaderCell-headerCell-oq_lz VirtualTableHeaderCell-headerCell-oq_lz",bookProgress:"AuthorIndexHeader-bookProgress-AP9Je VirtualTableHeaderCell-headerCell-oq_lz",latestBook:"AuthorIndexHeader-latestBook-NkRtH VirtualTableHeaderCell-headerCell-oq_lz",path:"AuthorIndexHeader-path-d8ZoO VirtualTableHeaderCell-headerCell-oq_lz",sizeOnDisk:"AuthorIndexHeader-sizeOnDisk-GSJ7S VirtualTableHeaderCell-headerCell-oq_lz",ratings:"AuthorIndexHeader-ratings-Bii8X VirtualTableHeaderCell-headerCell-oq_lz",tags:"AuthorIndexHeader-tags-BFndC VirtualTableHeaderCell-headerCell-oq_lz",useSceneNumbering:"AuthorIndexHeader-useSceneNumbering-Z3Exk VirtualTableHeaderCell-headerCell-oq_lz",actions:"AuthorIndexHeader-actions-n374Q VirtualTableHeaderCell-headerCell-oq_lz"};function GQ(){return GQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GQ.apply(null,arguments)}const KQ=(0,Wy.Ng)(void 0,(function(e,t){return{onTableOptionChange(t){e(kr(t))}}}))((function(e){const{showBanners:t,columns:n,onTableOptionChange:s,allSelected:o,allUnselected:a,onSelectAllChange:r,isEditorActive:i,...l}=e;return R.createElement(RQ,null,n.map((e=>{const{name:c,label:d,isSortable:u,isVisible:m}=e;return m?"select"===c?i?R.createElement(_Q,{key:c,allSelected:o,allUnselected:a,onSelectAllChange:r}):null:"actions"===c?R.createElement(jQ,GQ({key:c,className:WQ[c],name:c,isSortable:!1},l),R.createElement(Xk,{columns:n,optionsComponent:VQ,onTableOptionChange:s},R.createElement(Ek,{name:At}))):R.createElement(jQ,GQ({key:c,className:Fo()(WQ[c],"sortName"===c&&t&&WQ.banner,"sortName"===c&&t&&!QQ(n)&&WQ.bannerGrow),name:c,isSortable:u},l),d):null})))}));function $Q(){return $Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$Q.apply(null,arguments)}function YQ(e){return R.createElement(ZD,$Q({},e,{coverType:"banner",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPcAAAD3AQMAAAD7QlAQAAAABlBMVEUnJychISEIs8G4AAAEFklEQVRYw+2YMdPOQBDH95KQDEVSMKOj1FFQJx9BQc0nkeuUvoLS+AQ6MQqlRu8xCjpUgsjK7iXz2t1LMsbo8i/ey5vfc3e7m7tk9+DQoUOHDpGe3bu7hS8BwJ117BoAOLfOb/Hf62s4EY1VNrcPVvjNua1WuJ/b8xqoeR3sqFkllx8+AYAra9PniDg1ydr07cT7FQMy6k7ycQMKgJr5F4BrhvI9ZA3xCDU8fJggs9gBXJ35acX8lil74CPmO5w1xhwoIMVFMQcqKCfynH3soLLuEfkB4O5TBArDPZlH05ZkYMxBigyJDEyseylHFjjK4CzPyS4IE3gTgIxuAyulHzbG/as0PYsifM24X8/TA19Vxn2efjagNwFoHE2/GDAKpm86HE2AfMrmLQbqADnI2bzFQPv8y7NlM7naORU+uid+62X4xJg0V6PC1+KfvvSghWMgnh0cVIArCO694Ib+qWR4HQ257F9oRxu+L2FpzK3h7D5vPwqA5k1OPOwA4iaAOYWnZM4XPhPYT3eWDXriX4sHROjpskF7cC2eBHfUdVjeDw6/4Uk9oHqEz18DH9se8IvgCdQDBS/oLUxcPcB24mnAv+jfXvCMOdwI9jNXDxiJp9w9DCd4Afgdz96fF5GGk3xSCFBHw+gF4PAz9SQCwE7K5UGculJHGuTdKPun+IYHrafAUPfPKJdP4OhL7ErDuf9jfnXn6Gu6+Kj654EPKQIG7iu5PMLacGPO7Qf0EOMvx3LhhRh/5l+GOsahnPkw4Mw7sXzLedzxV+DvscsMZ8X51W0Olp/+5P7qIPlLPMEWP+3z5G94rXinuen/RWzAbe6g7hVvRX/DO8FdjMPB9+O3yD5fwf1fc72+/jcfN/cHRPZPJva/7q/27z9zlPyVfL9Abrgv/oW/Nvyx5vL9rbl5f78R/I3iTnP7fRH83QjVDpfCb4Kr71uxz1FzkN9nxfX32XKVHyj+BfweV/mJkM5Pdnkpsc6PfK64BynDM8lTiU1+l+LPP2iLUJj8sj5z3uaXgMPZFDY/rQDHs/rLTRxMfkwx4mX4hPLjaza/TgIfI/l1xvl5y/wT5+dSCd8rmXf8W2/qgx5S5rRYvAMlri+Ic2MKME9FCdQT/wJ8Ga1vSnzE+Z3l06REJi7qI1VfOXw0xusrCPVZ+6aP12dFqO/qN6d4fZeF+rB804X6sInXl/lrT1vBFtAu1KcuCfWpi9e33VLfJjZAS33ckvlZpH4uedu2nOcWhleiPr9peLFT32fyfGD7fMGBlf/jfCLZOd8oIrw6q4/o2jogzlc2z2fAW8w2nwvd3eqp0YXxCcdiS1HzRC8fw2ezJjvHVtn2tPbhqnOzTgNp1/kdv6pV7ig4RQOruuDBCax1+94dOHTo0KFDk34DoJynpPus3GIAAAAASUVORK5CYII="}))}YQ.defaultProps={size:70};const JQ=YQ;function XQ(e){const{className:t,children:n}=e;return R.createElement("div",{className:t},n)}XQ.defaultProps={className:"VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj"};const ZQ=XQ;function eW(){return eW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eW.apply(null,arguments)}class tW extends R.Component{constructor(...e){super(...e),this.onChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})}}render(){const{className:e,inputClassName:t,id:n,isSelected:s,isDisabled:o,...a}=this.props;return R.createElement(ZQ,eW({className:e},a),R.createElement(dk,{className:t,name:n.toString(),value:s,isDisabled:o,onChange:this.onChange}))}}tW.defaultProps={className:"VirtualTableSelectCell-cell-_Uhr3 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",inputClassName:"VirtualTableSelectCell-input-i2Qn8 CheckInput-input-VAM1T",isSelected:!1};const nW=tW,sW=function({tags:e,tagList:t}){const n=e.map((e=>t.find((t=>t.id===e)))).filter((e=>!!e)).sort(((e,t)=>e.label.localeCompare(t.label)));return R.createElement("div",{className:"TagList-tags-AT8ST"},n.map((e=>R.createElement(YO,{key:e.id,kind:to},e.label))))},oW=(0,Wy.Ng)((function(){return(0,Ky.Mz)(GN(),(e=>({tagList:e})))}))(sW),aW="AuthorStatusCell-statusIcon-Cq1wH";function rW(){return rW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rW.apply(null,arguments)}function iW(e){const{className:t,monitored:n,status:s,component:o,...a}=e,r=QU(s);return R.createElement(o,rW({className:t},a),R.createElement(Lo,{className:aW,name:n?Dn:bs,title:te(n?"MonitoredAuthorIsMonitored":"MonitoredAuthorIsUnmonitored")}),R.createElement(Lo,{className:aW,name:r.icon,title:`${r.title}: ${r.message}`}))}iW.defaultProps={className:"AuthorStatusCell-status-KOvSp TableRowCell-cell-giPrj",component:ak};const lW=iW,cW={cell:"AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",status:"AuthorIndexRow-status-jjiP1 AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",sortName:"AuthorIndexRow-sortName-f1DUh AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",banner:"AuthorIndexRow-banner-OnwsY",bannerGrow:"AuthorIndexRow-bannerGrow-oVWqs",link:"AuthorIndexRow-link-fRi93 Link-link-RInnp",bannerImage:"AuthorIndexRow-bannerImage-OZJ2J",overlayTitle:"AuthorIndexRow-overlayTitle-KAAvc",qualityProfileId:"AuthorIndexRow-qualityProfileId-_91J9 AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",metadataProfileId:"AuthorIndexRow-metadataProfileId-iCiJv AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",nextBook:"AuthorIndexRow-nextBook-lHRv1 AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",lastBook:"AuthorIndexRow-lastBook-e223F AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",added:"AuthorIndexRow-added-KVvZ7 AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",genres:"AuthorIndexRow-genres-dLwdP AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",bookProgress:"AuthorIndexRow-bookProgress-Qd8rs AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",path:"AuthorIndexRow-path-L64mg AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",sizeOnDisk:"AuthorIndexRow-sizeOnDisk-fR_hR AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",ratings:"AuthorIndexRow-ratings-XHuHq VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",tags:"AuthorIndexRow-tags-lMEEF AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",useSceneNumbering:"AuthorIndexRow-useSceneNumbering-R4yOI AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",actions:"AuthorIndexRow-actions-GcW3j AuthorIndexRow-cell-RIrau VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",checkInput:"AuthorIndexRow-checkInput-J8gGj CheckInput-input-VAM1T"};class dW extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onUseSceneNumberingChange=()=>{},this.onBannerLoad=()=>{this.state.hasBannerError&&this.setState({hasBannerError:!1})},this.onBannerLoadError=()=>{this.state.hasBannerError||this.setState({hasBannerError:!0})},this.state={hasBannerError:!1,isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1}}render(){const{id:e,monitored:t,status:n,authorName:s,authorNameLastFirst:o,titleSlug:a,qualityProfile:r,metadataProfile:i,nextBook:l,lastBook:c,added:d,statistics:u={},genres:m,ratings:h,path:p,tags:g,images:E,showBanners:f,showTitle:C,showSearchAction:v,columns:S,isRefreshingAuthor:b,isSearchingAuthor:P,isEditorActive:y,isSelected:M,onRefreshAuthorPress:I,onSearchPress:k,onSelectedChange:O}=this.props,{bookCount:w=0,availableBookCount:T=0,bookFileCount:N=0,totalBookCount:D=0,sizeOnDisk:A=0}=u,{hasBannerError:F,isEditAuthorModalOpen:x,isDeleteAuthorModalOpen:B}=this.state;return R.createElement(R.Fragment,null,S.map((u=>{const{name:x,isVisible:B}=u;if(!B)return null;if(y&&"select"===x)return R.createElement(nW,{inputClassName:cW.checkInput,id:e,key:x,isSelected:M,isDisabled:!1,onSelectedChange:O});if("status"===x)return R.createElement(lW,{key:x,className:cW[x],monitored:t,status:n,component:ZQ});if("sortName"===x)return R.createElement(ZQ,{key:x,className:Fo()(cW[x],f&&cW.banner,f&&!QQ(S)&&cW.bannerGrow)},f?R.createElement(IM,{className:cW.link,to:`/author/${a}`},R.createElement(JQ,{className:cW.bannerImage,images:E,lazy:!1,overflow:!0,onError:this.onBannerLoadError,onLoad:this.onBannerLoad}),F&&R.createElement("div",{className:cW.overlayTitle},"firstLast"===C?s:o)):R.createElement(rx,{titleSlug:a,authorName:"firstLast"===C?s:o}));var L,j;if("qualityProfileId"===x)return R.createElement(ZQ,{key:x,className:cW[x]},null!=(L=null==r?void 0:r.name)?L:"");if("metadataProfileId"===x)return R.createElement(ZQ,{key:x,className:cW[x]},null!=(j=null==i?void 0:i.name)?j:"");if("nextBook"===x)return l?R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(Gx,{title:l.title,disambiguation:l.disambiguation,titleSlug:l.titleSlug})):R.createElement(ZQ,{key:x,className:cW[x]},"None");if("lastBook"===x)return c?R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(Gx,{title:c.title,disambiguation:c.disambiguation,titleSlug:c.titleSlug})):R.createElement(ZQ,{key:x,className:cW[x]},"None");if("added"===x)return R.createElement(Px,{key:x,className:cW[x],date:d,component:ZQ});if("bookProgress"===x){const e=w?T/w*100:100;return R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(AR,{progress:e,kind:Nq(n,t,e),showText:!0,text:`${T} / ${w}`,title:te("AuthorProgressBarText",{bookCount:w,availableBookCount:T,bookFileCount:N,totalBookCount:D}),width:125}))}if("path"===x)return R.createElement(ZQ,{key:x,className:cW[x]},p);if("sizeOnDisk"===x)return R.createElement(ZQ,{key:x,className:cW[x]},FN(A));if("genres"===x){const e=m.join(", ");return R.createElement(ZQ,{key:x,className:cW[x]},R.createElement("span",{title:e},e))}return"ratings"===x?R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(GU,{rating:h.value})):"tags"===x?R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(oW,{tags:g})):"actions"===x?R.createElement(ZQ,{key:x,className:cW[x]},R.createElement(TR,{name:Gn,title:te("RefreshAuthor"),isSpinning:b,onPress:I}),v&&R.createElement(TR,{className:cW.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:P,onPress:k}),R.createElement(Ek,{name:cn,title:te("EditAuthor"),onPress:this.onEditAuthorPress})):null})),R.createElement(Hj,{isOpen:x,authorId:e,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:B,authorId:e,onModalClose:this.onDeleteAuthorModalClose}))}}dW.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0},genres:[],tags:[]};const uW=dW;class mW extends R.Component{constructor(e,t){super(e,t),this.rowRenderer=({key:e,rowIndex:t,style:n})=>{const{items:s,columns:o,selectedState:a,onSelectedChange:r,isEditorActive:i,showBanners:l,showTitle:c}=this.props,d=s[t];return R.createElement(xQ,{key:e,style:n},R.createElement(wq,{key:d.id,component:uW,style:n,columns:o,authorId:d.id,qualityProfileId:d.qualityProfileId,metadataProfileId:d.metadataProfileId,isSelected:a[d.id],onSelectedChange:r,isEditorActive:i,showBanners:l,showTitle:c}))},this.state={scrollIndex:null}}componentDidUpdate(e){const{items:t,sortKey:n,jumpToCharacter:s}=this.props;if(null!=s&&s!==e.jumpToCharacter){const e=Tq(t,n,s);null!=e&&this.setState({scrollIndex:e})}else null==s&&null!=e.jumpToCharacter&&this.setState({scrollIndex:null})}render(){const{items:e,columns:t,sortKey:n,sortDirection:s,showBanners:o,isSmallScreen:a,onSortPress:r,scroller:i,scrollTop:l,allSelected:c,allUnselected:d,onSelectAllChange:u,isEditorActive:m,selectedState:h}=this.props;return R.createElement(DQ,{className:"AuthorIndexTable-tableContainer-EUX6b VirtualTable-tableContainer-MHSuC",items:e,scrollIndex:this.state.scrollIndex,scrollTop:l,isSmallScreen:a,scroller:i,rowHeight:o?70:38,overscanRowCount:2,rowRenderer:this.rowRenderer,header:R.createElement(KQ,{showBanners:o,columns:t,sortKey:n,sortDirection:s,onSortPress:r,allSelected:c,allUnselected:d,onSelectAllChange:u,isEditorActive:m}),selectedState:h,columns:t,sortKey:n,sortDirection:s})}}const hW=mW,pW=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app.dimensions),(e=>e.authorIndex.tableOptions),(e=>e.authorIndex.columns),((e,t,n)=>({isSmallScreen:e.isSmallScreen,showBanners:t.showBanners,showTitle:t.showTitle,columns:n})))}),(function(e,t){return{onSortPress(t){e(yr({sortKey:t}))}}}))(hW),gW={pageContentBodyWrapper:"AuthorIndex-pageContentBodyWrapper-Sb_Sb",errorMessage:"AuthorIndex-errorMessage-Fqgwq",contentBody:"AuthorIndex-contentBody-zqpsu PageContentBody-contentBody-Hetrs",postersInnerContentBody:"AuthorIndex-postersInnerContentBody-VKi12 PageContentBody-innerContentBody-PtigL",bannersInnerContentBody:"AuthorIndex-bannersInnerContentBody-jUNEO PageContentBody-innerContentBody-PtigL",tableInnerContentBody:"AuthorIndex-tableInnerContentBody-YBTW5 PageContentBody-innerContentBody-PtigL",contentBodyContainer:"AuthorIndex-contentBodyContainer-lbc__"};function EW(){return EW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EW.apply(null,arguments)}class fW extends R.Component{constructor(e,t){super(e,t),this.setScrollerRef=e=>{this.setState({scroller:e})},this.getSelectedIds=()=>this.state.allUnselected?[]:gO(this.state.selectedState),this.onPosterOptionsPress=()=>{this.setState({isPosterOptionsModalOpen:!0})},this.onPosterOptionsModalClose=()=>{this.setState({isPosterOptionsModalOpen:!1})},this.onOverviewOptionsPress=()=>{this.setState({isOverviewOptionsModalOpen:!0})},this.onOverviewOptionsModalClose=()=>{this.setState({isOverviewOptionsModalOpen:!1})},this.onEditorTogglePress=()=>{if(this.state.isEditorActive)this.setState({isEditorActive:!1});else{const e=EO(this.state.selectedState,!1);e.isEditorActive=!0,this.setState(e)}},this.onJumpBarItemPress=e=>{this.setState({jumpToCharacter:e})},this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectAllPress=()=>{this.onSelectAllChange({value:!this.state.allSelected})},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onSaveSelected=e=>{this.props.onSaveSelected({authorIds:this.getSelectedIds(),...e})},this.onOrganizeAuthorPress=()=>{this.setState({isOrganizingAuthorModalOpen:!0})},this.onOrganizeAuthorModalClose=e=>{this.setState({isOrganizingAuthorModalOpen:!1}),!0===e&&this.onSelectAllChange({value:!1})},this.onRetagAuthorPress=()=>{this.setState({isRetaggingAuthorModalOpen:!0})},this.onRetagAuthorModalClose=e=>{this.setState({isRetaggingAuthorModalOpen:!1}),!0===e&&this.onSelectAllChange({value:!1})},this.onRefreshAuthorPress=()=>{const e=this.getSelectedIds(),t=this.state.isEditorActive&&e.length>0?e:[];this.props.onRefreshAuthorPress(t)},this.state={scroller:null,jumpBarItems:{order:[]},jumpToCharacter:null,isPosterOptionsModalOpen:!1,isOverviewOptionsModalOpen:!1,isEditorActive:!1,isOrganizingAuthorModalOpen:!1,isRetaggingAuthorModalOpen:!1,allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{}}}componentDidMount(){this.setJumpBarItems(),this.setSelectedState()}componentDidUpdate(e){const{items:t,sortKey:n,sortDirection:s}=this.props;(n!==e.sortKey||s!==e.sortDirection||EH(e.items,t))&&(this.setJumpBarItems(),this.setSelectedState()),null!=this.state.jumpToCharacter&&this.setState({jumpToCharacter:null})}setSelectedState(){const{items:e}=this.props,{selectedState:t}=this.state,n={};e.forEach((e=>{const s=t[e.id];n[e.id]=s||!1}));const s=gO(n).length,o=Object.keys(n).length;let a=!1,r=!1;0===s?r=!0:s===o&&(a=!0),this.setState({selectedState:n,allSelected:a,allUnselected:r})}setJumpBarItems(){const{items:e,sortKey:t,sortDirection:n}=this.props;if("sortName"!==t&&"sortNameLastFirst"!==t)return void this.setState({jumpBarItems:{order:[]}});const s=U().reduce(e,((e,n)=>{let s=n[t].charAt(0);return isNaN(s)||(s="#"),e[s]=s in e?e[s]+1:1,e}),{}),o=Object.keys(s).sort();n===So&&o.reverse();const a={characters:s,order:o};this.setState({jumpBarItems:a})}render(){const{isFetching:e,isPopulated:t,error:n,totalItems:s,items:o,columns:a,selectedFilterKey:r,filters:i,customFilters:l,sortKey:c,sortDirection:d,view:u,isRefreshingAuthor:m,isRssSyncExecuting:h,isOrganizingAuthor:p,isRetaggingAuthor:g,isSaving:E,saveError:f,isDeleting:C,deleteError:v,onScroll:S,onSortSelect:b,onFilterSelect:P,onViewSelect:y,onRssSyncPress:M,...I}=this.props,{scroller:k,jumpBarItems:O,jumpToCharacter:w,isPosterOptionsModalOpen:T,isOverviewOptionsModalOpen:N,isEditorActive:D,selectedState:A,allSelected:F,allUnselected:x}=this.state,B=this.getSelectedIds(),L=function(e){return"posters"===e?SQ:"overview"===e?Xq:pW}(u),j=!(n||!t||!o.length||!k),_=!s,z=D&&B.length>0?te("UpdateSelected"):te("UpdateAll");return R.createElement(FF,null,R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:z,iconName:Gn,spinningName:Gn,isSpinning:m,onPress:this.onRefreshAuthorPress}),R.createElement(jF,{label:te("RSSSync"),iconName:es,isSpinning:h,isDisabled:_,onPress:M}),R.createElement(SR,null),D?R.createElement(jF,{label:te("AuthorIndex"),iconName:as,isDisabled:_,onPress:this.onEditorTogglePress}):R.createElement(jF,{label:te("AuthorEditor"),iconName:cn,isDisabled:_,onPress:this.onEditorTogglePress}),D?R.createElement(jF,{label:te(F?"UnselectAll":"SelectAll"),iconName:Gt,isDisabled:_,onPress:this.onSelectAllPress}):null),R.createElement(YF,{alignContent:Qe,collapseButtons:!1},"table"===u?R.createElement(Xk,EW({},I,{columns:a,optionsComponent:VQ}),R.createElement(jF,{label:te("Options"),iconName:Es})):null,"posters"===u?R.createElement(jF,{label:te("Options"),iconName:qn,isDisabled:_,onPress:this.onPosterOptionsPress}):null,"overview"===u?R.createElement(jF,{label:te("Options"),iconName:Rn,isDisabled:_,onPress:this.onOverviewOptionsPress}):null,R.createElement(SR,null),R.createElement(Pq,{view:u,isDisabled:_,onViewSelect:y}),R.createElement(fq,{sortKey:c,sortDirection:d,isDisabled:_,onSortSelect:b}),R.createElement(dq,{selectedFilterKey:r,filters:i,customFilters:l,isDisabled:_,onFilterSelect:P}))),R.createElement("div",{className:gW.pageContentBodyWrapper},R.createElement(TF,{registerScroller:this.setScrollerRef,className:gW.contentBody,innerClassName:gW[`${u}InnerContentBody`],onScroll:S},e&&!t&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",{className:gW.errorMessage},Jy(n,"Failed to load author from API")),j&&R.createElement("div",{className:gW.contentBodyContainer},R.createElement(L,EW({scroller:k,items:o,filters:i,sortKey:c,sortDirection:d,jumpToCharacter:w,isEditorActive:D,allSelected:F,allUnselected:x,onSelectedChange:this.onSelectedChange,onSelectAllChange:this.onSelectAllChange,selectedState:A},I)),R.createElement(rq,null)),!n&&t&&!o.length&&R.createElement(JV,{totalItems:s})),j&&!!O.order.length&&R.createElement(nq,{items:O,onItemPress:this.onJumpBarItemPress})),j&&D&&R.createElement(zV,{authorIds:B,selectedCount:B.length,isSaving:E,saveError:f,isDeleting:C,deleteError:v,isOrganizingAuthor:p,isRetaggingAuthor:g,showMetadataProfile:!0,onSaveSelected:this.onSaveSelected,onOrganizeAuthorPress:this.onOrganizeAuthorPress,onRetagAuthorPress:this.onRetagAuthorPress}),R.createElement(OQ,{isOpen:T,onModalClose:this.onPosterOptionsModalClose}),R.createElement(aQ,{isOpen:N,onModalClose:this.onOverviewOptionsModalClose}),R.createElement(GV,{isOpen:this.state.isOrganizingAuthorModalOpen,authorIds:B,onModalClose:this.onOrganizeAuthorModalClose}),R.createElement(PV,{isOpen:this.state.isRetaggingAuthorModalOpen,authorIds:B,onModalClose:this.onRetagAuthorModalClose}))}}const CW=fW;function vW(){return vW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vW.apply(null,arguments)}class SW extends R.Component{constructor(...e){super(...e),this.onViewSelect=e=>{this.props.dispatchSetAuthorView(e)},this.onSaveSelected=e=>{this.props.dispatchSaveAuthorEditor(e)},this.onScroll=({scrollTop:e})=>{rV.authorIndex=e}}render(){return R.createElement(CW,vW({},this.props,{onViewSelect:this.onViewSelect,onScroll:this.onScroll,onSaveSelected:this.onSaveSelected}))}}const bW=lV((0,Wy.Ng)((function(){return(0,Ky.Mz)(dV("authorIndex"),kF(Yl),kF(ac),kF(ec),kF(nc),$y(),((e,t,n,s,o,a)=>({...e,isRefreshingAuthor:t,isRssSyncExecuting:n,isOrganizingAuthor:s,isRetaggingAuthor:o,isSmallScreen:a.isSmallScreen})))}),(function(e,t){return{onTableOptionChange(t){e(kr(t))},onSortSelect(t){e(yr({sortKey:t}))},onFilterSelect(t){e(Mr({selectedFilterKey:t}))},dispatchSetAuthorView(t){e(Ir({view:t}))},dispatchSaveAuthorEditor(t){e(Nr(t))},onRefreshAuthorPress(t){e(Mc({name:Yl,authorIds:t}))},onRssSyncPress(){e(Mc({name:ac}))}}}))(SW),"authorIndex"),PW="DeleteBookModalContent-deleteFilesMessage-J2Pm4";class yW extends R.Component{constructor(e,t){super(e,t),this.onDeleteFilesChange=({value:e})=>{this.setState({deleteFiles:e})},this.onAddImportListExclusionChange=({value:e})=>{this.setState({addImportListExclusion:e})},this.onDeleteBookConfirmed=()=>{const e=this.state.deleteFiles,t=this.state.addImportListExclusion;this.setState({deleteFiles:!1}),this.setState({addImportListExclusion:!1}),this.props.onDeletePress(e,t)},this.state={deleteFiles:!1,addImportListExclusion:!0}}render(){const{title:e,statistics:t,onModalClose:n}=this.props,{bookFileCount:s,sizeOnDisk:o}=t,a=this.state.deleteFiles,r=this.state.addImportListExclusion,i=`Delete ${s} Book Files`;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Delete - ",e),R.createElement(BM,null,R.createElement(AI,null,R.createElement(Mk,null,i),R.createElement(ED,{type:ws,name:"deleteFiles",value:a,helpText:"Delete the book files",kind:Xs,onChange:this.onDeleteFilesChange})),R.createElement(AI,null,R.createElement(Mk,null,te("AddListExclusion")),R.createElement(ED,{type:ws,name:"addImportListExclusion",value:r,helpText:te("AddImportListExclusionHelpText"),kind:Xs,onChange:this.onAddImportListExclusionChange})),!r&&R.createElement("div",{className:PW},R.createElement("div",null,te("IfYouDontAddAnImportListExclusionAndTheAuthorHasAMetadataProfileOtherThanNoneThenThisBookMayBeReaddedDuringTheNextAuthorRefresh"))),a&&R.createElement("div",{className:PW},R.createElement("div",null,te("TheBooksFilesWillBeDeleted")),!!s&&R.createElement("div",null,s," book files totaling ",FN(o)))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Close"),R.createElement(TM,{kind:Xs,onPress:this.onDeleteBookConfirmed},"Delete")))}}yW.defaultProps={statistics:{bookFileCount:0}};const MW=yW;function IW(){return IW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},IW.apply(null,arguments)}const kW={push:QD.VC,deleteBook:fa};class OW extends R.Component{constructor(...e){super(...e),this.onDeletePress=(e,t)=>{this.props.deleteBook({id:this.props.bookId,deleteFiles:e,addImportListExclusion:t}),this.props.onModalClose(!0),this.props.push(`${window.Researcharr.urlBase}/author/${this.props.authorSlug}`)}}render(){return R.createElement(MW,IW({},this.props,{onDeletePress:this.onDeletePress}))}}const wW=(0,Wy.Ng)((function(){return(0,Ky.Mz)(Wx(),(e=>e))}),kW)(OW);function TW(){return TW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TW.apply(null,arguments)}const NW=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,size:go,onModalClose:n},R.createElement(wW,TW({},s,{onModalClose:n})))};function DW(){return DW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DW.apply(null,arguments)}class AW extends R.Component{constructor(...e){super(...e),this.onSavePress=()=>{const{onSavePress:e}=this.props;e(!1)}}render(){const{title:e,authorName:t,statistics:n,item:s,isFetching:o,isPopulated:a,error:r,isSaving:i,onInputChange:l,onModalClose:c,...d}=this.props,{monitored:u,anyEditionOk:m,editions:h}=s,p=!!n&&n.bookFileCount>0,g=Jy(r,"Unable to load editions");return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,"Edit - ",t," - ",e),R.createElement(BM,null,R.createElement(Sk,d,R.createElement(AI,null,R.createElement(Mk,null,te("Monitored")),R.createElement(ED,DW({type:ws,name:"monitored",helpText:te("MonitoredHelpText")},u,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("AutomaticallySwitchEdition")),R.createElement(ED,DW({type:ws,name:"anyEditionOk",helpText:te("AnyEditionOkHelpText")},m,{onChange:l}))),o&&R.createElement(tM,null),r&&R.createElement("div",null,g),a&&!o&&!!h.value.length&&R.createElement(AI,null,R.createElement(Mk,null,te("Edition")),R.createElement(ED,{type:_s,name:"editions",helpText:te("EditionsHelpText"),isDisabled:m.value&&p,bookEditions:h,onChange:l})))),R.createElement(HM,null,R.createElement(TM,{onPress:c},"Cancel"),R.createElement(AO,{isSpinning:i,onPress:this.onSavePress},"Save")))}}const FW=AW;function xW(){return xW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xW.apply(null,arguments)}const RW={dispatchSetBookValue:va,dispatchSaveBook:Ea,dispatchSaveEditions:zd};class BW extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetBookValue({name:e,value:t})},this.onSavePress=()=>{this.props.dispatchSaveBook({id:this.props.bookId}),this.props.dispatchSaveEditions({id:this.props.bookId})}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(FW,xW({},this.props,{onInputChange:this.onInputChange,onSavePress:this.onSavePress}))}}const LW=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.books),(e=>e.editions),Wx(),ox(),((e,t,n,s)=>{const{isSaving:o,saveError:a,pendingChanges:r}=e,{isFetching:i,isPopulated:l,error:c}=t,d=U().pick(n,["monitored","anyEditionOk"]);d.editions=t.items;const u=PI(d,r,a);return{title:n.title,authorName:s.authorName,bookType:n.bookType,statistics:n.statistics,isFetching:i,isPopulated:l,error:c,isSaving:o,saveError:a,item:u.settings,...u}}))}),RW)(BW);function jW(){return jW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jW.apply(null,arguments)}const _W=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(LW,jW({},n,{onModalClose:t})))};function zW(){return zW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zW.apply(null,arguments)}const UW={clearPendingChanges:he};class HW extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"books"}),this.props.onModalClose()}}render(){return R.createElement(_W,zW({},this.props,{onModalClose:this.onModalClose}))}}const VW=(0,Wy.Ng)(void 0,UW)(HW);function qW(){return qW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qW.apply(null,arguments)}function QW(e){return R.createElement(ZD,qW({},e,{coverType:"cover",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPcAAAD3AQMAAAD7QlAQAAAABlBMVEUnJychISEIs8G4AAAEFklEQVRYw+2YMdPOQBDH95KQDEVSMKOj1FFQJx9BQc0nkeuUvoLS+AQ6MQqlRu8xCjpUgsjK7iXz2t1LMsbo8i/ey5vfc3e7m7tk9+DQoUOHDpGe3bu7hS8BwJ117BoAOLfOb/Hf62s4EY1VNrcPVvjNua1WuJ/b8xqoeR3sqFkllx8+AYAra9PniDg1ydr07cT7FQMy6k7ycQMKgJr5F4BrhvI9ZA3xCDU8fJggs9gBXJ35acX8lil74CPmO5w1xhwoIMVFMQcqKCfynH3soLLuEfkB4O5TBArDPZlH05ZkYMxBigyJDEyseylHFjjK4CzPyS4IE3gTgIxuAyulHzbG/as0PYsifM24X8/TA19Vxn2efjagNwFoHE2/GDAKpm86HE2AfMrmLQbqADnI2bzFQPv8y7NlM7naORU+uid+62X4xJg0V6PC1+KfvvSghWMgnh0cVIArCO694Ib+qWR4HQ257F9oRxu+L2FpzK3h7D5vPwqA5k1OPOwA4iaAOYWnZM4XPhPYT3eWDXriX4sHROjpskF7cC2eBHfUdVjeDw6/4Uk9oHqEz18DH9se8IvgCdQDBS/oLUxcPcB24mnAv+jfXvCMOdwI9jNXDxiJp9w9DCd4Afgdz96fF5GGk3xSCFBHw+gF4PAz9SQCwE7K5UGculJHGuTdKPun+IYHrafAUPfPKJdP4OhL7ErDuf9jfnXn6Gu6+Kj654EPKQIG7iu5PMLacGPO7Qf0EOMvx3LhhRh/5l+GOsahnPkw4Mw7sXzLedzxV+DvscsMZ8X51W0Olp/+5P7qIPlLPMEWP+3z5G94rXinuen/RWzAbe6g7hVvRX/DO8FdjMPB9+O3yD5fwf1fc72+/jcfN/cHRPZPJva/7q/27z9zlPyVfL9Abrgv/oW/Nvyx5vL9rbl5f78R/I3iTnP7fRH83QjVDpfCb4Kr71uxz1FzkN9nxfX32XKVHyj+BfweV/mJkM5Pdnkpsc6PfK64BynDM8lTiU1+l+LPP2iLUJj8sj5z3uaXgMPZFDY/rQDHs/rLTRxMfkwx4mX4hPLjaza/TgIfI/l1xvl5y/wT5+dSCd8rmXf8W2/qgx5S5rRYvAMlri+Ic2MKME9FCdQT/wJ8Ga1vSnzE+Z3l06REJi7qI1VfOXw0xusrCPVZ+6aP12dFqO/qN6d4fZeF+rB804X6sInXl/lrT1vBFtAu1KcuCfWpi9e33VLfJjZAS33ckvlZpH4uedu2nOcWhleiPr9peLFT32fyfGD7fMGBlf/jfCLZOd8oIrw6q4/o2jogzlc2z2fAW8w2nwvd3eqp0YXxCcdiS1HzRC8fw2ezJjvHVtn2tPbhqnOzTgNp1/kdv6pV7ig4RQOruuDBCax1+94dOHTo0KFDk34DoJynpPus3GIAAAAASUVORK5CYII="}))}QW.defaultProps={size:250};const WW=QW,GW=function(e){const{links:t}=e;return R.createElement("div",{className:"BookDetailsLinks-links-hZCX6"},t.map(((e,t)=>R.createElement("span",{key:t},R.createElement(IM,{className:"BookDetailsLinks-link-ILMfJ",to:e.url,key:t},R.createElement(YO,{className:"BookDetailsLinks-linkLabel-uyXSi Label-label-DYldh",kind:to,size:Eo},e.name)),t>0&&t%5==0&&R.createElement("br",null)))))},KW={header:"BookDetailsHeader-header-alkIC",backdrop:"BookDetailsHeader-backdrop-CrWkj",backdropOverlay:"BookDetailsHeader-backdropOverlay-qX_0B",headerContent:"BookDetailsHeader-headerContent-k_WPC",cover:"BookDetailsHeader-cover-wxaQn",info:"BookDetailsHeader-info-ZsAtZ",titleRow:"BookDetailsHeader-titleRow-nURbT",titleContainer:"BookDetailsHeader-titleContainer-z6rWN",title:"BookDetailsHeader-title-lrdde",toggleMonitoredContainer:"BookDetailsHeader-toggleMonitoredContainer-lx77U",monitorToggleButton:"BookDetailsHeader-monitorToggleButton-f67_7 MonitorToggleButton-toggleButton-fG17x IconButton-button-t4C5V Link-link-RInnp",alternateTitlesIconContainer:"BookDetailsHeader-alternateTitlesIconContainer-XJ6AK",details:"BookDetailsHeader-details-HWFMt",authorLink:"BookDetailsHeader-authorLink-iFNjq Link-link-RInnp",duration:"BookDetailsHeader-duration-Yy94G",detailsLabel:"BookDetailsHeader-detailsLabel-J9m28 Label-label-DYldh",sizeOnDisk:"BookDetailsHeader-sizeOnDisk-mNRTO",qualityProfileName:"BookDetailsHeader-qualityProfileName-JngUd",links:"BookDetailsHeader-links-mSWdr",tags:"BookDetailsHeader-tags-rKs7s",overview:"BookDetailsHeader-overview-Mg45A"},$W=parseInt(sH().defaultFontSize),YW=parseFloat(sH().lineHeight);class JW extends R.Component{constructor(e){super(e),this.onOverviewMeasure=({height:e})=>{this.setState({overviewHeight:e})},this.onTitleMeasure=({width:e})=>{this.setState({titleWidth:e})},this.state={overviewHeight:0,titleWidth:0}}render(){const{width:e,titleSlug:t,title:n,seriesTitle:s,pageCount:o,overview:a,statistics:r={},monitored:i,releaseDate:l,ratings:c,images:d,links:u,isSaving:m,shortDateFormat:h,author:p,isSmallScreen:g,onMonitorTogglePress:E}=this.props,{overviewHeight:f,titleWidth:C}=this.state,v=function(e){var t;return null==(t=e.find((e=>"fanart"===e.coverType)))?void 0:t.url}(p.images),S=C-(g?85:160);return R.createElement("div",{className:KW.header,style:{width:e}},R.createElement("div",{className:KW.backdrop,style:v?{backgroundImage:`url(${v})`}:null},R.createElement("div",{className:KW.backdropOverlay})),R.createElement("div",{className:KW.headerContent},R.createElement(WW,{className:KW.cover,images:d,size:250,lazy:!1}),R.createElement("div",{className:KW.info},R.createElement(hw,{className:KW.titleRow,onMeasure:this.onTitleMeasure},R.createElement("div",{className:KW.titleContainer},R.createElement("div",{className:KW.toggleMonitoredContainer},R.createElement(ZU,{className:KW.monitorToggleButton,monitored:i,isSaving:m,size:g?30:40,onPress:E})),R.createElement("div",{className:KW.title,style:{width:S}},R.createElement($U,{text:n})))),R.createElement("div",{className:KW.details},R.createElement("div",null,s),R.createElement("div",null,R.createElement(rx,{className:KW.authorLink,titleSlug:p.titleSlug,authorName:p.authorName}),!!o&&R.createElement("span",{className:KW.duration},`${o} pages`),R.createElement(GU,{rating:c.value,iconSize:20}))),R.createElement("div",{className:KW.detailsLabels},l&&R.createElement(YO,{className:KW.detailsLabel,size:Eo},R.createElement(Lo,{name:Ut,size:17}),R.createElement("span",{className:KW.sizeOnDisk},ko()(l).format(h))),R.createElement(YO,{className:KW.detailsLabel,size:Eo},R.createElement(Lo,{name:ln,size:17}),R.createElement("span",{className:KW.sizeOnDisk},FN(r.sizeOnDisk))),R.createElement(YO,{className:KW.detailsLabel,size:Eo},R.createElement(Lo,{name:i?Dn:bs,size:17}),R.createElement("span",{className:KW.qualityProfileName},i?"Monitored":"Unmonitored")),R.createElement(fN,{anchor:R.createElement(YO,{className:KW.detailsLabel,size:Eo},R.createElement(Lo,{name:pn,size:17}),R.createElement("span",{className:KW.links},"Links")),tooltip:R.createElement(GW,{titleSlug:t,links:u}),kind:no,position:yo})),R.createElement(hw,{onMeasure:this.onOverviewMeasure,className:KW.overview},R.createElement(qU(),{line:Math.floor(f/($W*YW)),text:bL(a)})))))}}JW.defaultProps={isSaving:!1};const XW=JW;function ZW(){return ZW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZW.apply(null,arguments)}const eG=(0,Ky.Mz)((e=>e.editions),(e=>{const t=e.items.find((e=>!0===e.monitored));return null==t?void 0:t.overview})),tG={toggleBooksMonitored:ga};class nG extends R.Component{constructor(...e){super(...e),this.onMonitorTogglePress=e=>{this.props.toggleBooksMonitored({bookIds:[this.props.bookId],monitored:e})}}render(){return R.createElement(XW,ZW({},this.props,{onMonitorTogglePress:this.onMonitorTogglePress}))}}const sG=(0,Wy.Ng)((function(){return(0,Ky.Mz)(Wx(),eG,mx(),$y(),((e,t,n,s)=>({...e,overview:t,shortDateFormat:n.shortDateFormat,isSmallScreen:s.isSmallScreen})))}),tG)(nG),oG={innerContentBody:"BookDetails-innerContentBody-y72cK",contentContainer:"BookDetails-contentContainer-NwZ5Q",tabList:"BookDetails-tabList-uL9pf",tab:"BookDetails-tab-EuLZG",selectedTab:"BookDetails-selectedTab-ydhn4",tabContent:"BookDetails-tabContent-DYSoo",filterIcon:"BookDetails-filterIcon-izV6b",bookNavigationButtons:"BookDetails-bookNavigationButtons-ZcACq",bookUpButton:"BookDetails-bookUpButton-u1Zoe IconButton-button-t4C5V Link-link-RInnp",bookNavigationButton:"BookDetails-bookNavigationButton-EGRgO IconButton-button-t4C5V Link-link-RInnp"};class aG extends R.Component{constructor(e,t){super(e,t),this.onOrganizePress=()=>{this.setState({isOrganizeModalOpen:!0})},this.onOrganizeModalClose=()=>{this.setState({isOrganizeModalOpen:!1})},this.onRetagPress=()=>{this.setState({isRetagModalOpen:!0})},this.onRetagModalClose=()=>{this.setState({isRetagModalOpen:!1})},this.onEditBookPress=()=>{this.setState({isEditBookModalOpen:!0})},this.onEditBookModalClose=()=>{this.setState({isEditBookModalOpen:!1})},this.onDeleteBookPress=()=>{this.setState({isEditBookModalOpen:!1,isDeleteBookModalOpen:!0})},this.onDeleteBookModalClose=()=>{this.setState({isDeleteBookModalOpen:!1})},this.onTabSelect=(e,t)=>{this.setState({selectedTabIndex:e})},this.state={isOrganizeModalOpen:!1,isRetagModalOpen:!1,isEditBookModalOpen:!1,isDeleteBookModalOpen:!1,selectedTabIndex:0}}render(){const{id:e,title:t,isRefreshing:n,isFetching:s,isPopulated:o,bookFilesError:a,hasBookFiles:r,author:i,previousBook:l,nextBook:c,isSearching:d,onRefreshPress:u,onSearchPress:m,statistics:h={}}=this.props,{bookFileCount:p=0}=h,{isOrganizeModalOpen:g,isRetagModalOpen:E,isEditBookModalOpen:f,isDeleteBookModalOpen:C,selectedTabIndex:v}=this.state;return R.createElement(FF,{title:t},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("Refresh"),iconName:Gn,spinningName:Gn,title:te("RefreshInformation"),isSpinning:n,onPress:u}),R.createElement(jF,{label:te("SearchBook"),iconName:os,isSpinning:d,onPress:m}),R.createElement(SR,null),R.createElement(jF,{label:te("PreviewRename"),iconName:Fn,isDisabled:!r,onPress:this.onOrganizePress}),R.createElement(jF,{label:te("PreviewRetag"),iconName:Zn,isDisabled:!r,onPress:this.onRetagPress}),R.createElement(SR,null),R.createElement(jF,{label:te("Edit"),iconName:cn,onPress:this.onEditBookPress}),R.createElement(jF,{label:te("Delete"),iconName:sn,onPress:this.onDeleteBookPress}))),R.createElement(TF,{innerClassName:oG.innerContentBody},R.createElement(Q_,{className:oG.header,nextLink:`/book/${c.titleSlug}`,nextComponent:e=>R.createElement(sG,{bookId:c.id,author:i,width:e}),prevLink:`/book/${l.titleSlug}`,prevComponent:e=>R.createElement(sG,{bookId:l.id,author:i,width:e}),currentComponent:t=>R.createElement(sG,{bookId:e,author:i,width:t})},R.createElement("div",{className:oG.bookNavigationButtons},R.createElement(Ek,{className:oG.bookNavigationButton,name:Ft,size:30,title:te("GoToInterp",[l.title]),to:`/book/${l.titleSlug}`}),R.createElement(Ek,{className:oG.bookUpButton,name:Bt,size:30,title:te("GoToInterp",[i.authorName]),to:`/author/${i.titleSlug}`}),R.createElement(Ek,{className:oG.bookNavigationButton,name:xt,size:30,title:te("GoToInterp",[c.title]),to:`/book/${c.titleSlug}`}))),R.createElement("div",{className:oG.contentContainer},!o&&!a&&R.createElement(tM,null),!s&&a&&R.createElement("div",null,te("LoadingBookFilesFailed")),R.createElement(vj.tU,{selectedIndex:this.state.tabIndex,onSelect:this.onTabSelect},R.createElement(vj.wb,{className:oG.tabList},R.createElement(vj.oz,{className:oG.tab,selectedClassName:oG.selectedTab},te("History")),R.createElement(vj.oz,{className:oG.tab,selectedClassName:oG.selectedTab},te("Search")),R.createElement(vj.oz,{className:oG.tab,selectedClassName:oG.selectedTab},te("FilesTotal",[p])),1===v&&R.createElement("div",{className:oG.filterIcon},R.createElement(Kz,{type:"book"}))),R.createElement(vj.Kp,null,R.createElement(o_,{authorId:i.id,bookId:e})),R.createElement(vj.Kp,null,R.createElement(iU,{bookId:e,type:"book"})),R.createElement(vj.Kp,null,R.createElement(z_,{authorId:i.id,bookId:e})))),R.createElement(PU,{isOpen:g,authorId:i.id,bookId:e,onModalClose:this.onOrganizeModalClose}),R.createElement(HU,{isOpen:E,authorId:i.id,bookId:e,onModalClose:this.onRetagModalClose}),R.createElement(VW,{isOpen:f,bookId:e,authorId:i.id,onModalClose:this.onEditBookModalClose,onDeleteAuthorPress:this.onDeleteBookPress}),R.createElement(NW,{isOpen:C,bookId:e,authorSlug:i.titleSlug,onModalClose:this.onDeleteBookModalClose})))}}aG.defaultProps={isSaving:!1};const rG=aG;function iG(){return iG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iG.apply(null,arguments)}const lG=(0,Ky.Mz)((e=>e.bookFiles),(e=>{const{items:t,isFetching:n,isPopulated:s,error:o}=e;return{isBookFilesFetching:n,isBookFilesPopulated:s,bookFilesError:o,hasBookFiles:!!t.length}})),cG={executeCommand:Mc,fetchBookFiles:xi,clearBookFiles:zi,fetchEditions:jd,clearEditions:_d,clearReleases:Gh,cancelFetchReleases:Qh,toggleBooksMonitored:ga};function dG(e){return U().map(U().filter(e.editions,{monitored:!0}),"id").sort()}class uG extends R.Component{constructor(...e){super(...e),this.populate=()=>{const e=this.props.id;this.props.fetchBookFiles({bookId:e}),this.props.fetchEditions({bookId:e})},this.unpopulate=()=>{this.props.cancelFetchReleases(),this.props.clearReleases(),this.props.clearBookFiles(),this.props.clearEditions()},this.onMonitorTogglePress=e=>{this.props.toggleBooksMonitored({bookIds:[this.props.id],monitored:e})},this.onRefreshPress=()=>{this.props.executeCommand({name:Jl,bookId:this.props.id})},this.onSearchPress=()=>{this.props.executeCommand({name:Gl,bookIds:[this.props.id]})}}componentDidMount(){mI(this.populate),this.populate()}componentDidUpdate(e){const{id:t,anyReleaseOk:n,isRenamingFiles:s,isRenamingAuthor:o}=this.props;(e.isRenamingFiles&&!s||e.isRenamingAuthor&&!o||!U().isEqual(dG(e),dG(this.props))||!1===e.anyReleaseOk&&!0===n)&&(this.unpopulate(),this.populate()),e.id!==t&&(this.unpopulate(),this.populate())}componentWillUnmount(){hI(this.populate),this.unpopulate()}render(){return R.createElement(rG,iG({},this.props,{onMonitorTogglePress:this.onMonitorTogglePress,onRefreshPress:this.onRefreshPress,onSearchPress:this.onSearchPress}))}}const mG=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{titleSlug:t})=>t),lG,(e=>e.books),(e=>e.editions),WD(),IF(),mx(),$y(),((e,t,n,s,o,a,r,i)=>{const l=n.items.find((t=>t.titleSlug===e)),c=o.find((e=>e.id===l.authorId)),d=n.items.filter((e=>e.authorId===l.authorId));d.sort(((e,t)=>e.releaseDate>t.releaseDate?1:-1));const u=d.findIndex((e=>e.id===l.id));if(!l)return{};const{isBookFilesFetching:m,isBookFilesPopulated:h,bookFilesError:p,hasBookFiles:g}=t,E=d[u-1]||U().last(d),f=d[u+1]||U().first(d),C=lc(a,{name:Jl}),v=cc(C)&&C.body.bookId===l.id,S=lc(a,{name:Gl}),b=cc(S)&&S.body.bookIds.indexOf(l.id)>-1,P=cc(lc(a,{name:Zl,authorId:c.id})),y=lc(a,{name:ec}),M=cc(y)&&y.body.authorIds.indexOf(c.id)>-1,I=m||s.isFetching,k=h&&s.isPopulated;return{...l,shortDateFormat:r.shortDateFormat,author:c,isRefreshing:v,isSearching:b,isRenamingFiles:P,isRenamingAuthor:M,isFetching:I,isPopulated:k,bookFilesError:p,hasBookFiles:g,previousBook:E,nextBook:f,isSmallScreen:i.isSmallScreen}}))}),cG)(uG),hG={push:QD.VC};class pG extends R.Component{constructor(e){super(e),this.populate=()=>{this.setState({hasMounted:!0})},this.state={hasMounted:!1}}componentDidMount(){this.populate()}render(){const{titleSlug:e,isFetching:t,isPopulated:n}=this.props;return e?t||!this.state.hasMounted||!t&&!n?R.createElement(FF,{title:te("Loading")},R.createElement(TF,null,R.createElement(tM,null))):!t&&n&&this.state.hasMounted?R.createElement(mG,{titleSlug:e}):void 0:R.createElement(Cj,{message:te("SorryThatBookCannotBeFound")})}}const gG=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{match:t})=>t),(e=>e.books),(e=>e.authors),((e,t,n)=>{const s=e.params.titleSlug,o=t.isFetching||n.isFetching,a=t.isPopulated&&n.isPopulated;return!o&&a&&-1===U().findIndex(t.items,{titleSlug:s})?{isFetching:o,isPopulated:a}:{titleSlug:s,isFetching:o,isPopulated:a}}))}),hG)(pG),EG=(0,Ky.Ad)(GD.UI,(function(e,t){return EH(e,t)})),fG=function(e){return EG(function(e){return(0,Ky.Mz)(function(e){return(0,Ky.Mz)((e=>U().get(e,"books")),(e=>U().get(e,"authors")),(t=>U().get(t,e)),KR("books",e),((e,t,n={},s)=>{const o=Object.assign({},e,n,{customFilters:s}),a=o.items;for(const e of a)e.author=t.items[t.itemMap[e.authorId]];const r=QR(a,o),i=GR(r,o);return{...e,...n,customFilters:s,items:i,totalItems:o.items.length}}))}(e),(e=>{const t=e.items.map((e=>{const{id:t,title:n,authorTitle:s}=e;return{id:t,title:n,authorTitle:s}}));return{...e,items:t}}))}(e),(e=>e))},CG="BookIndexFooter-legendItem-F6Sye";class vG extends R.PureComponent{render(){const{book:e}=this.props,t=e.length;let n=0,s=0,o=0,a=0;const r=new Set;return e.forEach((e=>{r.add(e.authorId);const{statistics:t={}}=e,{bookCount:i=0,bookFileCount:l=0,sizeOnDisk:c=0}=t;n+=i,s+=l,e.monitored&&o++,a+=c})),R.createElement(rI,null,(e=>R.createElement("div",{className:"BookIndexFooter-footer-FNgej"},R.createElement("div",null,R.createElement("div",{className:CG},R.createElement("div",{className:Fo()("BookIndexFooter-continuing-mOtXq BookIndexFooter-legendItemColor-PeVLd",e&&"colorImpaired")}),R.createElement("div",null,te("ContinuingAllBooksDownloaded"))),R.createElement("div",{className:CG},R.createElement("div",{className:Fo()("BookIndexFooter-ended-HQhpX BookIndexFooter-legendItemColor-PeVLd",e&&"colorImpaired")}),R.createElement("div",null,te("EndedAllBooksDownloaded"))),R.createElement("div",{className:CG},R.createElement("div",{className:Fo()("BookIndexFooter-missingMonitored-pcGbS BookIndexFooter-legendItemColor-PeVLd",e&&"colorImpaired")}),R.createElement("div",null,te("MissingBooksAuthorMonitored"))),R.createElement("div",{className:CG},R.createElement("div",{className:Fo()("BookIndexFooter-missingUnmonitored-naBRR BookIndexFooter-legendItemColor-PeVLd",e&&"colorImpaired")}),R.createElement("div",null,te("MissingBooksAuthorNotMonitored")))),R.createElement("div",{className:"BookIndexFooter-statistics-I0BAj"},R.createElement(sN,null,R.createElement(cN,{title:te("Monitored"),data:o}),R.createElement(cN,{title:te("Unmonitored"),data:t-o})),R.createElement(sN,null,R.createElement(cN,{title:te("Authors"),data:r.size}),R.createElement(cN,{title:te("Books"),data:n}),R.createElement(cN,{title:te("Files"),data:s})),R.createElement(sN,null,R.createElement(cN,{title:te("TotalFileSize"),data:FN(a)}))))))}}const SG=vG;const bG=(0,Wy.Ng)((function(){return(0,Ky.Mz)(KD((0,Ky.Mz)($R("books","bookIndex"),(e=>e.items.map((e=>{const{authorId:t,monitored:n,status:s,statistics:o}=e;return{authorId:t,monitored:n,status:s,statistics:o}})))),(e=>e)),(e=>({book:e})))}))(SG),PG={dispatchSetFilter:hl},yG=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.books.items),(e=>e.bookIndex.filterBuilderProps),((e,t)=>({sectionItems:e,filterBuilderProps:t,customFilterType:"bookIndex"})))}),PG)(qz);function MG(e){const{selectedFilterKey:t,filters:n,customFilters:s,isDisabled:o,onFilterSelect:a}=e;return R.createElement(Qx,{alignMenu:Qe,isDisabled:o,selectedFilterKey:t,filters:n,customFilters:s,filterModalConnectorComponent:yG,onFilterSelect:a})}MG.defaultProps={showCustomFilters:!1};const IG=MG,kG=function(e){const{sortKey:t,sortDirection:n,isDisabled:s,onSortSelect:o}=e;return R.createElement(hq,{isDisabled:s,alignMenu:Qe},R.createElement(yA,null,R.createElement(Eq,{name:"status",sortKey:t,sortDirection:n,onPress:o},"Monitored/Status"),R.createElement(Eq,{name:"title",sortKey:t,sortDirection:n,onPress:o},"Title"),R.createElement(Eq,{name:"authorTitle",sortKey:t,sortDirection:n,onPress:o},"Author, Title"),R.createElement(Eq,{name:"releaseDate",sortKey:t,sortDirection:n,onPress:o},"Release Date"),R.createElement(Eq,{name:"qualityProfileId",sortKey:t,sortDirection:n,onPress:o},"Quality Profile"),R.createElement(Eq,{name:"added",sortKey:t,sortDirection:n,onPress:o},"Added"),R.createElement(Eq,{name:"bookFileCount",sortKey:t,sortDirection:n,onPress:o},"Files"),R.createElement(Eq,{name:"path",sortKey:t,sortDirection:n,onPress:o},"Path"),R.createElement(Eq,{name:"sizeOnDisk",sortKey:t,sortDirection:n,onPress:o},"Size on Disk")))},OG=function(e){const{view:t,isDisabled:n,onViewSelect:s}=e;return R.createElement(vq,{isDisabled:n,alignMenu:Qe},R.createElement(yA,null,R.createElement(bq,{name:"table",selectedView:t,onPress:s},"Table"),R.createElement(bq,{name:"posters",selectedView:t,onPress:s},"Posters"),R.createElement(bq,{name:"overview",selectedView:t,onPress:s},"Overview")))},wG=function(){return(0,Ky.Mz)(Wx(),(e=>e.authors.itemMap),(e=>e.authors.items),((e,t,n)=>n[t[e.authorId]]))};function TG(){return TG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TG.apply(null,arguments)}const NG={dispatchExecuteCommand:Mc};class DG extends R.Component{constructor(...e){super(...e),this.onRefreshBookPress=()=>{this.props.dispatchExecuteCommand({name:Jl,bookId:this.props.id})},this.onSearchPress=()=>{this.props.dispatchExecuteCommand({name:Gl,bookIds:[this.props.id]})}}render(){const{id:e,component:t,...n}=this.props;return e?R.createElement(t,TG({},n,{id:e,onRefreshBookPress:this.onRefreshBookPress,onSearchPress:this.onSearchPress})):null}}const AG=(0,Wy.Ng)((function(){return(0,Ky.Mz)(Wx(),wG(),(0,Ky.Mz)((e=>e.settings.qualityProfiles.items),wG(),((e,t)=>t?e.find((e=>e.id===t.qualityProfileId)):{})),(0,Ky.Mz)((e=>e.bookIndex),(e=>{switch(e.view){case"posters":return e.posterOptions.showSearchAction;case"banners":return e.bannerOptions.showSearchAction;case"overview":return e.overviewOptions.showSearchAction;default:return e.tableOptions.showSearchAction}})),Mq(),((e,t,n,s,o)=>{if(!e)return{};const a=o.some((t=>t.name===$l&&t.body.authorId===e.authorId||t.name===Jl&&t.body.bookId===e.id)),r=o.some((t=>t.name===rc&&t.body.authorId===e.authorId||t.name===Gl&&t.body.bookIds.includes(e.id)));return{...e,author:t,qualityProfile:n,showSearchAction:s,isRefreshingBook:a,isSearchingBook:r}}))}),NG)(DG),FG=function(e){const{monitored:t,bookCount:n,bookFileCount:s,totalBookCount:o,posterWidth:a,detailedProgressBar:r}=e,i=s&&n?o/n*100:0,l=`${s?n:0} / ${o}`;return R.createElement(AR,{className:"BookIndexProgressBar-progressBar-JARia ProgressBar-progressBar-xAcCf",containerClassName:"BookIndexProgressBar-progress-IsZsA ProgressBar-container-VCeFi",progress:100,kind:Nq("ended",t,i),size:r?go:po,showText:r,text:l,title:te("BookProgressBarText",{bookCount:s?n:0,bookFileCount:s,totalBookCount:o}),width:a})},xG=function(e){const{title:t,iconName:n,label:s}=e;return R.createElement("div",{className:"BookIndexOverviewInfoRow-infoRow-Wvd3z",title:t},R.createElement(Lo,{className:"BookIndexOverviewInfoRow-icon-crYUr",name:n,size:14}),s)};function RG(){return RG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RG.apply(null,arguments)}const BG=parseInt(Fk().authorIndexOverviewInfoRowHeight),LG=[{name:"monitored",showProp:"showMonitored",valueProp:"monitored"},{name:"qualityProfileId",showProp:"showQualityProfile",valueProp:"qualityProfile"},{name:"releaseDate",showProp:"showReleaseDate",valueProp:"releaseDate"},{name:"added",showProp:"showAdded",valueProp:"added"},{name:"path",showProp:"showPath",valueProp:"author"},{name:"sizeOnDisk",showProp:"showSizeOnDisk",valueProp:"sizeOnDisk"}],jG=function(e){const{height:t}=e;let n=1;const s=Math.floor(t/(BG+4));return R.createElement("div",{className:"BookIndexOverviewInfo-infos-ClXcl"},LG.map((t=>{if(!function(e,t){const{name:n,showProp:s,valueProp:o}=e;return null!=t[o]&&(t[s]||t.sortKey===n)}(t,e))return null;if(n>=s)return null;n++;const o=function(e,t){var n;const{name:s}=e;if("monitored"===s){const e=t.monitored?"Monitored":"Unmonitored";return{title:e,iconName:t.monitored?Dn:bs,label:e}}if("qualityProfileId"===s&&null!=(n=t.qualityProfile)&&n.name)return{title:te("QualityProfile"),iconName:Vn,label:t.qualityProfile.name};if("releaseDate"===s){const{releaseDate:e,showRelativeDates:n,shortDateFormat:s,longDateFormat:o,timeFormat:a}=t;return{title:`ReleaseDate: ${fx(e,o,a)}`,iconName:Ut,label:Cx(e,s,n,{timeFormat:a,timeForToday:!0})}}if("added"===s){const{added:e,showRelativeDates:n,shortDateFormat:s,longDateFormat:o,timeFormat:a}=t;return{title:`Added: ${fx(e,o,a)}`,iconName:Tt,label:Cx(e,s,n,{timeFormat:a,timeForToday:!0})}}return"path"===s?{title:"Path",iconName:vn,label:t.author.path}:"sizeOnDisk"===s?{title:"Size on Disk",iconName:ln,label:FN(t.sizeOnDisk)}:void 0}(t,e);return R.createElement(xG,RG({key:t.name},o))})))},_G={container:"BookIndexOverview-container-Z5lRi",content:"BookIndexOverview-content-b2m7Z",poster:"BookIndexOverview-poster-C3XLC",editorSelect:"BookIndexOverview-editorSelect-qINcf",posterContainer:"BookIndexOverview-posterContainer-Qbfj3",link:"BookIndexOverview-link-Bj0Uz Link-link-RInnp",ended:"BookIndexOverview-ended-FNwoO",info:"BookIndexOverview-info-HKuG1",titleRow:"BookIndexOverview-titleRow-dzXCQ",title:"BookIndexOverview-title-eL3cg BookIndexOverview-link-Bj0Uz Link-link-RInnp",actions:"BookIndexOverview-actions-tgQko",details:"BookIndexOverview-details-TmDow",overview:"BookIndexOverview-overview-iRDAV BookIndexOverview-link-Bj0Uz Link-link-RInnp"};function zG(){return zG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zG.apply(null,arguments)}const UG=parseInt(Fk().authorIndexColumnPadding),HG=parseInt(Fk().authorIndexColumnPaddingSmallScreen),VG=parseInt(sH().defaultFontSize),qG=parseFloat(sH().lineHeight);class QG extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})},this.state={isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1,overview:""}}componentDidMount(){const{id:e}=this.props;J({url:`/book/${e}/overview`}).request.done((e=>{this.setState({overview:e.overview})}))}render(){const{id:e,title:t,monitored:n,titleSlug:s,nextAiring:o,statistics:a,images:r,posterWidth:i,posterHeight:l,qualityProfile:c,overviewOptions:d,showSearchAction:u,showRelativeDates:m,shortDateFormat:h,longDateFormat:p,timeFormat:g,rowHeight:E,isSmallScreen:f,isRefreshingBook:C,isSearchingBook:v,onRefreshBookPress:S,onSearchPress:b,isEditorActive:P,isSelected:y,...M}=this.props,{bookCount:I,sizeOnDisk:k,bookFileCount:O,totalBookCount:w}=a,{overview:T,isEditAuthorModalOpen:N,isDeleteAuthorModalOpen:D}=this.state,A=`/book/${s}`,F={width:`${i}px`,height:`${l}px`,objectFit:"contain"},x=function(e,t){return e-(t?HG:UG)}(E,f),B=x-42;return R.createElement("div",{className:_G.container},R.createElement("div",{className:_G.content},R.createElement("div",{className:_G.posterContainer},P&&R.createElement("div",{className:_G.editorSelect},R.createElement(dk,{className:_G.checkInput,name:e.toString(),value:y,onChange:this.onChange})),"ended"===status&&R.createElement("div",{className:_G.ended,title:te("Ended")}),R.createElement(IM,{className:_G.link,style:F,to:A},R.createElement(nA,{className:_G.poster,style:F,images:r,coverType:"cover",size:250,lazy:!1,overflow:!0,blurBackground:!0})),R.createElement(FG,{monitored:n,bookCount:I,bookFileCount:O,totalBookCount:w,posterWidth:i,detailedProgressBar:d.detailedProgressBar})),R.createElement("div",{className:_G.info,style:{maxHeight:x}},R.createElement("div",{className:_G.titleRow},R.createElement(IM,{className:_G.title,to:A},t),R.createElement("div",{className:_G.actions},R.createElement(TR,{name:Gn,title:te("RefreshBook"),isSpinning:C,onPress:S}),u&&R.createElement(TR,{className:_G.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:v,onPress:b}),R.createElement(Ek,{name:cn,title:te("EditAuthor"),onPress:this.onEditAuthorPress}))),R.createElement("div",{className:_G.details},R.createElement(IM,{className:_G.overview,to:A},R.createElement(qU(),{line:Math.floor(B/(VG*qG)),text:bL(T)})),R.createElement(jG,zG({height:B,monitored:n,sizeOnDisk:k,qualityProfile:c,showRelativeDates:m,shortDateFormat:h,longDateFormat:p,timeFormat:g},d,M))))),R.createElement(Hj,{isOpen:N,authorId:e,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:D,authorId:e,onModalClose:this.onDeleteAuthorModalClose}))}}QG.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0}};const WG=QG,GG=parseInt(Fk().authorIndexColumnPadding),KG=parseInt(Fk().authorIndexColumnPaddingSmallScreen),$G=parseInt(Fk().progressBarSmallHeight),YG=parseInt(Fk().progressBarMediumHeight);function JG(e,t,n,s){const{detailedProgressBar:o}=s;return[e,o?YG:$G,n?KG:GG].reduce(((e,t)=>e+t),0)}class XG extends R.Component{constructor(e,t){super(e,t),this.setGridRef=e=>{this._grid=e},this.calculateGrid=(e=this.state.width,t)=>{const{sortKey:n,overviewOptions:s}=this.props,o=function(e,t){const n=t?192:202;return"large"===e?n:"medium"===e?Math.floor(.75*n):Math.floor(.5*n)}(s.size,t),a=function(e){return Math.ceil(1.5625*e)}(o),r=JG(a,0,t,s);this.setState({width:e,posterWidth:o,posterHeight:a,rowHeight:r})},this.cellRenderer=({key:e,rowIndex:t,style:n})=>{const{items:s,sortKey:o,overviewOptions:a,showRelativeDates:r,shortDateFormat:i,longDateFormat:l,timeFormat:c,isSmallScreen:d,selectedState:u,isEditorActive:m,onSelectedChange:h}=this.props,{posterWidth:p,posterHeight:g,rowHeight:E}=this.state,f=s[t];return f?R.createElement("div",{key:e,style:n},R.createElement(AG,{key:f.id,component:WG,sortKey:o,posterWidth:p,posterHeight:g,rowHeight:E,overviewOptions:a,showRelativeDates:r,shortDateFormat:i,longDateFormat:l,timeFormat:c,isSmallScreen:d,bookId:f.id,authorId:f.authorId,isSelected:u[f.id],onSelectedChange:h,isEditorActive:m})):null},this.onMeasure=({width:e})=>{this.calculateGrid(e,this.props.isSmallScreen)},this.state={width:0,columnCount:1,posterWidth:162,posterHeight:253,rowHeight:JG(253,0,e.isSmallScreen,{}),scrollRestored:!1},this._grid=null}componentDidUpdate(e,t){const{items:n,sortKey:s,overviewOptions:o,jumpToCharacter:a,scrollTop:r,isEditorActive:i,selectedState:l}=this.props,{width:c,rowHeight:d,scrollRestored:u}=this.state;if(e.sortKey===s&&e.overviewOptions===o||this.calculateGrid(),this._grid&&(t.width!==c||t.rowHeight!==d||EH(e.items,n)||e.isEditorActive!==i||e.selectedState!==l||e.overviewOptions!==o)&&this._grid.recomputeGridSize(),this._grid&&0!==r&&!u&&(this.setState({scrollRestored:!0}),this._grid.scrollToPosition({scrollTop:r})),null!=a&&a!==e.jumpToCharacter){const e=Tq(n,s,a);this._grid&&null!=e&&this._grid.scrollToCell({rowIndex:e,columnIndex:0})}}render(){const{items:e,isSmallScreen:t,scroller:n}=this.props,{width:s,rowHeight:o}=this.state;return R.createElement(hw,{onMeasure:this.onMeasure},R.createElement(yq.PG,{scrollElement:t?void 0:n},(({height:t,registerChild:n,onChildScroll:a,scrollTop:r})=>t?R.createElement("div",{ref:n},R.createElement(yq.xA,{ref:this.setGridRef,className:"BookIndexOverviews-grid-Gt0RM",autoHeight:!0,height:t,columnCount:1,columnWidth:s,rowCount:e.length,rowHeight:o,width:s,onScroll:a,scrollTop:r,overscanRowCount:2,cellRenderer:this.cellRenderer,onSectionRendered:this.onSectionRendered,scrollToAlignment:"start",isScrollingOptOut:!0})):R.createElement("div",null))))}}const ZG=XG,eK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex.overviewOptions),mx(),$y(),((e,t,n)=>({overviewOptions:e,showRelativeDates:t.showRelativeDates,shortDateFormat:t.shortDateFormat,longDateFormat:t.longDateFormat,timeFormat:t.timeFormat,isSmallScreen:n.isSmallScreen})))}))(ZG),tK=[{key:"small",value:"Small"},{key:"medium",value:"Medium"},{key:"large",value:"Large"}];class nK extends R.Component{constructor(e,t){super(e,t),this.onChangeOverviewOption=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onChangeOverviewOption({[e]:t})}))},this.state={detailedProgressBar:e.detailedProgressBar,size:e.size,showReleaseDate:e.showReleaseDate,showMonitored:e.showMonitored,showQualityProfile:e.showQualityProfile,showAdded:e.showAdded,showPath:e.showPath,showSizeOnDisk:e.showSizeOnDisk,showSearchAction:e.showSearchAction}}componentDidUpdate(e){const{detailedProgressBar:t,size:n,showReleaseDate:s,showMonitored:o,showQualityProfile:a,showAdded:r,showPath:i,showSizeOnDisk:l,showSearchAction:c}=this.props,d={};t!==e.detailedProgressBar&&(d.detailedProgressBar=t),n!==e.size&&(d.size=n),s!==e.showReleaseDate&&(d.showReleaseDate=s),o!==e.showMonitored&&(d.showMonitored=o),a!==e.showQualityProfile&&(d.showQualityProfile=a),r!==e.showAdded&&(d.showAdded=r),i!==e.showPath&&(d.showPath=i),l!==e.showSizeOnDisk&&(d.showSizeOnDisk=l),c!==e.showSearchAction&&(d.showSearchAction=c),U().isEmpty(d)||this.setState(d)}render(){const{onModalClose:e}=this.props,{detailedProgressBar:t,size:n,showReleaseDate:s,showMonitored:o,showQualityProfile:a,showAdded:r,showPath:i,showSizeOnDisk:l,showSearchAction:c}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Overview Options"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("PosterSize")),R.createElement(ED,{type:qs,name:"size",value:n,values:tK,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("DetailedProgressBar")),R.createElement(ED,{type:ws,name:"detailedProgressBar",value:t,helpText:te("DetailedProgressBarHelpText"),onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowReleaseDate")),R.createElement(ED,{type:ws,name:"showReleaseDate",value:s,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowMonitored")),R.createElement(ED,{type:ws,name:"showMonitored",value:o,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowQualityProfile")),R.createElement(ED,{type:ws,name:"showQualityProfile",value:a,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowDateAdded")),R.createElement(ED,{type:ws,name:"showAdded",value:r,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowPath")),R.createElement(ED,{type:ws,name:"showPath",value:i,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSizeOnDisk")),R.createElement(ED,{type:ws,name:"showSizeOnDisk",value:l,onChange:this.onChangeOverviewOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:c,helpText:te("ShowSearchActionHelpText"),onChange:this.onChangeOverviewOption})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Close")))}}const sK=nK,oK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex),(e=>e.overviewOptions))}),(function(e,t){return{onChangeOverviewOption(t){e(Tr(t))}}}))(sK);function aK(){return aK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aK.apply(null,arguments)}const rK=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(oK,aK({},n,{onModalClose:t})))},iK="BookIndexPosterInfo-info-Hnzlu",lK=function(e){const{qualityProfile:t,showQualityProfile:n,added:s,releaseDate:o,author:a,bookFileCount:r,sizeOnDisk:i,sortKey:l,showRelativeDates:c,shortDateFormat:d,timeFormat:u}=e;if("qualityProfileId"===l&&!n)return R.createElement("div",{className:iK},t.name);if("added"===l&&s){const e=Cx(s,d,c,{timeFormat:u,timeForToday:!1});return R.createElement("div",{className:iK},`Added ${e}`)}if("releaseDate"===l&&s){const e=Cx(o,d,c,{timeFormat:u,timeForToday:!1});return R.createElement("div",{className:iK},`Released ${e}`)}if("bookFileCount"===l){let e="1 file";return 0===r?e="No files":r>1&&(e=`${r} files`),R.createElement("div",{className:iK},e)}return"path"===l?R.createElement("div",{className:iK},a.path):"sizeOnDisk"===l?R.createElement("div",{className:iK},FN(i)):null},cK={content:"BookIndexPoster-content-Qar5g",controls:"BookIndexPoster-controls-FiFWc",posterContainer:"BookIndexPoster-posterContainer-YqSrh",poster:"BookIndexPoster-poster-uNeJd",link:"BookIndexPoster-link-NAzAk Link-link-RInnp",overlayTitle:"BookIndexPoster-overlayTitle-NikUC",nextAiring:"BookIndexPoster-nextAiring-GzJjn",title:"BookIndexPoster-title-TmQbL",ended:"BookIndexPoster-ended-tR12g",editorSelect:"BookIndexPoster-editorSelect-Ykp7_",action:"BookIndexPoster-action-IMGp5 IconButton-button-t4C5V Link-link-RInnp",container:"BookIndexPoster-container-FlI3l"};function dK(){return dK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dK.apply(null,arguments)}class uK extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onEditBookPress=()=>{this.setState({isEditBookModalOpen:!0})},this.onEditBookModalClose=()=>{this.setState({isEditBookModalOpen:!1})},this.onPosterLoad=()=>{this.state.hasPosterError&&this.setState({hasPosterError:!1})},this.onPosterLoadError=()=>{this.state.hasPosterError||this.setState({hasPosterError:!0})},this.onChange=({value:e,shiftKey:t})=>{const{id:n,onSelectedChange:s}=this.props;s({id:n,value:e,shiftKey:t})},this.state={hasPosterError:!1,isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1,isEditBookModalOpen:!1}}render(){const{id:e,title:t,authorId:n,author:s,monitored:o,titleSlug:a,nextAiring:r,statistics:i,images:l,posterWidth:c,posterHeight:d,detailedProgressBar:u,showTitle:m,showAuthor:h,showMonitored:p,showQualityProfile:g,qualityProfile:E,showSearchAction:f,showRelativeDates:C,shortDateFormat:v,timeFormat:S,isRefreshingBook:b,isSearchingBook:P,onRefreshBookPress:y,onSearchPress:M,isEditorActive:I,isSelected:k,onSelectedChange:O,...w}=this.props,{bookCount:T,sizeOnDisk:N,bookFileCount:D,totalBookCount:A}=i,{hasPosterError:F,isEditAuthorModalOpen:x,isDeleteAuthorModalOpen:B,isEditBookModalOpen:L}=this.state,j=`/book/${a}`,_={width:`${c}px`,height:`${d}px`,objectFit:"contain"};return R.createElement("div",null,R.createElement("div",{className:cK.content},R.createElement("div",{className:cK.posterContainer},I&&R.createElement("div",{className:cK.editorSelect},R.createElement(dk,{className:cK.checkInput,name:e.toString(),value:k,onChange:this.onChange})),R.createElement(YO,{className:cK.controls},R.createElement(TR,{className:cK.action,name:Gn,title:te("RefreshBook"),isSpinning:b,onPress:y}),f&&R.createElement(TR,{className:cK.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:P,onPress:M}),R.createElement(Ek,{className:cK.action,name:On,title:te("EditAuthor"),onPress:this.onEditAuthorPress}),R.createElement(Ek,{className:cK.action,name:cn,title:te("EditBook"),onPress:this.onEditBookPress})),R.createElement(IM,{className:cK.link,style:_,to:j},R.createElement(nA,{className:cK.poster,style:_,images:l,coverType:"cover",size:250,lazy:!1,overflow:!0,blurBackground:!0,onError:this.onPosterLoadError,onLoad:this.onPosterLoad}),F&&R.createElement("div",{className:cK.overlayTitle},t))),R.createElement(FG,{monitored:o,bookCount:T,bookFileCount:D,totalBookCount:A,posterWidth:c,detailedProgressBar:u}),m&&R.createElement("div",{className:cK.title},t),h&&R.createElement("div",{className:cK.title},s.authorName),p&&R.createElement("div",{className:cK.title},o?"Monitored":"Unmonitored"),g&&null!=E&&E.name?R.createElement("div",{className:cK.title,title:te("QualityProfile")},E.name):null,r&&R.createElement("div",{className:cK.nextAiring},Cx(r,v,C,{timeFormat:S,timeForToday:!0})),R.createElement(lK,dK({author:s,bookFileCount:D,sizeOnDisk:N,qualityProfile:E,showQualityProfile:g,showRelativeDates:C,shortDateFormat:v,timeFormat:S},w)),R.createElement(Hj,{isOpen:x,authorId:n,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:B,authorId:n,onModalClose:this.onDeleteAuthorModalClose}),R.createElement(VW,{isOpen:L,authorId:n,bookId:e,onModalClose:this.onEditBookModalClose})))}}uK.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0}};const mK=uK,hK=parseInt(Fk().authorIndexColumnPadding),pK=parseInt(Fk().authorIndexColumnPaddingSmallScreen),gK=parseInt(Fk().progressBarSmallHeight),EK=parseInt(Fk().progressBarMediumHeight),fK={small:3,medium:2,large:1};function CK(e,t,n,s){const{detailedProgressBar:o,showTitle:a,showAuthor:r,showMonitored:i,showQualityProfile:l}=s,c=[e,o?EK:gK,19,n?pK:hK];switch(a&&c.push(19),r&&c.push(19),i&&c.push(19),l&&c.push(19),t){case"seasons":case"previousAiring":case"added":case"path":case"sizeOnDisk":c.push(19);break;case"qualityProfileId":l||c.push(19)}return c.reduce(((e,t)=>e+t),0)}class vK extends R.Component{constructor(e,t){super(e,t),this.setGridRef=e=>{this._grid=e},this.calculateGrid=(e=this.state.width,t)=>{const{sortKey:n,posterOptions:s}=this.props,o=function(e,t,n){const s=n?172:182,o=Math.floor(e/s);return 0==e%s&&"large"===t?s:Math.floor(e/(o+fK[t]))}(e,s.size,t),a=Math.max(Math.floor(e/o),1),r=o-2*this._padding,i=function(e){return Math.ceil(1.5625*e)}(r),l=CK(i,n,t,s);this.setState({width:e,columnWidth:o,columnCount:a,posterWidth:r,posterHeight:i,rowHeight:l})},this.cellRenderer=({key:e,rowIndex:t,columnIndex:n,style:s})=>{const{items:o,sortKey:a,posterOptions:r,showRelativeDates:i,shortDateFormat:l,timeFormat:c,selectedState:d,isEditorActive:u,onSelectedChange:m}=this.props,{posterWidth:h,posterHeight:p,columnCount:g}=this.state,{detailedProgressBar:E,showTitle:f,showAuthor:C,showMonitored:v,showQualityProfile:S}=r,b=o[t*g+n];return b?R.createElement("div",{key:e,style:{...s,padding:this._padding}},R.createElement(AG,{key:b.id,component:mK,sortKey:a,posterWidth:h,posterHeight:p,detailedProgressBar:E,showTitle:f,showAuthor:C,showMonitored:v,showQualityProfile:S,showRelativeDates:i,shortDateFormat:l,timeFormat:c,style:s,bookId:b.id,authorId:b.authorId,isSelected:d[b.id],onSelectedChange:m,isEditorActive:u})):null},this.onMeasure=({width:e})=>{this.calculateGrid(e,this.props.isSmallScreen)},this.state={width:0,columnWidth:182,columnCount:1,posterWidth:162,posterHeight:253,rowHeight:CK(253,null,e.isSmallScreen,{}),scrollRestored:!1},this._isInitialized=!1,this._grid=null,this._padding=e.isSmallScreen?pK:hK}componentDidUpdate(e,t){const{items:n,sortKey:s,posterOptions:o,jumpToCharacter:a,isSmallScreen:r,isEditorActive:i,scrollTop:l,selectedState:c}=this.props,{width:d,columnWidth:u,columnCount:m,rowHeight:h,scrollRestored:p}=this.state;if(e.sortKey===s&&e.posterOptions===o||this.calculateGrid(d,r),(this._grid&&(t.width!==d||t.columnWidth!==u||t.columnCount!==m||t.rowHeight!==h||EH(e.items,n))||e.isEditorActive!==i||e.selectedState!==c)&&this._grid.recomputeGridSize(),this._grid&&0!==l&&!p&&(this.setState({scrollRestored:!0}),this._grid.scrollToPosition({scrollTop:l})),null!=a&&a!==e.jumpToCharacter){const e=Tq(n,s,a);if(this._grid&&null!=e){const t=Math.floor(e/m);this._grid.scrollToCell({rowIndex:t,columnIndex:0})}}}render(){const{scroller:e,items:t,isSmallScreen:n}=this.props,{width:s,columnWidth:o,columnCount:a,rowHeight:r}=this.state,i=Math.ceil(t.length/a);return R.createElement(hw,{onMeasure:this.onMeasure},R.createElement(yq.PG,{scrollElement:n?void 0:e},(({height:e,registerChild:t,onChildScroll:n,scrollTop:l})=>e?R.createElement("div",{ref:t},R.createElement(yq.xA,{ref:this.setGridRef,className:"BookIndexPosters-grid-L1cl7",autoHeight:!0,height:e,columnCount:a,columnWidth:o,rowCount:i,rowHeight:r,width:s,onScroll:n,scrollTop:l,overscanRowCount:2,cellRenderer:this.cellRenderer,scrollToAlignment:"start",isScrollingOptOut:!0})):R.createElement("div",null))))}}const SK=vK,bK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.bookIndex.posterOptions),mx(),$y(),((e,t,n)=>({posterOptions:e,showRelativeDates:t.showRelativeDates,shortDateFormat:t.shortDateFormat,timeFormat:t.timeFormat,isSmallScreen:n.isSmallScreen})))}))(SK),PK=[{key:"small",value:"Small"},{key:"medium",value:"Medium"},{key:"large",value:"Large"}];class yK extends R.Component{constructor(e,t){super(e,t),this.onChangePosterOption=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onChangePosterOption({[e]:t})}))},this.state={detailedProgressBar:e.detailedProgressBar,size:e.size,showTitle:e.showTitle,showAuthor:e.showAuthor,showMonitored:e.showMonitored,showQualityProfile:e.showQualityProfile,showSearchAction:e.showSearchAction}}componentDidUpdate(e){const{detailedProgressBar:t,size:n,showTitle:s,showAuthor:o,showMonitored:a,showQualityProfile:r,showSearchAction:i}=this.props,l={};t!==e.detailedProgressBar&&(l.detailedProgressBar=t),n!==e.size&&(l.size=n),s!==e.showTitle&&(l.showTitle=s),o!==e.showAuthor&&(l.showAuthor=o),a!==e.showMonitored&&(l.showMonitored=a),r!==e.showQualityProfile&&(l.showQualityProfile=r),i!==e.showSearchAction&&(l.showSearchAction=i),U().isEmpty(l)||this.setState(l)}render(){const{onModalClose:e}=this.props,{detailedProgressBar:t,size:n,showTitle:s,showAuthor:o,showMonitored:a,showQualityProfile:r,showSearchAction:i}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Poster Options"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("PosterSize")),R.createElement(ED,{type:qs,name:"size",value:n,values:PK,onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("DetailedProgressBar")),R.createElement(ED,{type:ws,name:"detailedProgressBar",value:t,helpText:te("DetailedProgressBarHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowTitle")),R.createElement(ED,{type:ws,name:"showTitle",value:s,helpText:te("ShowBookTitleHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowName")),R.createElement(ED,{type:ws,name:"showAuthor",value:o,helpText:te("ShowTitleHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowMonitored")),R.createElement(ED,{type:ws,name:"showMonitored",value:a,helpText:te("ShowMonitoredHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowQualityProfile")),R.createElement(ED,{type:ws,name:"showQualityProfile",value:r,helpText:te("ShowQualityProfileHelpText"),onChange:this.onChangePosterOption})),R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:i,helpText:te("ShowSearchActionHelpText"),onChange:this.onChangePosterOption})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Close")))}}const MK=yK,IK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.bookIndex),(e=>e.posterOptions))}),(function(e,t){return{onChangePosterOption(t){e(El(t))}}}))(MK);function kK(){return kK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kK.apply(null,arguments)}const OK=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(IK,kK({},n,{onModalClose:t})))};class wK extends R.Component{constructor(e,t){super(e,t),this.onTableOptionChange=({name:e,value:t})=>{this.setState({[e]:t},(()=>{this.props.onTableOptionChange({tableOptions:{...this.state,[e]:t}})}))},this.state={showSearchAction:e.showSearchAction}}componentDidUpdate(e){const{showSearchAction:t}=this.props;t!==e.showSearchAction&&this.setState({showSearchAction:t})}render(){const{showSearchAction:e}=this.state;return R.createElement(R.Fragment,null,R.createElement(AI,null,R.createElement(Mk,null,te("ShowSearch")),R.createElement(ED,{type:ws,name:"showSearchAction",value:e,helpText:te("ShowSearchActionHelpText"),onChange:this.onTableOptionChange})))}}const TK=wK,NK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authorIndex.tableOptions),(e=>e))}))(TK),DK={status:"BookIndexHeader-status-Mk01y VirtualTableHeaderCell-headerCell-oq_lz",title:"BookIndexHeader-title-j8VRC VirtualTableHeaderCell-headerCell-oq_lz",authorName:"BookIndexHeader-authorName-wj_ST VirtualTableHeaderCell-headerCell-oq_lz",bookFileCount:"BookIndexHeader-bookFileCount-tzMyQ VirtualTableHeaderCell-headerCell-oq_lz",qualityProfileId:"BookIndexHeader-qualityProfileId-Vsuzh VirtualTableHeaderCell-headerCell-oq_lz",metadataProfileId:"BookIndexHeader-metadataProfileId-vU7b8 VirtualTableHeaderCell-headerCell-oq_lz",releaseDate:"BookIndexHeader-releaseDate-ouDnR VirtualTableHeaderCell-headerCell-oq_lz",added:"BookIndexHeader-added-UEuLP VirtualTableHeaderCell-headerCell-oq_lz",genres:"BookIndexHeader-genres-oKSYa VirtualTableHeaderCell-headerCell-oq_lz",path:"BookIndexHeader-path-RlD0Y VirtualTableHeaderCell-headerCell-oq_lz",sizeOnDisk:"BookIndexHeader-sizeOnDisk-b3_Qy VirtualTableHeaderCell-headerCell-oq_lz",ratings:"BookIndexHeader-ratings-F4fSe VirtualTableHeaderCell-headerCell-oq_lz",tags:"BookIndexHeader-tags-QlZWO VirtualTableHeaderCell-headerCell-oq_lz",actions:"BookIndexHeader-actions-VwbHx VirtualTableHeaderCell-headerCell-oq_lz"};function AK(){return AK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AK.apply(null,arguments)}const FK=(0,Wy.Ng)(void 0,(function(e,t){return{onTableOptionChange(t){e(gl(t))}}}))((function(e){const{columns:t,onTableOptionChange:n,allSelected:s,allUnselected:o,onSelectAllChange:a,isEditorActive:r,...i}=e;return R.createElement(RQ,null,t.map((e=>{const{name:l,label:c,isSortable:d,isVisible:u}=e;return u?"select"===l?r?R.createElement(_Q,{key:l,allSelected:s,allUnselected:o,onSelectAllChange:a}):null:"actions"===l?R.createElement(jQ,AK({key:l,className:DK[l],name:l,isSortable:!1},i),R.createElement(Xk,{columns:t,optionsComponent:NK,onTableOptionChange:n},R.createElement(Ek,{name:At}))):R.createElement(jQ,AK({key:l,className:Fo()(DK[l]),name:l,isSortable:d},i),c):null})))})),xK=function({titleSlug:e,title:t}){const n=`/book/${e}`;return R.createElement(IM,{to:n},t)};function RK(){return RK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RK.apply(null,arguments)}function BK(e){const{className:t,monitored:n,component:s,...o}=e;return R.createElement(s,RK({className:t},o),R.createElement(Lo,{className:"BookStatusCell-statusIcon-gcSuW",name:n?Dn:bs,title:te(n?"MonitoredAuthorIsMonitored":"MonitoredAuthorIsUnmonitored")}))}BK.defaultProps={className:"BookStatusCell-status-iu1xP TableRowCell-cell-giPrj",component:ak};const LK=BK,jK={cell:"BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",status:"BookIndexRow-status-OUAT_ BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",title:"BookIndexRow-title-YmLVS BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",authorName:"BookIndexRow-authorName-stdVH BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",link:"BookIndexRow-link-MBLrm Link-link-RInnp",bannerImage:"BookIndexRow-bannerImage-Cb80N",overlayTitle:"BookIndexRow-overlayTitle-F3ng0",bookFileCount:"BookIndexRow-bookFileCount-dbYlc BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",qualityProfileId:"BookIndexRow-qualityProfileId-qw2Vo BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",metadataProfileId:"BookIndexRow-metadataProfileId-NIQvg BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",releaseDate:"BookIndexRow-releaseDate-JZerY BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",added:"BookIndexRow-added-oZghM BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",genres:"BookIndexRow-genres-93CDO BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",bookProgress:"BookIndexRow-bookProgress-qVs2u BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",path:"BookIndexRow-path-MHw_7 BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",sizeOnDisk:"BookIndexRow-sizeOnDisk-euHzy BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",ratings:"BookIndexRow-ratings-cfr21 VirtualTableHeaderCell-headerCell-oq_lz",tags:"BookIndexRow-tags-Izbpe BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",actions:"BookIndexRow-actions-feA_2 BookIndexRow-cell-pRsU2 VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",checkInput:"BookIndexRow-checkInput-E2kTE CheckInput-input-VAM1T"};class _K extends R.Component{constructor(e,t){super(e,t),this.onEditAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!0})},this.onEditAuthorModalClose=()=>{this.setState({isEditAuthorModalOpen:!1})},this.onDeleteAuthorPress=()=>{this.setState({isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!0})},this.onDeleteAuthorModalClose=()=>{this.setState({isDeleteAuthorModalOpen:!1})},this.onEditBookPress=()=>{this.setState({isEditBookModalOpen:!0})},this.onEditBookModalClose=()=>{this.setState({isEditBookModalOpen:!1})},this.onUseSceneNumberingChange=()=>{},this.onBannerLoad=()=>{this.state.hasBannerError&&this.setState({hasBannerError:!1})},this.onBannerLoadError=()=>{this.state.hasBannerError||this.setState({hasBannerError:!0})},this.state={hasBannerError:!1,isEditAuthorModalOpen:!1,isDeleteAuthorModalOpen:!1,isEditBookModalOpen:!1}}render(){const{id:e,authorId:t,monitored:n,title:s,author:o,titleSlug:a,qualityProfile:r,releaseDate:i,added:l,statistics:c,genres:d,ratings:u,tags:m,showSearchAction:h,columns:p,isRefreshingBook:g,isSearchingBook:E,isEditorActive:f,isSelected:C,onRefreshBookPress:v,onSearchPress:S,onSelectedChange:b}=this.props,{bookFileCount:P,sizeOnDisk:y}=c,{isEditAuthorModalOpen:M,isDeleteAuthorModalOpen:I,isEditBookModalOpen:k}=this.state;return R.createElement(R.Fragment,null,p.map((t=>{const{name:c,isVisible:p}=t;if(!p)return null;if(f&&"select"===c)return R.createElement(nW,{inputClassName:jK.checkInput,id:e,key:c,isSelected:C,isDisabled:!1,onSelectedChange:b});if("status"===c)return R.createElement(LK,{key:c,className:jK[c],monitored:n,status,component:ZQ});if("title"===c)return R.createElement(ZQ,{key:c,className:Fo()(jK[c])},R.createElement(xK,{titleSlug:a,title:s}));if("authorName"===c)return R.createElement(ZQ,{key:c,className:Fo()(jK[c])},R.createElement(rx,{titleSlug:o.titleSlug,authorName:o.authorName}));var M;if("qualityProfileId"===c)return R.createElement(ZQ,{key:c,className:jK[c]},null!=(M=null==r?void 0:r.name)?M:"");if("releaseDate"===c)return R.createElement(Px,{key:c,className:jK[c],date:i,component:ZQ});if("added"===c)return R.createElement(Px,{key:c,className:jK[c],date:l,component:ZQ});if("bookFileCount"===c)return R.createElement(ZQ,{key:c,className:jK[c]},P);if("path"===c)return R.createElement(ZQ,{key:c,className:jK[c]},o.path);if("sizeOnDisk"===c)return R.createElement(ZQ,{key:c,className:jK[c]},FN(y));if("genres"===c){const e=d.join(", ");return R.createElement(ZQ,{key:c,className:jK[c]},R.createElement("span",{title:e},e))}return"ratings"===c?R.createElement(ZQ,{key:c,className:jK[c]},R.createElement(GU,{rating:u.value})):"tags"===c?R.createElement(ZQ,{key:c,className:jK[c]},R.createElement(oW,{tags:m})):"actions"===c?R.createElement(ZQ,{key:c,className:jK[c]},R.createElement(TR,{name:Gn,title:te("RefreshBook"),isSpinning:g,onPress:v}),h&&R.createElement(TR,{className:jK.action,name:os,title:te("SearchForMonitoredBooks"),isSpinning:E,onPress:S}),R.createElement(Ek,{name:On,title:te("EditAuthor"),onPress:this.onEditAuthorPress}),R.createElement(Ek,{className:jK.action,name:cn,title:te("EditBook"),onPress:this.onEditBookPress})):null})),R.createElement(Hj,{isOpen:M,authorId:t,onModalClose:this.onEditAuthorModalClose,onDeleteAuthorPress:this.onDeleteAuthorPress}),R.createElement(Oj,{isOpen:I,authorId:t,onModalClose:this.onDeleteAuthorModalClose}),R.createElement(VW,{isOpen:k,authorId:t,bookId:e,onModalClose:this.onEditBookModalClose}))}}_K.defaultProps={statistics:{bookCount:0,bookFileCount:0,totalBookCount:0},genres:[],tags:[]};const zK=_K;class UK extends R.Component{constructor(e,t){super(e,t),this.rowRenderer=({key:e,rowIndex:t,style:n})=>{const{items:s,columns:o,selectedState:a,onSelectedChange:r,isEditorActive:i}=this.props,l=s[t];return R.createElement(xQ,{key:e,style:n},R.createElement(AG,{key:l.id,component:zK,style:n,columns:o,authorId:l.authorId,bookId:l.id,isSelected:a[l.id],onSelectedChange:r,isEditorActive:i}))},this.state={scrollIndex:null}}componentDidUpdate(e){const{items:t,sortKey:n,jumpToCharacter:s}=this.props;if(null!=s&&s!==e.jumpToCharacter){const e=Tq(t,n,s);null!=e&&this.setState({scrollIndex:e})}else null==s&&null!=e.jumpToCharacter&&this.setState({scrollIndex:null})}render(){const{items:e,columns:t,sortKey:n,sortDirection:s,isSmallScreen:o,onSortPress:a,scroller:r,scrollTop:i,allSelected:l,allUnselected:c,onSelectAllChange:d,isEditorActive:u,selectedState:m}=this.props;return R.createElement(DQ,{className:"BookIndexTable-tableContainer-VjDTJ VirtualTable-tableContainer-MHSuC",items:e,scrollIndex:this.state.scrollIndex,scrollTop:i,isSmallScreen:o,scroller:r,rowHeight:38,overscanRowCount:2,rowRenderer:this.rowRenderer,header:R.createElement(FK,{columns:t,sortKey:n,sortDirection:s,onSortPress:a,allSelected:l,allUnselected:c,onSelectAllChange:d,isEditorActive:u}),selectedState:m,columns:t,sortKey:n,sortDirection:s})}}const HK=UK,VK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.app.dimensions),(e=>e.bookIndex.tableOptions),(e=>e.bookIndex.columns),((e,t,n)=>({isSmallScreen:e.isSmallScreen,showBanners:t.showBanners,columns:n})))}),(function(e,t){return{onSortPress(t){e(ml({sortKey:t}))}}}))(HK),qK={pageContentBodyWrapper:"BookIndex-pageContentBodyWrapper-bmXvl",errorMessage:"BookIndex-errorMessage-HQMl5",contentBody:"BookIndex-contentBody-tfUAR PageContentBody-contentBody-Hetrs",postersInnerContentBody:"BookIndex-postersInnerContentBody-RFdCn PageContentBody-innerContentBody-PtigL",bannersInnerContentBody:"BookIndex-bannersInnerContentBody-iA32r PageContentBody-innerContentBody-PtigL",tableInnerContentBody:"BookIndex-tableInnerContentBody-ZTRzP PageContentBody-innerContentBody-PtigL",contentBodyContainer:"BookIndex-contentBodyContainer-yQ8EO"};function QK(){return QK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QK.apply(null,arguments)}class WK extends R.Component{constructor(e,t){super(e,t),this.setScrollerRef=e=>{this.setState({scroller:e})},this.getSelectedIds=()=>this.state.allUnselected?[]:gO(this.state.selectedState),this.onPosterOptionsPress=()=>{this.setState({isPosterOptionsModalOpen:!0})},this.onPosterOptionsModalClose=()=>{this.setState({isPosterOptionsModalOpen:!1})},this.onOverviewOptionsPress=()=>{this.setState({isOverviewOptionsModalOpen:!0})},this.onOverviewOptionsModalClose=()=>{this.setState({isOverviewOptionsModalOpen:!1})},this.onEditorTogglePress=()=>{if(this.state.isEditorActive)this.setState({isEditorActive:!1});else{const e=EO(this.state.selectedState,!1);e.isEditorActive=!0,this.setState(e)}},this.onJumpBarItemPress=e=>{this.setState({jumpToCharacter:e})},this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectAllPress=()=>{this.onSelectAllChange({value:!this.state.allSelected})},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onSaveSelected=e=>{this.props.onSaveSelected({bookIds:this.getSelectedIds(),...e})},this.onSearchPress=()=>{this.setState({isConfirmSearchModalOpen:!0})},this.onRefreshBookPress=()=>{const e=this.getSelectedIds(),t=this.state.isEditorActive&&e.length>0?e:[];this.props.onRefreshBookPress(t)},this.onSearchConfirmed=()=>{const e=this.getSelectedIds(),t=this.state.isEditorActive&&e.length>0?e:this.props.items.map((e=>e.id));this.props.onSearchPress(t),this.setState({isConfirmSearchModalOpen:!1})},this.onConfirmSearchModalClose=()=>{this.setState({isConfirmSearchModalOpen:!1})},this.state={scroller:null,jumpBarItems:{order:[]},jumpToCharacter:null,isPosterOptionsModalOpen:!1,isOverviewOptionsModalOpen:!1,isConfirmSearchModalOpen:!1,isEditorActive:!1,allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{}}}componentDidMount(){this.setJumpBarItems(),this.setSelectedState()}componentDidUpdate(e){const{items:t,sortKey:n,sortDirection:s}=this.props;(n!==e.sortKey||s!==e.sortDirection||EH(e.items,t))&&(this.setJumpBarItems(),this.setSelectedState()),null!=this.state.jumpToCharacter&&this.setState({jumpToCharacter:null})}setSelectedState(){const{items:e}=this.props,{selectedState:t}=this.state,n={};e.forEach((e=>{const s=t[e.id];n[e.id]=s||!1}));const s=gO(n).length,o=Object.keys(n).length;let a=!1,r=!1;0===s?r=!0:s===o&&(a=!0),this.setState({selectedState:n,allSelected:a,allUnselected:r})}setJumpBarItems(){const{items:e,sortKey:t,sortDirection:n,isPopulated:s}=this.props;if(!s||"title"!==t&&"authorTitle"!==t)return void this.setState({jumpBarItems:{order:[]}});const o=U().reduce(e,((e,n)=>{let s=n[t].charAt(0);return isNaN(s)||(s="#"),e[s]=s in e?e[s]+1:1,e}),{}),a=Object.keys(o).sort();n===So&&a.reverse();const r={characters:o,order:a};this.setState({jumpBarItems:r})}render(){const{isFetching:e,isPopulated:t,error:n,totalItems:s,items:o,columns:a,selectedFilterKey:r,filters:i,customFilters:l,sortKey:c,sortDirection:d,view:u,isRefreshingBook:m,isRssSyncExecuting:h,isSearching:p,isSaving:g,saveError:E,isDeleting:f,deleteError:C,onScroll:v,onSortSelect:S,onFilterSelect:b,onViewSelect:P,onRssSyncPress:y,...M}=this.props,{scroller:I,jumpBarItems:k,jumpToCharacter:O,isPosterOptionsModalOpen:w,isOverviewOptionsModalOpen:T,isConfirmSearchModalOpen:N,isEditorActive:D,selectedState:A,allSelected:F,allUnselected:x}=this.state,B=this.getSelectedIds(),L=function(e){return"posters"===e?bK:"overview"===e?eK:VK}(u),j=!(n||!t||!o.length||!I),_=!s,z=D&&B.length>0?te("UpdateSelected"):te("UpdateAll"),U=te("all"===r?"SearchAll":"SearchFiltered"),H=B.length>0?te("SearchSelected"):te("SearchAll"),V=D&&B.length>0?B.length:o.length;return R.createElement(FF,null,R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:z,iconName:Gn,spinningName:Gn,isSpinning:m,onPress:this.onRefreshBookPress}),R.createElement(jF,{label:te("RSSSync"),iconName:es,isSpinning:h,isDisabled:_,onPress:y}),R.createElement(SR,null),R.createElement(jF,{label:D?H:U,iconName:os,isDisabled:p||!o.length,onPress:this.onSearchPress}),R.createElement(SR,null),D?R.createElement(jF,{label:te("BookIndex"),iconName:as,isDisabled:_,onPress:this.onEditorTogglePress}):R.createElement(jF,{label:te("BookEditor"),iconName:cn,isDisabled:_,onPress:this.onEditorTogglePress}),D?R.createElement(jF,{label:te(F?"UnselectAll":"SelectAll"),iconName:Gt,isDisabled:_,onPress:this.onSelectAllPress}):null),R.createElement(YF,{alignContent:Qe,collapseButtons:!1},"table"===u?R.createElement(Xk,QK({},M,{columns:a,optionsComponent:NK}),R.createElement(jF,{label:te("Options"),iconName:Es})):null,"posters"===u?R.createElement(jF,{label:te("Options"),iconName:qn,isDisabled:_,onPress:this.onPosterOptionsPress}):null,"overview"===u?R.createElement(jF,{label:te("Options"),iconName:Rn,isDisabled:_,onPress:this.onOverviewOptionsPress}):null,R.createElement(SR,null),R.createElement(OG,{view:u,isDisabled:_,onViewSelect:P}),R.createElement(kG,{sortKey:c,sortDirection:d,isDisabled:_,onSortSelect:S}),R.createElement(IG,{selectedFilterKey:r,filters:i,customFilters:l,isDisabled:_,onFilterSelect:b}))),R.createElement("div",{className:qK.pageContentBodyWrapper},R.createElement(TF,{registerScroller:this.setScrollerRef,className:qK.contentBody,innerClassName:qK[`${u}InnerContentBody`],onScroll:v},e&&!t&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",{className:qK.errorMessage},Jy(n,"Failed to load books from API")),j&&R.createElement("div",{className:qK.contentBodyContainer},R.createElement(L,QK({scroller:I,items:o,filters:i,sortKey:c,sortDirection:d,jumpToCharacter:O,isEditorActive:D,allSelected:F,allUnselected:x,onSelectedChange:this.onSelectedChange,onSelectAllChange:this.onSelectAllChange,selectedState:A},M)),R.createElement(bG,null)),!n&&t&&!o.length&&R.createElement(JV,{totalItems:s,itemType:"books"})),j&&!!k.order.length&&R.createElement(nq,{items:k,onItemPress:this.onJumpBarItemPress})),j&&D&&R.createElement(k_,{bookIds:B,selectedCount:B.length,isSaving:g,saveError:E,isDeleting:f,deleteError:C,onSaveSelected:this.onSaveSelected}),R.createElement(OK,{isOpen:w,onModalClose:this.onPosterOptionsModalClose}),R.createElement(rK,{isOpen:T,onModalClose:this.onOverviewOptionsModalClose}),R.createElement(wD,{isOpen:N,kind:Xs,title:te("MassBookSearch"),message:R.createElement("div",null,R.createElement("div",null,te("MassBookSearchWarning",[V])),R.createElement("div",null,te("ThisCannotBeCancelled"))),confirmLabel:te("Search"),onConfirm:this.onSearchConfirmed,onCancel:this.onConfirmSearchModalClose}))}}const GK=WK;function KK(){return KK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KK.apply(null,arguments)}class $K extends R.Component{constructor(...e){super(...e),this.onViewSelect=e=>{this.props.dispatchSetBookView(e)},this.onSaveSelected=e=>{this.props.dispatchSaveBookEditor(e)},this.onScroll=({scrollTop:e})=>{rV.bookIndex=e}}render(){return R.createElement(GK,KK({},this.props,{onViewSelect:this.onViewSelect,onScroll:this.onScroll,onSaveSelected:this.onSaveSelected}))}}const YK=lV((0,Wy.Ng)((function(){return(0,Ky.Mz)(fG("bookIndex"),kF(Yl),kF(Xl),kF(ac),kF(ql),kF(Kl),$y(),((e,t,n,s,o,a,r)=>({...e,isRefreshingBook:n||t,isRssSyncExecuting:s,isSearching:o||a,isSmallScreen:r.isSmallScreen})))}),(function(e,t){return{onTableOptionChange(t){e(gl(t))},onSortSelect(t){e(ml({sortKey:t}))},onFilterSelect(t){e(hl({selectedFilterKey:t}))},dispatchSetBookView(t){e(pl({view:t}))},dispatchSaveBookEditor(t){e(vl(t))},onRefreshBookPress(t){e(Mc({name:Xl,bookIds:t}))},onRssSyncPress(){e(Mc({name:ac}))},onSearchPress(t){e(Mc({name:Gl,bookIds:t}))}}}))($K),"bookIndex"),JK={dispatchSetFilter:Nl},XK=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.authors.items),(e=>e.bookshelf.filterBuilderProps),((e,t)=>({sectionItems:e,filterBuilderProps:t,customFilterType:"bookshelf"})))}),JK)(qz),ZK="BookshelfFooter-inputContainer-uCkn0",e$="BookshelfFooter-label-mJ40q",t$="noChange";class n$ extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{this.setState({[e]:t})},this.onUpdateSelectedPress=()=>{const{monitor:e,monitored:t,monitorNewItems:n}=this.state,s={};t!==t$&&(s.monitored="monitored"===t),e!==t$&&(s.monitor=e),n!==t$&&(s.monitorNewItems=n),this.props.onUpdateSelectedPress(s)},this.state={monitored:t$,monitor:t$,monitorNewItems:t$}}componentDidUpdate(e){const{isSaving:t,saveError:n}=this.props;!e.isSaving||t||n||this.setState({monitored:t$,monitor:t$,monitorNewItems:t$})}render(){const{selectedCount:e,isSaving:t}=this.props,{monitored:n,monitor:s,monitorNewItems:o}=this.state,a=[{key:t$,value:te("NoChange"),isDisabled:!0},{key:"monitored",value:te("Monitored")},{key:"unmonitored",value:te("Unmonitored")}],r=n===t$&&s===t$&&o===t$;return R.createElement(g_,null,R.createElement("div",{className:ZK},R.createElement("div",{className:e$},"Monitor Author"),R.createElement(ZI,{name:"monitored",value:n,values:a,isDisabled:!e,onChange:this.onInputChange})),R.createElement("div",{className:ZK},R.createElement("div",{className:e$},te("MonitorExistingBooks")),R.createElement(lT,{name:"monitor",value:s,includeNoChange:!0,isDisabled:!e,onChange:this.onInputChange})),R.createElement("div",{className:ZK},R.createElement("div",{className:e$},te("MonitorNewBooks")),R.createElement(uT,{name:"monitorNewItems",value:o,includeNoChange:!0,isDisabled:!e,onChange:this.onInputChange})),R.createElement("div",null,R.createElement("div",{className:e$},te("CountAuthorsSelected",{selectedCount:e})),R.createElement(AO,{className:"BookshelfFooter-updateSelectedButton-MGKBZ SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",kind:so,isSpinning:t,isDisabled:!e||r,onPress:this.onUpdateSelectedPress},te("UpdateSelected"))))}}const s$=n$;class o$ extends R.Component{constructor(...e){super(...e),this.onBookMonitoredPress=()=>{const{id:e,monitored:t}=this.props;this.props.onBookMonitoredPress(e,!t)}}render(){const{title:e,disambiguation:t,monitored:n,statistics:s={},isSaving:o}=this.props,{bookCount:a=0,bookFileCount:r=0,totalBookCount:i=0,percentOfBooks:l=0}=s;return R.createElement("div",{className:"BookshelfBook-book-EhZ_t"},R.createElement("div",{className:"BookshelfBook-info-Ndj8L"},R.createElement(ZU,{monitored:n,isSaving:o,onPress:this.onBookMonitoredPress}),R.createElement("span",null,t?`${e} (${t})`:`${e}`)),R.createElement("div",{className:Fo()("BookshelfBook-books-pJ7an",l<100&&n&&"BookshelfBook-missingWanted-ina4a",100===l&&"BookshelfBook-allBooks-uE_M6"),title:te("BookProgressBarText",{bookCount:r?a:0,bookFileCount:r,totalBookCount:i})},0===i?"0/0":`${r?a:0}/${i}`))}}o$.defaultProps={isSaving:!1,statistics:{bookFileCount:0,totalBookCount:0,percentOfBooks:0}};const a$=o$;function r$(){return r$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r$.apply(null,arguments)}class i$ extends R.Component{render(){const{authorId:e,status:t,titleSlug:n,authorName:s,monitored:o,books:a,isSaving:r,isSelected:i,onSelectedChange:l,onAuthorMonitoredPress:c,onBookMonitoredPress:d}=this.props,u=QU(t);return R.createElement(R.Fragment,null,R.createElement(nW,{className:"BookshelfRow-selectCell-f7KT1 TableRowCell-cell-giPrj",id:e,isSelected:i,onSelectedChange:l,isDisabled:!1}),R.createElement(ZQ,{className:"BookshelfRow-monitored-G32iG TableRowCell-cell-giPrj"},R.createElement(ZU,{monitored:o,size:14,isSaving:r,onPress:c})),R.createElement(ZQ,{className:"BookshelfRow-status-ASTPw TableRowCell-cell-giPrj"},R.createElement(Lo,{className:"BookshelfRow-statusIcon-mx35R",name:u.icon,title:u.title})),R.createElement(ZQ,{className:"BookshelfRow-title-gYJhF TableRowCell-cell-giPrj"},R.createElement(rx,{titleSlug:n,authorName:s})),R.createElement(ZQ,{className:"BookshelfRow-books-an7XR BookshelfRow-cell-AnkPe VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj"},a.map((e=>R.createElement(a$,r$({key:e.id},e,{onBookMonitoredPress:d}))))))}}i$.defaultProps={isSaving:!1};const l$=i$;function c$(){return c$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c$.apply(null,arguments)}const d$=(0,Ky.Mz)((e=>e.books.items),(e=>e.reduce(((e,t)=>((e[t.authorId]=e[t.authorId]||[]).push(t),e)),{}))),u$={toggleAuthorMonitored:ja,toggleBooksMonitored:ga};class m$ extends R.Component{constructor(...e){super(...e),this.onAuthorMonitoredPress=()=>{const{authorId:e,monitored:t}=this.props;this.props.toggleAuthorMonitored({authorId:e,monitored:!t})},this.onBookMonitoredPress=(e,t)=>{const n=[e];this.props.toggleBooksMonitored({bookIds:n,monitored:t})}}render(){return R.createElement(l$,c$({},this.props,{onAuthorMonitoredPress:this.onAuthorMonitoredPress,onBookMonitoredPress:this.onBookMonitoredPress}))}}const h$=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),d$,((e,t)=>{const n=t.hasOwnProperty(e.id)?t[e.id]:[],s=U().orderBy(n,"releaseDate","desc");return{...e,authorId:e.id,authorName:e.authorName,monitored:e.monitored,status:e.status,isSaving:e.isSaving,books:s}}))}),u$)(m$),p$={monitored:"BookshelfTableHeader-monitored-zxcQN VirtualTableHeaderCell-headerCell-oq_lz",status:"BookshelfTableHeader-status-eAKCP VirtualTableHeaderCell-headerCell-oq_lz",sortName:"BookshelfTableHeader-sortName-G9pVc VirtualTableHeaderCell-headerCell-oq_lz",bookCount:"BookshelfTableHeader-bookCount-YZ1YK VirtualTableHeaderCell-headerCell-oq_lz"};function g$(){return g$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g$.apply(null,arguments)}const E$=function(e){const{columns:t,allSelected:n,allUnselected:s,onSelectAllChange:o,...a}=e;return R.createElement(RQ,null,R.createElement(_Q,{allSelected:n,allUnselected:s,onSelectAllChange:o}),t.map((e=>{const{name:t,label:n,isSortable:s,isVisible:o}=e;return o?R.createElement(jQ,g$({key:t,className:p$[t],name:t,isSortable:s},a),n):null})))},f$={pageContentBodyWrapper:"Bookshelf-pageContentBodyWrapper-MZfi0",contentBody:"Bookshelf-contentBody-mAAxg PageContentBody-contentBody-Hetrs",tableInnerContentBody:"Bookshelf-tableInnerContentBody-GfX83 PageContentBody-innerContentBody-PtigL",contentBodyContainer:"Bookshelf-contentBodyContainer-dihrW"},C$=[{name:"monitored",isVisible:!0},{name:"status",isVisible:!0},{name:"sortName",label:"Name",isSortable:!0,isVisible:!0},{name:"bookCount",label:"Books",isSortable:!1,isVisible:!0}];class v$ extends R.Component{constructor(e,t){super(e,t),this.setScrollerRef=e=>{this.setState({scroller:e})},this.getSelectedIds=()=>this.state.allUnselected?[]:gO(this.state.selectedState),this.setSelectedState=()=>{const{items:e}=this.props,{selectedState:t}=this.state,n={};e.forEach((e=>{const s=t[e.id];n[e.id]=s||!1}));const s=gO(n).length,o=Object.keys(n).length;let a=!1,r=!1;0===s?r=!0:s===o&&(a=!0),this.setState({selectedState:n,allSelected:a,allUnselected:r})},this.estimateRowHeight=e=>{const{bookCount:t,items:n}=this.props;if(void 0===t||0===t||0===n.length)return 100;const s=Math.max(Math.floor((e-186)/250),1);return t/n.length/s*23+16},this.rowRenderer=({key:e,rowIndex:t,parent:n,style:s})=>{const{items:o}=this.props,{selectedState:a}=this.state,r=o[t];return R.createElement(yq.dl,{key:e,cache:this.cache,parent:n,columnIndex:0,rowIndex:t},(({registerChild:e})=>R.createElement(xQ,{ref:e,style:s},R.createElement(h$,{key:r.id,authorId:r.id,isSelected:a[r.id],onSelectedChange:this.onSelectedChange}))))},this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onSelectAllPress=()=>{this.onSelectAllChange({value:!this.state.allSelected})},this.onUpdateSelectedPress=e=>{this.props.onUpdateSelectedPress({authorIds:this.getSelectedIds(),...e})},this.onJumpBarItemPress=e=>{const{items:t,sortKey:n}=this.props,s=Tq(t,n,e);null!=s&&this.setState({scrollIndex:s})},this.onGridRecompute=e=>{this.setJumpBarItems(),this.setSelectedState(),this.setState({estimatedRowSize:this.estimateRowHeight(e)}),this.cache.clearAll()},this.state={estimatedRowSize:100,scroller:null,jumpBarItems:{order:[]},scrollIndex:null,jumpCount:0,allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{}},this.cache=new yq.jS({defaultHeight:100,fixedWidth:!0})}componentDidMount(){this.setSelectedState()}componentDidUpdate(e){const{isSaving:t,saveError:n}=this.props,{scrollIndex:s,jumpCount:o}=this.state;!e.isSaving||t||n||this.onSelectAllChange({value:!1}),null!=s&&(0===o?this.setState({scrollIndex:s+1,jumpCount:1}):1===o?this.setState({scrollIndex:s-1,jumpCount:2}):this.setState({scrollIndex:null,jumpCount:0}))}setJumpBarItems(){const{items:e,sortKey:t,sortDirection:n}=this.props;if("sortName"!==t)return void this.setState({jumpBarItems:{order:[]}});const s=U().reduce(e,((e,t)=>{let n=t.sortName.charAt(0);return isNaN(n)||(n="#"),e[n]=n in e?e[n]+1:1,e}),{}),o=Object.keys(s).sort();n===So&&o.reverse();const a={characters:s,order:o};this.setState({jumpBarItems:a})}render(){const{isFetching:e,isPopulated:t,error:n,totalItems:s,items:o,selectedFilterKey:a,filters:r,customFilters:i,sortKey:l,sortDirection:c,isSaving:d,saveError:u,isSmallScreen:m,onSortPress:h,onFilterSelect:p}=this.props,{allSelected:g,allUnselected:E,estimatedRowSize:f,scroller:C,jumpBarItems:v,scrollIndex:S}=this.state;return R.createElement(FF,{title:te("BookStudio")},R.createElement(RF,null,R.createElement(YF,null),R.createElement(YF,{alignContent:Qe},R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:a,filters:r,customFilters:i,filterModalConnectorComponent:XK,onFilterSelect:p}))),R.createElement("div",{className:f$.pageContentBodyWrapper},R.createElement(TF,{registerScroller:this.setScrollerRef,className:f$.contentBody,innerClassName:f$.innerContentBody},e&&!t&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,Jy(n,"Failed to load author from API")),!n&&t&&!!o.length&&C&&R.createElement("div",{className:f$.contentBodyContainer},R.createElement(DQ,{items:o,scrollIndex:S,columns:C$,scroller:C,isSmallScreen:m,overscanRowCount:5,rowRenderer:this.rowRenderer,header:R.createElement(E$,{columns:C$,sortKey:l,sortDirection:c,onSortPress:h,allSelected:g,allUnselected:E,onSelectAllChange:this.onSelectAllChange}),sortKey:l,sortDirection:c,deferredMeasurementCache:this.cache,rowHeight:this.cache.rowHeight,estimatedRowSize:f,onRecompute:this.onGridRecompute})),!n&&t&&!o.length&&R.createElement(JV,{totalItems:s})),t&&!!v.order.length&&R.createElement(nq,{items:v,onItemPress:this.onJumpBarItemPress})),R.createElement(s$,{selectedCount:this.getSelectedIds().length,isSaving:d,saveError:u,onUpdateSelectedPress:this.onUpdateSelectedPress}))}}const S$=v$;function b$(){return b$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b$.apply(null,arguments)}const P$={setBookshelfSort:Tl,setBookshelfFilter:Nl,saveBookshelf:Dl};class y$ extends R.Component{constructor(...e){super(...e),this.onSortPress=e=>{this.props.setBookshelfSort({sortKey:e})},this.onFilterSelect=e=>{this.props.setBookshelfFilter({selectedFilterKey:e})},this.onUpdateSelectedPress=e=>{this.props.saveBookshelf(e)}}render(){return R.createElement(S$,b$({},this.props,{onSortPress:this.onSortPress,onFilterSelect:this.onFilterSelect,onUpdateSelectedPress:this.onUpdateSelectedPress}))}}const M$=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)((e=>e.books.items.length),(e=>e.books.isFetching),(e=>e.books.isPopulated),((e,t,n)=>({bookCount:!t&&n?e:0,isFetching:t,isPopulated:n}))),dV("bookshelf"),$y(),((e,t,n)=>{const s=e.isPopulated&&t.isPopulated,o=t.isFetching||e.isFetching;return{...t,isPopulated:s,isFetching:o,bookCount:e.bookCount,isSmallScreen:n.isSmallScreen}}))}),P$)(y$),I$=function(e,t){const n=U().reduce(e,((e,n)=>(n[t]&&e.push(n[t]),e)),[]);return U().uniq(n)},k$=function(){return(0,Ky.Mz)(((e,{bookId:t})=>t),(e=>e.queue.details.items),((e,t)=>e&&t?t.find((t=>!!t.book&&t.book.id===e)):null))},O$=function(e){const{title:t,size:n,sizeleft:s,estimatedCompletionTime:o,status:a,errorMessage:r,progressBar:i}=e,l=a.toLowerCase(),c=100-s/n*100;return"pending"===l?R.createElement(Lo,{name:Hn,title:te("ReleaseWillBeProcessedInterp",[ko()(o).fromNow()])}):"completed"===l&&r?R.createElement(Lo,{name:on,kind:Xs,title:te("ImportFailedInterp",[r])}):r?R.createElement(Lo,{name:rn,kind:Xs,title:te("DownloadFailedInterp",[r])}):"failed"===l?R.createElement(Lo,{name:rn,kind:Xs,title:te("DownloadFailedCheckDownloadClientForMoreDetails")}):"warning"===l?R.createElement(Lo,{name:rn,kind:ro,title:te("DownloadWarningCheckDownloadClientForMoreDetails")}):c<5?R.createElement(Lo,{name:rn,title:te("BookIsDownloadingInterp",[c.toFixed(1),t])}):i};class w$ extends R.Component{constructor(e,t){super(e,t),this.state={progress:0}}componentDidMount(){this._progressStep()}componentDidUpdate(e){const t=this.props.progress;e.progress!==t&&(this._cancelProgressStep(),this._progressStep())}componentWillUnmount(){this._cancelProgressStep()}_progressStep(){this.requestAnimationFrame=window.requestAnimationFrame((()=>{this.setState({progress:this.state.progress+1},(()=>{this.state.progress<this.props.progress&&this._progressStep()}))}))}_cancelProgressStep(){this.requestAnimationFrame&&window.cancelAnimationFrame(this.requestAnimationFrame)}render(){const{className:e,containerClassName:t,size:n,strokeWidth:s,strokeColor:o,showProgressText:a}=this.props,r=this.state.progress,i=n/2,l=i-s,c=Math.PI*(2*l),d=`${n}px`,u=(100-r)/100*c,m=`${Math.round(r)}%`;return R.createElement("div",{className:t,style:{width:d,height:d,lineHeight:d}},R.createElement("svg",{className:e,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:n,height:n},R.createElement("circle",{fill:"transparent",r:l,cx:i,cy:i,strokeDasharray:c,style:{stroke:o,strokeWidth:s,strokeDashoffset:u}})),a&&R.createElement("div",{className:"CircularProgressBar-circularProgressBarText-aGfDa"},m))}}w$.defaultProps={className:"CircularProgressBar-circularProgressBar-sVb5D",containerClassName:"CircularProgressBar-circularProgressBarContainer-m582E",size:60,strokeWidth:5,strokeColor:"#00A65B",showProgressText:!1};const T$=w$,N$=function(e){const{title:t,size:n,sizeleft:s,estimatedCompletionTime:o,status:a,errorMessage:r}=e,i=100-s/n*100;return R.createElement(O$,{title:t,size:n,sizeleft:s,estimatedCompletionTime:o,status:a,errorMessage:r,progressBar:R.createElement("div",{title:te("BookIsDownloadingInterp",[i.toFixed(1),t])},R.createElement(T$,{progress:i,size:20,strokeWidth:2,strokeColor:"#7a43b6"}))})},D$=function(e,t,n,s,o){const a=ko()();return 100===o?"downloaded":o>0?"partial":t?"downloading":s?a.isAfter(n)?"missing":"unreleased":"unmonitored"},A$={event:"AgendaEvent-event-dWRPa",eventWrapper:"AgendaEvent-eventWrapper-FYVBh",date:"AgendaEvent-date-bRc76",time:"AgendaEvent-time-aMJgA",authorName:"AgendaEvent-authorName-ZLRKX",bookTitle:"AgendaEvent-bookTitle-Qoija",seasonEpisodeNumber:"AgendaEvent-seasonEpisodeNumber-NLthY",bookSeparator:"AgendaEvent-bookSeparator-Cw_In",absoluteEpisodeNumber:"AgendaEvent-absoluteEpisodeNumber-NUppE",downloaded:"AgendaEvent-downloaded-JseRe CalendarEvent-downloaded-aVyLe",partial:"AgendaEvent-partial-euPov undefined",downloading:"AgendaEvent-downloading-hJPzX CalendarEvent-downloading-chGem",unmonitored:"AgendaEvent-unmonitored-F6YTt CalendarEvent-unmonitored-vL9TJ",missing:"AgendaEvent-missing-wemsm CalendarEvent-missing-Lfb1c",unreleased:"AgendaEvent-unreleased-fNTuw CalendarEvent-unreleased-ifyp4"};class F$ extends R.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.state={isDetailsModalOpen:!1}}render(){const{id:e,author:t,title:n,titleSlug:s,releaseDate:o,monitored:a,statistics:r,grabbed:i,queueItem:l,showDate:c,timeFormat:d,longDateFormat:u,colorImpairedMode:m}=this.props,h=ko()(o),p=!(!l&&!i),g=t.monitored&&a,E=D$(0,p,h,g,r.percentOfBooks);return R.createElement("div",null,R.createElement(IM,{className:A$.event,component:"div",onPress:this.onPress},R.createElement("div",{className:A$.date},c&&h.format(u)),R.createElement("div",{className:Fo()(A$.eventWrapper,A$[E],m&&"colorImpaired")}),R.createElement("div",{className:A$.time},hx(o,d)),R.createElement("div",{className:A$.authorName},R.createElement(IM,{to:`/author/${t.titleSlug}`},t.authorName)),R.createElement("div",{className:A$.bookSeparator}," - "),R.createElement("div",{className:A$.bookTitle},R.createElement(IM,{to:`/book/${s}`},n)),!!l&&R.createElement(N$,l),!l&&i&&R.createElement(Lo,{name:rn,title:te("BookIsDownloading")})))}}F$.defaultProps={statistics:{percentOfBooks:0}};const x$=F$,R$=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),k$(),mx(),((e,t,n)=>({author:e,queueItem:t,timeFormat:n.timeFormat,longDateFormat:n.longDateFormat,colorImpairedMode:n.enableColorImpairedMode})))}))(x$);function B$(){return B$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B$.apply(null,arguments)}const L$=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),(e=>e))}))((function(e){const{items:t}=e;return R.createElement("div",{className:"Agenda-agenda-hRnz8"},t.map(((e,n)=>{const s=ko()(e.releaseDate),o=0===n||!ko()(t[n-1].releaseDate).isSame(s,"day");return R.createElement(R$,B$({key:e.id,bookId:e.id,showDate:o},e))})))})),j$={event:"CalendarEvent-event-P9Zg6",info:"CalendarEvent-info-ScXwS",bookInfo:"CalendarEvent-bookInfo-lK8mz",authorName:"CalendarEvent-authorName-kXwYn",bookTitle:"CalendarEvent-bookTitle-DC2lP",absoluteEpisodeNumber:"CalendarEvent-absoluteEpisodeNumber-k4j_M",statusIcon:"CalendarEvent-statusIcon-aQUSC",downloaded:"CalendarEvent-downloaded-aVyLe",downloading:"CalendarEvent-downloading-chGem",unmonitored:"CalendarEvent-unmonitored-vL9TJ",missing:"CalendarEvent-missing-Lfb1c",unreleased:"CalendarEvent-unreleased-ifyp4"};class _$ extends R.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState({isDetailsModalOpen:!0},(()=>{this.props.onEventModalOpenToggle(!0)}))},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1},(()=>{this.props.onEventModalOpenToggle(!1)}))},this.state={isDetailsModalOpen:!1}}render(){const{id:e,author:t,title:n,titleSlug:s,releaseDate:o,monitored:a,statistics:r,grabbed:i,queueItem:l,colorImpairedMode:c}=this.props;if(!t)return null;const d=ko()(o),u=!(!l&&!i),m=t.monitored&&a,h=D$(0,u,d,m,r.percentOfBooks);return R.createElement("div",null,R.createElement(IM,{className:Fo()(j$.event,j$[h],c&&"colorImpaired"),component:"div",onPress:this.onPress},R.createElement("div",{className:j$.info},R.createElement("div",{className:j$.authorName},R.createElement(IM,{to:`/author/${t.titleSlug}`},t.authorName)),!!l&&R.createElement("span",{className:j$.statusIcon},R.createElement(N$,l)),!l&&i&&R.createElement(Lo,{className:j$.statusIcon,name:rn,title:te("BookIsDownloading")})),R.createElement("div",{className:j$.bookInfo},R.createElement("div",{className:j$.bookTitle},R.createElement(IM,{to:`/book/${s}`},n)))))}}_$.defaultProps={statistics:{percentOfBooks:0}};const z$=_$,U$=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),k$(),mx(),((e,t,n)=>({author:e,queueItem:t,timeFormat:n.timeFormat,colorImpairedMode:n.enableColorImpairedMode})))}))(z$);function H$(){return H$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H$.apply(null,arguments)}const V$=function(e){const{date:t,time:n,isTodaysDate:s,events:o,view:a,onEventModalOpenToggle:r}=e;return R.createElement("div",{className:Fo()("CalendarDay-day-vbHSD",a===xl&&"CalendarDay-isSingleDay-aARSn")},a===Bl&&R.createElement("div",{className:Fo()("CalendarDay-dayOfMonth-Ora3v",s&&"CalendarDay-isToday-E7jSB",!ko()(t).isSame(ko()(n),"month")&&"CalendarDay-isDifferentMonth-dYTOJ")},ko()(t).date()),R.createElement("div",null,o.map((e=>R.createElement(U$,H$({key:e.id,bookId:e.id},e,{onEventModalOpenToggle:r}))))))};class q$ extends R.Component{render(){return R.createElement(V$,this.props)}}const Q$=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),(0,Ky.Mz)(((e,{date:t})=>t),(e=>e.calendar.items),((e,t)=>{const n=U().filter(t,(t=>ko()(e).isSame(ko()(t.releaseDate),"day")));return U().sortBy(n,(e=>ko()(e.releaseDate).unix()))})),((e,t)=>({time:e.time,view:e.view,events:t})))}))(q$),W$={days:"CalendarDays-days-bkUmr",day:"CalendarDays-day-t0Mh6",week:"CalendarDays-week-xFvOv",forecast:"CalendarDays-forecast-ICEGg",month:"CalendarDays-month-tpGR5"};class G$ extends R.Component{constructor(e,t){super(e,t),this.scheduleUpdate=()=>{this.clearUpdateTimeout();const e=ko()().startOf("day"),t=ko()().diff(e.clone().add(1,"day"));this.setState({todaysDate:e.toISOString()}),this.updateTimeoutId=setTimeout(this.scheduleUpdate,t)},this.clearUpdateTimeout=()=>{this.updateTimeoutId&&clearTimeout(this.updateTimeoutId)},this.onEventModalOpenToggle=e=>{this.setState({isEventModalOpen:e})},this.onTouchStart=e=>{const t=e.touches,n=t[0].pageX;1===t.length&&(n<50||this.props.isSidebarVisible||this.state.isEventModalOpen||(this._touchStart=n))},this.onTouchEnd=e=>{const t=e.changedTouches[0].pageX;this._touchStart&&(t>this._touchStart&&t-this._touchStart>100?this.props.onNavigatePrevious():t<this._touchStart&&this._touchStart-t>100&&this.props.onNavigateNext(),this._touchStart=null)},this.onTouchCancel=e=>{this._touchStart=null},this.onTouchMove=e=>{this._touchStart},this._touchStart=null,this.state={todaysDate:ko()().startOf("day").toISOString(),isEventModalOpen:!1},this.updateTimeoutId=null}componentDidMount(){this.props.view===Bl&&this.scheduleUpdate(),window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchend",this.onTouchEnd),window.addEventListener("touchcancel",this.onTouchCancel),window.addEventListener("touchmove",this.onTouchMove)}componentWillUnmount(){this.clearUpdateTimeout(),window.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchend",this.onTouchEnd),window.removeEventListener("touchcancel",this.onTouchCancel),window.removeEventListener("touchmove",this.onTouchMove)}render(){const{dates:e,view:t}=this.props;return R.createElement("div",{className:Fo()(W$.days,W$[t])},e.map((e=>R.createElement(Q$,{key:e,date:e,isTodaysDate:px(e),onEventModalOpenToggle:this.onEventModalOpenToggle}))))}}const K$=G$,$$={onNavigatePrevious:nd,onNavigateNext:sd},Y$=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),(e=>e.app.isSidebarVisible),((e,t)=>({dates:e.dates,view:e.view,isSidebarVisible:t})))}),$$)(K$);class J$ extends R.Component{render(){const{date:e,view:t,isTodaysDate:n,calendarWeekColumnHeader:s,shortDateFormat:o,showRelativeDates:a}=this.props,r=t!==Bl&&n,i=ko()(e);let l=i.format("dddd");return t===Rl?l=i.format(s):t===Ll&&(l=Cx(e,o,a)),R.createElement("div",{className:Fo()("DayOfWeek-dayOfWeek-D4GRS",t===xl&&"DayOfWeek-isSingleDay-w4a3G",r&&"DayOfWeek-isToday-Ga8JJ")},l)}}const X$=J$;function Z$(){return Z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z$.apply(null,arguments)}class eY extends R.Component{constructor(e,t){super(e,t),this.scheduleUpdate=()=>{this.clearUpdateTimeout();const e=ko()().startOf("day"),t=e.clone().add(1,"day").diff(ko()());this.setState({todaysDate:e.toISOString()}),this.updateTimeoutId=setTimeout(this.scheduleUpdate,t)},this.clearUpdateTimeout=()=>{this.updateTimeoutId&&clearTimeout(this.updateTimeoutId)},this.state={todaysDate:ko()().startOf("day").toISOString()},this.updateTimeoutId=null}componentDidMount(){const e=this.props.view;e===jl&&e===Bl||this.scheduleUpdate()}componentWillUnmount(){this.clearUpdateTimeout()}render(){const{dates:e,view:t,...n}=this.props;return t===jl?null:R.createElement("div",{className:"DaysOfWeek-daysOfWeek-DQmbR"},e.map((e=>R.createElement(X$,Z$({key:e,date:e,view:t,isTodaysDate:e===this.state.todaysDate},n)))))}}const tY=eY,nY=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),mx(),((e,t)=>({dates:e.dates.slice(0,7),view:e.view,calendarWeekColumnHeader:t.calendarWeekColumnHeader,shortDateFormat:t.shortDateFormat,showRelativeDates:t.showRelativeDates})))}))(tY);function sY(){return sY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sY.apply(null,arguments)}class oY extends R.Component{constructor(...e){super(...e),this.onPress=()=>{this.props.onPress(this.props.view)}}render(){const{view:e,selectedView:t,...n}=this.props;return R.createElement(TM,sY({isDisabled:t===e},n,{onPress:this.onPress}),EI(e))}}const aY=oY,rY={header:"CalendarHeader-header-WC6Sy",navigationButtons:"CalendarHeader-navigationButtons-T91lU",todayButton:"CalendarHeader-todayButton-DLzYr Button-button-paJ9a Link-link-RInnp",titleDesktop:"CalendarHeader-titleDesktop-qugpW",titleMobile:"CalendarHeader-titleMobile-IZBwa",viewButtonsContainer:"CalendarHeader-viewButtonsContainer-M0Wmk",viewMenu:"CalendarHeader-viewMenu-Vn3qz Menu-menu-Uz3_0",loading:"CalendarHeader-loading-krtud LoadingIndicator-loading-DWfav"};class iY extends R.Component{constructor(e,t){super(e,t),this.onViewChange=e=>{this.setState({view:e},(()=>{this.props.onViewChange(e)}))},this.state={view:e.view}}componentDidUpdate(e){const t=this.props.view;e.view!==t&&this.setState({view:t})}render(){const{isFetching:e,time:t,start:n,end:s,longDateFormat:o,isSmallScreen:a,collapseViewButtons:r,onTodayPress:i,onPreviousPress:l,onNextPress:c}=this.props,d=this.state.view,u=function(e,t,n,s,o){const a=ko()(e),r=ko()(t),i=ko()(n);if("day"===s)return a.format(o);if("month"===s)return a.format("MMMM YYYY");if("agenda"===s)return"Agenda";let l="MMM D YYYY",c="MMM D YYYY";return r.isSame(i,"month")?(l="MMM D",c="D YYYY"):r.isSame(i,"year")&&(l="MMM D",c="MMM D YYYY"),`${r.format(l)}  ${i.format(c)}`}(t,n,s,d,o);return R.createElement("div",null,a&&R.createElement("div",{className:rY.titleMobile},u),R.createElement("div",{className:rY.header},R.createElement("div",{className:rY.navigationButtons},R.createElement(TM,{buttonGroupPosition:Ve,isDisabled:d===jl,onPress:l},R.createElement(Lo,{name:Ln})),R.createElement(TM,{buttonGroupPosition:Qe,isDisabled:d===jl,onPress:c},R.createElement(Lo,{name:jn})),R.createElement(TM,{className:rY.todayButton,isDisabled:d===jl,onPress:i},"Today")),!a&&R.createElement("div",{className:rY.titleDesktop},u),R.createElement("div",{className:rY.viewButtonsContainer},e&&R.createElement(tM,{className:rY.loading,size:20}),r?R.createElement(CA,{className:rY.viewMenu,alignMenu:Qe},R.createElement(bA,null,R.createElement(Lo,{name:ys,size:22})),R.createElement(yA,null,a?null:R.createElement(bq,{name:Bl,selectedView:d,onPress:this.onViewChange},"Month"),R.createElement(bq,{name:Rl,selectedView:d,onPress:this.onViewChange},"Week"),R.createElement(bq,{name:Ll,selectedView:d,onPress:this.onViewChange},"Forecast"),R.createElement(bq,{name:xl,selectedView:d,onPress:this.onViewChange},"Day"),R.createElement(bq,{name:jl,selectedView:d,onPress:this.onViewChange},"Agenda"))):R.createElement("div",{className:rY.viewButtons},R.createElement(aY,{view:Bl,selectedView:d,buttonGroupPosition:Ve,onPress:this.onViewChange}),R.createElement(aY,{view:Rl,selectedView:d,buttonGroupPosition:qe,onPress:this.onViewChange}),R.createElement(aY,{view:Ll,selectedView:d,buttonGroupPosition:qe,onPress:this.onViewChange}),R.createElement(aY,{view:xl,selectedView:d,buttonGroupPosition:qe,onPress:this.onViewChange}),R.createElement(aY,{view:jl,selectedView:d,buttonGroupPosition:Qe,onPress:this.onViewChange})))))}}const lY=iY;function cY(){return cY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cY.apply(null,arguments)}const dY={setCalendarView:ed,gotoCalendarToday:td,gotoCalendarPreviousRange:nd,gotoCalendarNextRange:sd};class uY extends R.Component{constructor(...e){super(...e),this.onViewChange=e=>{this.props.setCalendarView({view:e})},this.onTodayPress=()=>{this.props.gotoCalendarToday()},this.onPreviousPress=()=>{this.props.gotoCalendarPreviousRange()},this.onNextPress=()=>{this.props.gotoCalendarNextRange()}}render(){return R.createElement(lY,cY({},this.props,{onViewChange:this.onViewChange,onTodayPress:this.onTodayPress,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress}))}}const mY=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),$y(),mx(),((e,t,n)=>{const s=U().pick(e,["isFetching","view","time","start","end"]);return s.isSmallScreen=t.isSmallScreen,s.collapseViewButtons=t.isLargeScreen,s.longDateFormat=n.longDateFormat,s}))}),dY)(uY),hY="Calendar-calendarContent-r6xna";class pY extends R.Component{render(){const{isFetching:e,isPopulated:t,error:n,view:s}=this.props;return R.createElement("div",{className:"Calendar-calendar-JZlK7"},e&&!t&&R.createElement(tM,null),!e&&!!n&&R.createElement(OI,{kind:Xs},te("UnableToLoadTheCalendar")),!n&&t&&s===jl&&R.createElement("div",{className:hY},R.createElement(mY,null),R.createElement(L$,null)),!n&&t&&s!==jl&&R.createElement("div",{className:hY},R.createElement(mY,null),R.createElement(nY,null),R.createElement(Y$,null)))}}const gY=pY;function EY(){return EY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EY.apply(null,arguments)}const fY={...g,fetchBookFiles:xi,clearBookFiles:zi,fetchQueueDetails:uh,clearQueueDetails:mh};class CY extends R.Component{constructor(e,t){super(e,t),this.repopulate=()=>{const{time:e,view:t}=this.props;this.props.fetchQueueDetails({time:e,view:t}),this.props.fetchCalendar({time:e,view:t})},this.scheduleUpdate=()=>{this.clearUpdateTimeout(),this.updateTimeoutId=setTimeout(this.updateCalendar,36e5)},this.clearUpdateTimeout=()=>{this.updateTimeoutId&&clearTimeout(this.updateTimeoutId)},this.updateCalendar=()=>{this.props.gotoCalendarToday(),this.scheduleUpdate()},this.onCalendarViewChange=e=>{this.props.setCalendarView({view:e})},this.onTodayPress=()=>{this.props.gotoCalendarToday()},this.onPreviousPress=()=>{this.props.gotoCalendarPreviousRange()},this.onNextPress=()=>{this.props.gotoCalendarNextRange()},this.updateTimeoutId=null}componentDidMount(){const{useCurrentPage:e,fetchCalendar:t,gotoCalendarToday:n}=this.props;mI(this.repopulate,["bookFileUpdated","bookFileDeleted"]),e?t():n(),this.scheduleUpdate()}componentDidUpdate(e){const{items:t,time:n}=this.props;if(nx(e.items,t)){const e=I$(t,"id");t.length&&this.props.fetchQueueDetails({bookIds:e})}e.time!==n&&this.scheduleUpdate()}componentWillUnmount(){hI(this.repopulate),this.props.clearCalendar(),this.props.clearQueueDetails(),this.props.clearBookFiles(),this.clearUpdateTimeout()}render(){return R.createElement(gY,EY({},this.props,{onCalendarViewChange:this.onCalendarViewChange,onTodayPress:this.onTodayPress,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress}))}}const vY=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar),(e=>e))}),fY)(CY);function SY(e){const{unmonitored:t,pastDays:n,futureDays:s,tags:o}=e;let a=`${window.location.host}${window.Researcharr.urlBase}/feed/v1/calendar/Readarr.ics?`;return t&&(a+="unmonitored=true&"),o.length&&(a+=`tags=${o.toString()}&`),a+=`pastDays=${n}&futureDays=${s}&apikey=${encodeURIComponent(window.Researcharr.apiKey)}`,{iCalHttpUrl:`${window.location.protocol}//${a}`,iCalWebCalUrl:`webcal://${a}`}}class bY extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{const n=SY({...this.state,[e]:t});this.setState({[e]:t,...n})},this.onLinkFocus=e=>{e.target.select()};const n={unmonitored:!1,pastDays:7,futureDays:28,tags:[]},s=SY(n);this.state={...n,...s}}render(){const{onModalClose:e}=this.props,{unmonitored:t,pastDays:n,futureDays:s,tags:o,iCalHttpUrl:a,iCalWebCalUrl:r}=this.state;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,"Readarr Calendar Feed"),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("IncludeUnmonitored")),R.createElement(ED,{type:ws,name:"unmonitored",value:t,helpText:te("UnmonitoredHelpText"),onChange:this.onInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("PastDays")),R.createElement(ED,{type:Fs,name:"pastDays",value:n,helpText:te("PastDaysHelpText"),onChange:this.onInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("FutureDays")),R.createElement(ED,{type:Fs,name:"futureDays",value:s,helpText:te("FutureDaysHelpText"),onChange:this.onInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,{type:Ws,name:"tags",value:o,helpText:te("TagsHelpText"),onChange:this.onInputChange})),R.createElement(AI,{size:Eo},R.createElement(Mk,null,te("ICalFeed")),R.createElement(ED,{type:Gs,name:"iCalHttpUrl",value:a,readOnly:!0,helpText:te("ICalHttpUrlHelpText"),buttons:[R.createElement(bD,{key:"copy",value:a,kind:Zs}),R.createElement(BO,{key:"webcal",kind:Zs,to:r,target:"_blank",noRouter:!0},R.createElement(Lo,{name:Ht}))],onChange:this.onInputChange,onFocus:this.onLinkFocus})))),R.createElement(HM,null,R.createElement(TM,{onPress:e},"Close")))}}const PY=bY,yY=(0,Wy.Ng)((function(){return(0,Ky.Mz)(GN(),(e=>({tagList:e})))}))(PY),MY=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(yY,{onModalClose:n}))},IY=function(e){const{name:t,icon:n,kind:s,tooltip:o}=e;return R.createElement("div",{className:"LegendIconItem-legendIconItem-HRUQm",title:o},R.createElement(Lo,{className:"LegendIconItem-icon-GfrY5",name:n,kind:s}),t)},kY={legendItem:"LegendItem-legendItem-MGaWB",downloaded:"LegendItem-downloaded-PAFUG CalendarEvent-downloaded-aVyLe",partial:"LegendItem-partial-HHq7o undefined",downloading:"LegendItem-downloading-MusEH CalendarEvent-downloading-chGem",unmonitored:"LegendItem-unmonitored-kMf3H CalendarEvent-unmonitored-vL9TJ",onAir:"LegendItem-onAir-TEEel undefined",missing:"LegendItem-missing-IdEXm CalendarEvent-missing-Lfb1c",unreleased:"LegendItem-unreleased-CQUuc CalendarEvent-unreleased-ifyp4"},OY=function(e){const{name:t,status:n,tooltip:s,colorImpairedMode:o}=e;return R.createElement("div",{className:Fo()(kY.legendItem,kY[n],o&&"colorImpaired"),title:s},t||EI(n))},wY=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar.options),mx(),((e,t)=>({...e,colorImpairedMode:t.enableColorImpairedMode})))}))((function(e){const{showCutoffUnmetIcon:t,colorImpairedMode:n}=e,s=[];return t&&s.push(R.createElement(IY,{name:"Cutoff Not Met",icon:dn,kind:ro,tooltip:"Quality cutoff has not been met"})),R.createElement("div",{className:"Legend-legend-wnxxq"},R.createElement("div",null,R.createElement(OY,{status:"downloading",tooltip:"Book is currently downloading",colorImpairedMode:n}),R.createElement(OY,{status:"downloaded",tooltip:"Book was downloaded and sorted",colorImpairedMode:n})),R.createElement("div",null,R.createElement(OY,{status:"unreleased",tooltip:"Book hasn't released yet",colorImpairedMode:n}),R.createElement(OY,{status:"partial",tooltip:"Book was partially downloaded",colorImpairedMode:n})),R.createElement("div",null,R.createElement(OY,{status:"unmonitored",tooltip:"Book is unmonitored",colorImpairedMode:n}),R.createElement(OY,{status:"missing",tooltip:"Book file has not been found",colorImpairedMode:n})),R.createElement("div",null,s[0]),s.length>1&&R.createElement("div",null,s[1],s[2]))}));function TY(e){const{advancedSettings:t,onAdvancedSettingsPress:n,showLabel:s}=e;return R.createElement(IM,{className:"AdvancedSettingsButton-button-CzL_3 PageToolbarButton-toolbarButton-j8a_b Link-link-RInnp",title:te(t?"ShownClickToHide":"HiddenClickToShow"),onPress:n},R.createElement(Lo,{name:At,size:21}),R.createElement("span",{className:Fo()("AdvancedSettingsButton-indicatorContainer-OGWLx","fa-layers fa-fw")},R.createElement(Lo,{className:"AdvancedSettingsButton-indicatorBackground-BAO1K",name:Kt,size:16}),R.createElement(Lo,{className:t?"AdvancedSettingsButton-enabled-iam2W":"AdvancedSettingsButton-disabled-QGRYt",name:t?qt:Xt,size:10})),s?R.createElement("div",{className:"AdvancedSettingsButton-labelContainer-Z90Zi PageToolbarButton-labelContainer-QhTz_"},R.createElement("div",{className:"AdvancedSettingsButton-label-s3_aG PageToolbarButton-label-QIVQh"},te(t?"HideAdvanced":"ShowAdvanced"))):null)}TY.defaultProps={showLabel:!0};const NY=TY;function DY(e){const{isOpen:t,onConfirm:n,onCancel:s,bindShortcut:o,unbindShortcut:a}=e;return(0,R.useEffect)((()=>{if(t)return o("enter",n),()=>a("enter",n)}),[o,a,t,n]),R.createElement(JM,{isOpen:t,onModalClose:s},R.createElement(_M,{onModalClose:s},R.createElement(QM,null,"Unsaved Changes"),R.createElement(BM,null,"You have unsaved changes, are you sure you want to leave this page?"),R.createElement(HM,null,R.createElement(TM,{kind:Zs,onPress:s},"Stay and review changes"),R.createElement(TM,{autoFocus:!0,kind:Xs,onPress:n},"Discard changes and leave"))))}DY.defaultProps={kind:so};const AY=kD(DY);class FY extends R.Component{constructor(...e){super(...e),this.saveSettings=e=>{e.preventDefault();const{hasPendingChanges:t,onSavePress:n}=this.props;t&&n()}}componentDidMount(){this.props.bindShortcut(ID.SAVE_SETTINGS.key,this.saveSettings,{isGlobal:!0})}render(){const{advancedSettings:e,showSave:t,isSaving:n,hasPendingChanges:s,additionalButtons:o,hasPendingLocation:a,onSavePress:r,onConfirmNavigation:i,onCancelNavigation:l,onAdvancedSettingsPress:c}=this.props;return R.createElement(RF,null,R.createElement(YF,null,R.createElement(NY,{advancedSettings:e,onAdvancedSettingsPress:c}),t&&R.createElement(jF,{label:te(s?"HasPendingChangesSaveChanges":"HasPendingChangesNoChanges"),iconName:ts,isSpinning:n,isDisabled:!s,onPress:r}),o),R.createElement(AY,{isOpen:a,onConfirm:i,onCancel:l}))}}FY.defaultProps={showSave:!0};const xY=kD(FY);function RY(){return RY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RY.apply(null,arguments)}const BY={toggleAdvancedSettings:rb};class LY extends R.Component{constructor(e,t){super(e,t),this.routerWillLeave=(e,t)=>this.state.confirmed?(this.setState({nextLocation:null,nextLocationAction:null,confirmed:!1}),!0):!this.props.hasPendingChanges||(this.setState({nextLocation:e,nextLocationAction:t}),!1),this.onAdvancedSettingsPress=()=>{this.props.toggleAdvancedSettings()},this.onConfirmNavigation=()=>{const{nextLocation:e,nextLocationAction:t}=this.state,n=this.props.history,s=`${e.pathname}${e.search}`;this.setState({confirmed:!0},(()=>{"PUSH"===t?n.push(s):n.goBack()}))},this.onCancelNavigation=()=>{this.setState({nextLocation:null,nextLocationAction:null,confirmed:!1})},this.state={nextLocation:null,nextLocationAction:null,confirmed:!1},this._unblock=null}componentDidMount(){this._unblock=this.props.history.block(this.routerWillLeave)}componentWillUnmount(){this._unblock&&this._unblock()}render(){const e=null!==this.state.nextLocation;return R.createElement(xY,RY({hasPendingLocation:e,onSavePress:this.props.onSavePress,onAdvancedSettingsPress:this.onAdvancedSettingsPress,onConfirmNavigation:this.onConfirmNavigation,onCancelNavigation:this.onCancelNavigation},this.props))}}LY.defaultProps={hasPendingChanges:!1};const jY=(0,Gy.y)((0,Wy.Ng)((function(e){return{advancedSettings:e.settings.advancedSettings}}),BY)(LY));function _Y(){return _Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_Y.apply(null,arguments)}const zY=[{key:0,value:"Sunday"},{key:1,value:"Monday"}],UY=[{key:"ddd M/D",value:"Tue 3/25",hint:"ddd M/D"},{key:"ddd MM/DD",value:"Tue 03/25",hint:"ddd MM/DD"},{key:"ddd D/M",value:"Tue 25/3",hint:"ddd D/M"},{key:"ddd DD/MM",value:"Tue 25/03",hint:"ddd DD/MM"}],HY=[{key:"MMM D YYYY",value:"Mar 25 2014",hint:"MMM D YYYY"},{key:"DD MMM YYYY",value:"25 Mar 2014",hint:"DD MMM YYYY"},{key:"MM/D/YYYY",value:"03/25/2014",hint:"MM/D/YYYY"},{key:"MM/DD/YYYY",value:"03/25/2014",hint:"MM/DD/YYYY"},{key:"DD/MM/YYYY",value:"25/03/2014",hint:"DD/MM/YYYY"},{key:"YYYY-MM-DD",value:"2014-03-25",hint:"YYYY-MM-DD"}],VY=[{key:"dddd, MMMM D YYYY",value:"Tuesday, March 25, 2014"},{key:"dddd, D MMMM YYYY",value:"Tuesday, 25 March, 2014"}],qY=[{key:"h(:mm)a",value:"5pm/5:30pm"},{key:"HH:mm",value:"17:00/17:30"}];class QY extends R.Component{render(){const{isFetching:e,error:t,settings:n,hasSettings:s,onInputChange:o,onSavePress:a,languages:r,...i}=this.props,l=r.filter((e=>"Original"!==e.value)),c=Object.keys(bF).map((e=>({key:e,value:EI(e)})));return R.createElement(FF,{title:te("UISettings")},R.createElement(jY,_Y({},i,{onSavePress:a})),R.createElement(TF,null,e&&R.createElement(tM,null),!e&&t&&R.createElement(OI,{kind:Xs},te("UnableToLoadUISettings")),s&&!e&&!t&&R.createElement(Sk,_Y({id:"uiSettings"},i),R.createElement(hN,{legend:te("Calendar")},R.createElement(AI,null,R.createElement(Mk,null,te("FirstDayOfWeek")),R.createElement(ED,_Y({type:qs,name:"firstDayOfWeek",values:zY,onChange:o},n.firstDayOfWeek))),R.createElement(AI,null,R.createElement(Mk,null,te("WeekColumnHeader")),R.createElement(ED,_Y({type:qs,name:"calendarWeekColumnHeader",values:UY,onChange:o,helpText:te("CalendarWeekColumnHeaderHelpText")},n.calendarWeekColumnHeader)))),R.createElement(hN,{legend:te("Dates")},R.createElement(AI,null,R.createElement(Mk,null,te("ShortDateFormat")),R.createElement(ED,_Y({type:qs,name:"shortDateFormat",values:HY,onChange:o},n.shortDateFormat))),R.createElement(AI,null,R.createElement(Mk,null,te("LongDateFormat")),R.createElement(ED,_Y({type:qs,name:"longDateFormat",values:VY,onChange:o},n.longDateFormat))),R.createElement(AI,null,R.createElement(Mk,null,te("TimeFormat")),R.createElement(ED,_Y({type:qs,name:"timeFormat",values:qY,onChange:o},n.timeFormat))),R.createElement(AI,null,R.createElement(Mk,null,te("ShowRelativeDates")),R.createElement(ED,_Y({type:ws,name:"showRelativeDates",helpText:te("ShowRelativeDatesHelpText"),onChange:o},n.showRelativeDates)))),R.createElement(hN,{legend:te("Style")},R.createElement(AI,null,R.createElement(Mk,null,te("Theme")),R.createElement(ED,_Y({type:qs,name:"theme",helpText:te("ThemeHelpText"),values:c,onChange:o},n.theme))),R.createElement(AI,null,R.createElement(Mk,null,te("EnableColorImpairedMode")),R.createElement(ED,_Y({type:ws,name:"enableColorImpairedMode",helpText:te("EnableColorImpairedModeHelpText"),onChange:o},n.enableColorImpairedMode)))),R.createElement(hN,{legend:te("Language")},R.createElement(AI,null,R.createElement(Mk,null,te("UILanguage")),R.createElement(ED,_Y({type:qs,name:"uiLanguage",values:l,helpText:te("UILanguageHelpText"),helpTextWarning:te("UILanguageHelpTextWarning"),onChange:o},n.uiLanguage,{errors:r.some((e=>e.key===n.uiLanguage.value))?n.uiLanguage.errors:[...n.uiLanguage.errors,{message:te("InvalidUILanguage")}]})))))))}}const WY=QY;class GY extends R.Component{constructor(e,t){super(e,t),this.onOptionInputChange=({name:e,value:t})=>{const{dispatchSetCalendarOption:n}=this.props;n({[e]:t})},this.onGlobalInputChange=({name:e,value:t})=>{const{dispatchSaveUISettings:n}=this.props,s={[e]:t};this.setState(s,(()=>{n(s)}))},this.onLinkFocus=e=>{e.target.select()};const{firstDayOfWeek:n,calendarWeekColumnHeader:s,timeFormat:o,enableColorImpairedMode:a}=e;this.state={firstDayOfWeek:n,calendarWeekColumnHeader:s,timeFormat:o,enableColorImpairedMode:a}}componentDidUpdate(e){const{firstDayOfWeek:t,calendarWeekColumnHeader:n,timeFormat:s,enableColorImpairedMode:o}=this.props;e.firstDayOfWeek===t&&e.calendarWeekColumnHeader===n&&e.timeFormat===s&&e.enableColorImpairedMode===o||this.setState({firstDayOfWeek:t,calendarWeekColumnHeader:n,timeFormat:s,enableColorImpairedMode:o})}render(){const{collapseMultipleBooks:e,showCutoffUnmetIcon:t,onModalClose:n}=this.props,{firstDayOfWeek:s,calendarWeekColumnHeader:o,timeFormat:a,enableColorImpairedMode:r}=this.state;return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,"Calendar Options"),R.createElement(BM,null,R.createElement(hN,{legend:te("Local")},R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("CollapseMultipleBooks")),R.createElement(ED,{type:ws,name:"collapseMultipleBooks",value:e,helpText:te("CollapseMultipleBooksHelpText"),onChange:this.onOptionInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("IconForCutoffUnmet")),R.createElement(ED,{type:ws,name:"showCutoffUnmetIcon",value:t,helpText:te("ShowCutoffUnmetIconHelpText"),onChange:this.onOptionInputChange})))),R.createElement(hN,{legend:te("Global")},R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("FirstDayOfWeek")),R.createElement(ED,{type:qs,name:"firstDayOfWeek",values:zY,value:s,onChange:this.onGlobalInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("WeekColumnHeader")),R.createElement(ED,{type:qs,name:"calendarWeekColumnHeader",values:UY,value:o,onChange:this.onGlobalInputChange,helpText:te("ShownAboveEachColumnWhenWeekIsTheActiveView")})),R.createElement(AI,null,R.createElement(Mk,null,te("TimeFormat")),R.createElement(ED,{type:qs,name:"timeFormat",values:qY,value:a,onChange:this.onGlobalInputChange})),R.createElement(AI,null,R.createElement(Mk,null,te("EnableColorImpairedMode")),R.createElement(ED,{type:ws,name:"enableColorImpairedMode",value:r,helpText:te("EnableColorImpairedModeHelpText"),onChange:this.onGlobalInputChange}))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},"Close")))}}const KY=GY,$Y={dispatchSetCalendarOption:ad,dispatchSaveUISettings:ZS},YY=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar.options),(e=>e.settings.ui.item),((e,t)=>({...e,...t})))}),$Y)(KY),JY=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(YY,{onModalClose:n}))};class XY extends R.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({width:e});const t=Math.max(3,Math.min(7,Math.floor(e/120)));this.props.onDaysCountChange(t)},this.onGetCalendarLinkPress=()=>{this.setState({isCalendarLinkModalOpen:!0})},this.onGetCalendarLinkModalClose=()=>{this.setState({isCalendarLinkModalOpen:!1})},this.onOptionsPress=()=>{this.setState({isOptionsModalOpen:!0})},this.onOptionsModalClose=()=>{this.setState({isOptionsModalOpen:!1})},this.onSearchMissingPress=()=>{const{missingBookIds:e,onSearchMissingPress:t}=this.props;t(e)},this.state={isCalendarLinkModalOpen:!1,isOptionsModalOpen:!1,width:0}}render(){const{selectedFilterKey:e,filters:t,hasAuthor:n,authorError:s,authorIsFetching:o,authorIsPopulated:a,missingBookIds:r,isSearchingForMissing:i,useCurrentPage:l,onFilterSelect:c}=this.props,{isCalendarLinkModalOpen:d,isOptionsModalOpen:u}=this.state,m=this.state.width>0;return R.createElement(FF,{title:te("Calendar")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("ICalLink"),iconName:Ut,onPress:this.onGetCalendarLinkPress}),R.createElement(jF,{label:te("SearchForMissing"),iconName:os,isDisabled:!r.length,isSpinning:i,onPress:this.onSearchMissingPress})),R.createElement(YF,{alignContent:Qe},R.createElement(jF,{label:te("Options"),iconName:qn,onPress:this.onOptionsPress}),R.createElement(Qx,{alignMenu:Qe,isDisabled:!n,selectedFilterKey:e,filters:t,customFilters:[],onFilterSelect:c}))),R.createElement(TF,{className:"CalendarPage-calendarPageBody-hbV__ PageContentBody-contentBody-Hetrs",innerClassName:"CalendarPage-calendarInnerPageBody-KgK5Y PageContentBody-innerContentBody-PtigL"},o&&!a&&R.createElement(tM,null),s&&R.createElement("div",{className:"CalendarPage-errorMessage-yBZTq"},Jy(s,"Failed to load author from API")),!s&&a&&n&&R.createElement(hw,{onMeasure:this.onMeasure},m?R.createElement(vY,{useCurrentPage:l}):R.createElement("div",null)),!s&&a&&!n&&R.createElement(JV,null),n&&!!s&&R.createElement(wY,null)),R.createElement(MY,{isOpen:d,onModalClose:this.onGetCalendarLinkModalClose}),R.createElement(JY,{isOpen:u,onModalClose:this.onOptionsModalClose}))}}const ZY=XY,eJ=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.calendar.selectedFilterKey),(e=>e.calendar.filters),(0,Ky.Mz)(WD(),(e=>e.authors.error),(e=>e.authors.isFetching),(e=>e.authors.isPopulated),((e,t,n,s)=>({count:e.length,error:t,isFetching:n,isPopulated:s}))),mx(),(0,Ky.Mz)((e=>e.calendar.start),(e=>e.calendar.end),(e=>e.calendar.items),(e=>e.queue.details.items),((e,t,n,s)=>n.reduce(((n,o)=>{const a=o.releaseDate;return o.percentOfBooks<100&&ko()(a).isAfter(e)&&ko()(a).isBefore(t)&&wo(o.releaseDate)&&!s.some((e=>!!e.book&&e.book.id===o.id))&&n.push(o.id),n}),[]))),(0,Ky.Mz)((e=>e.calendar.searchMissingCommandId),IF(),((e,t)=>null!=e&&cc(t.find((t=>t.id===e))))),((e,t,n,s,o,a)=>({selectedFilterKey:e,filters:t,colorImpairedMode:s.enableColorImpairedMode,hasAuthor:!!n.count,authorError:n.error,authorIsFetching:n.isFetching,authorIsPopulated:n.isPopulated,missingBookIds:o,isSearchingForMissing:a})))}),(function(e,t){return{onSearchMissingPress(t){e(rd({bookIds:t}))},onDaysCountChange(t){e(Xc({dayCount:t}))},onFilterSelect(t){e(Zc({selectedFilterKey:t}))}}}))(ZY));function tJ(e){return`${window.Researcharr.urlBase}${e}`}class nJ extends R.Component{render(){const{children:e}=this.props;return R.createElement(Gy.dO,null,wI(e,(e=>{const{path:t,addUrlBase:n=!0}=e.props;if(!t)return e;const s=n?tJ(t):t;return R.cloneElement(e,{path:s})})))}}const sJ=nJ,oJ="AddAuthorOptionsForm-labelIcon-Kjoqp";function aJ(){return aJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aJ.apply(null,arguments)}class rJ extends R.Component{constructor(...e){super(...e),this.onMetadataProfileIdChange=({value:e})=>{this.props.onInputChange({name:"metadataProfileId",value:parseInt(e)})}}render(){const{rootFolderPath:e,monitor:t,monitorNewItems:n,metadataProfileId:s,includeNoneMetadataProfile:o,includeSpecificBookMonitor:a,showMetadataProfile:r,folder:i,tags:l,isWindows:c,onInputChange:d,...u}=this.props;return R.createElement(Sk,u,R.createElement(AI,null,R.createElement(Mk,null,te("RootFolder")),R.createElement(ED,aJ({type:Vs,name:"rootFolderPath",valueOptions:{authorFolder:i,isWindows:c},selectedValueOptions:{authorFolder:i,isWindows:c},helpText:te("AddNewAuthorRootFolderHelpText",{folder:i}),onChange:d},e))),R.createElement(AI,null,R.createElement(Mk,null,te("Monitor"),R.createElement(vN,{anchor:R.createElement(Lo,{className:oJ,name:kn}),title:te("MonitoringOptions"),body:R.createElement(dN,null),position:Po})),R.createElement(ED,aJ({type:Ds,name:"monitor",helpText:te("MonitoringOptionsHelpText"),onChange:d,includeSpecificBook:a},t))),R.createElement(AI,null,R.createElement(Mk,null,te("MonitorNewItems"),R.createElement(vN,{anchor:R.createElement(Lo,{className:oJ,name:kn}),title:te("MonitorNewItems"),body:R.createElement(uN,null),position:Po})),R.createElement(ED,aJ({type:As,name:"monitorNewItems",helpText:te("MonitorNewItemsHelpText")},n,{onChange:d}))),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,aJ({type:Ws,name:"tags",onChange:d},l))))}}rJ.defaultProps={includeSpecificBookMonitor:!1};const iJ=rJ,lJ="AddNewAuthorModalContent-poster-vsTFz";function cJ(){return cJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cJ.apply(null,arguments)}class dJ extends R.Component{constructor(e,t){super(e,t),this.onSearchForMissingBooksChange=({value:e})=>{this.setState({searchForMissingBooks:e})},this.onAddAuthorPress=()=>{this.props.onAddAuthorPress(this.state.searchForMissingBooks)},this.state={searchForMissingBooks:!1}}render(){const{authorName:e,disambiguation:t,overview:n,images:s,isAdding:o,isSmallScreen:a,onModalClose:r,...i}=this.props;return R.createElement(_M,{onModalClose:r},R.createElement(QM,null,te("AddNewAuthor")),R.createElement(BM,null,R.createElement("div",{className:"AddNewAuthorModalContent-container-zJ7Cc"},a?null:R.createElement("div",{className:lJ},R.createElement(nA,{className:lJ,images:s,size:250})),R.createElement("div",{className:"AddNewAuthorModalContent-info-JCDPp"},R.createElement("div",{className:"AddNewAuthorModalContent-name-JrzfR"},e),!!t&&R.createElement("span",{className:"AddNewAuthorModalContent-disambiguation-o1A6n"},"(",t,")"),n?R.createElement("div",{className:"AddNewAuthorModalContent-overview-UvcYX"},R.createElement(qU(),{truncateText:"",line:8,text:n})):null,R.createElement(iJ,cJ({includeNoneMetadataProfile:!1},i))))),R.createElement(HM,{className:"AddNewAuthorModalContent-modalFooter-MumV2 ModalFooter-modalFooter-wjkx5"},R.createElement("label",{className:"AddNewAuthorModalContent-searchForMissingBooksLabelContainer-Ussq9"},R.createElement("span",{className:"AddNewAuthorModalContent-searchForMissingBooksLabel-SRCkg"},"Start search for missing papers"),R.createElement(dk,{containerClassName:"AddNewAuthorModalContent-searchForMissingBooksContainer-t5Pa9 CheckInput-container-FXKYv",className:"AddNewAuthorModalContent-searchForMissingBooksInput-GX6PA CheckInput-input-VAM1T",name:"searchForMissingBooks",value:this.state.searchForMissingBooks,onChange:this.onSearchForMissingBooksChange})),R.createElement(AO,{className:"AddNewAuthorModalContent-addButton-h69oz SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",kind:ao,isSpinning:o,onPress:this.onAddAuthorPress},"Add ",e)))}}const uJ=dJ;function mJ(){return mJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mJ.apply(null,arguments)}const hJ={setAuthorAddDefault:kp,addAuthor:yp};class pJ extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setAuthorAddDefault({[e]:t})},this.onAddAuthorPress=e=>{const{foreignAuthorId:t,rootFolderPath:n,monitor:s,monitorNewItems:o,qualityProfileId:a,metadataProfileId:r,tags:i}=this.props;this.props.addAuthor({foreignAuthorId:t,rootFolderPath:n.value,monitor:s.value,monitorNewItems:o.value,qualityProfileId:a.value,metadataProfileId:r.value,tags:i.value,searchForMissingBooks:e})}}render(){return R.createElement(uJ,mJ({},this.props,{onInputChange:this.onInputChange,onAddAuthorPress:this.onAddAuthorPress}))}}const gJ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.search),(e=>e.settings.metadataProfiles),(e=>e.settings.qualityProfiles),$y(),Yy(),((e,t,n,s,o)=>{const{isAdding:a,addError:r,authorDefaults:i}=e,{settings:l,validationErrors:c,validationWarnings:d}=PI(i,{},r),u=n&&n.items||[],m=(l&&l.qualityProfileId?l.qualityProfileId.value:0)||u[0]&&u[0].id||0;return{isAdding:a,addError:r,showMetadataProfile:!1,isSmallScreen:s.isSmallScreen,validationErrors:c,validationWarnings:d,isWindows:o.isWindows,...l,qualityProfileId:{...l.qualityProfileId,value:m}}}))}),hJ)(pJ);function EJ(){return EJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EJ.apply(null,arguments)}const fJ=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(gJ,EJ({},s,{onModalClose:n})))},CJ="AddNewAuthorSearchResult-year-IBQiH";function vJ(){return vJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vJ.apply(null,arguments)}const SJ=parseInt(Fk().authorIndexColumnPadding),bJ=parseInt(Fk().authorIndexColumnPaddingSmallScreen),PJ=parseInt(sH().defaultFontSize),yJ=parseFloat(sH().lineHeight);class MJ extends R.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState({isNewAddAuthorModalOpen:!0})},this.onAddAuthorModalClose=()=>{this.setState({isNewAddAuthorModalOpen:!1})},this.onMBLinkPress=e=>{e.stopPropagation()},this.state={isNewAddAuthorModalOpen:!1}}componentDidUpdate(e){!e.isExistingAuthor&&this.props.isExistingAuthor&&this.onAddAuthorModalClose()}render(){const{foreignAuthorId:e,titleSlug:t,authorName:n,year:s,disambiguation:o,status:a,overview:r,ratings:i,folder:l,images:c,isExistingAuthor:d,isSmallScreen:u}=this.props,{isNewAddAuthorModalOpen:m}=this.state,h=d?{to:`/author/${t}`}:{onPress:this.onPress},p=function(e,t){let n=185;return n-=t?bJ:SJ,n}(0,u);return R.createElement("div",{className:"AddNewAuthorSearchResult-searchResult-q6xPA"},R.createElement(IM,vJ({className:"AddNewAuthorSearchResult-underlay-UzVv4"},h)),R.createElement("div",{className:"AddNewAuthorSearchResult-overlay-Ar8GC"},R.createElement("div",{className:"AddNewAuthorSearchResult-content-bpbtQ"},R.createElement("div",{className:"AddNewAuthorSearchResult-nameRow-Ec2od"},R.createElement("div",{className:"AddNewAuthorSearchResult-nameContainer-seZRy"},R.createElement("div",{className:"AddNewAuthorSearchResult-name-kIDnP"},n,!n.contains(s)&&s?R.createElement("span",{className:CJ},"(",s,")"):null,!!o&&R.createElement("span",{className:CJ},"(",o,")"))),R.createElement("div",{className:"AddNewAuthorSearchResult-icons-lIU2B"},d?R.createElement(Lo,{className:"AddNewAuthorSearchResult-alreadyExistsIcon-rsSNQ",name:Wt,size:36,title:te("AlreadyInYourLibrary")}):null,R.createElement(IM,{className:"AddNewAuthorSearchResult-mbLink-FOOE1 Link-link-RInnp",to:`https://openalex.org/authors/${e}`,onPress:this.onMBLinkPress},R.createElement(Lo,{className:"AddNewAuthorSearchResult-mbLinkIcon-cBwhU",name:pn,size:28})))),R.createElement("div",null,i.votes>0?R.createElement(YO,{size:Eo},R.createElement(GU,{rating:i.value,iconSize:13})):null,"ended"===a?R.createElement(YO,{kind:Xs,size:Eo},"Deceased"):null),R.createElement("div",{className:"AddNewAuthorSearchResult-overview-qi1aa",style:{maxHeight:`${p}px`}},R.createElement(qU(),{truncateText:"",line:Math.floor(p/(PJ*yJ)),text:bL(r)})))),R.createElement(fJ,{isOpen:m&&!d,foreignAuthorId:e,authorName:n,disambiguation:o,year:s,overview:r,folder:l,images:c,onModalClose:this.onAddAuthorModalClose}))}}const IJ=MJ,kJ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{titleSlug:t})=>t),WD(),((e,t)=>U().some(t,{titleSlug:e}))),$y(),((e,t)=>({isExistingAuthor:e,isSmallScreen:t.isSmallScreen})))}))(IJ),OJ="AddNewBookModalContent-poster-sq8UA";function wJ(){return wJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wJ.apply(null,arguments)}class TJ extends R.Component{constructor(e,t){super(e,t),this.onSearchForNewBookChange=({value:e})=>{this.setState({searchForNewBook:e})},this.onAddBookPress=()=>{this.props.onAddBookPress(this.state.searchForNewBook)},this.state={searchForNewBook:!1}}render(){const{bookTitle:e,seriesTitle:t,authorName:n,disambiguation:s,overview:o,images:a,isAdding:r,isExistingAuthor:i,isSmallScreen:l,onModalClose:c,...d}=this.props;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,te("AddNewBook").replace("Book","Paper")),R.createElement(BM,null,R.createElement("div",{className:"AddNewBookModalContent-container-GtFuJ"},l?null:R.createElement("div",{className:OJ},R.createElement(WW,{className:OJ,images:a,size:250})),R.createElement("div",{className:"AddNewBookModalContent-info-lW2TH"},R.createElement("div",{className:"AddNewBookModalContent-name-XuHnN"},e),!!s&&R.createElement("span",{className:"AddNewBookModalContent-disambiguation-UA1oZ"},"(",s,")"),!!t&&R.createElement("div",{className:"AddNewBookModalContent-series-hUVXB"},t),R.createElement("div",null,R.createElement("span",{className:"AddNewBookModalContent-authorName-FdT79"}," By: ",n)),o?R.createElement("div",{className:"AddNewBookModalContent-overview-Z0fEL"},R.createElement(qU(),{truncateText:"",line:8,text:bL(o)})):null,!i&&R.createElement(iJ,wJ({authorName:n,includeNoneMetadataProfile:!0,includeSpecificBookMonitor:!0},d))))),R.createElement(HM,{className:"AddNewBookModalContent-modalFooter-hRU7r ModalFooter-modalFooter-wjkx5"},R.createElement("label",{className:"AddNewBookModalContent-searchForNewBookLabelContainer-hYd8j"},R.createElement("span",{className:"AddNewBookModalContent-searchForNewBookLabel-sCwPU"},"Start search for new paper"),R.createElement(dk,{containerClassName:"AddNewBookModalContent-searchForNewBookContainer-Ndk1f CheckInput-container-FXKYv",className:"AddNewBookModalContent-searchForNewBookInput-VwE7q CheckInput-input-VAM1T",name:"searchForNewBook",value:this.state.searchForNewBook,onChange:this.onSearchForNewBookChange})),R.createElement(AO,{className:"AddNewBookModalContent-addButton-jUSw3 SpinnerButton-button-uE9hL Button-button-paJ9a Link-link-RInnp",kind:ao,isSpinning:r,onPress:this.onAddBookPress},"Add ",e)))}}const NJ=TJ;function DJ(){return DJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DJ.apply(null,arguments)}const AJ={setBookAddDefault:Op,addBook:Mp};class FJ extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setBookAddDefault({[e]:t})},this.onAddBookPress=e=>{const{foreignBookId:t,rootFolderPath:n,monitor:s,monitorNewItems:o,qualityProfileId:a,metadataProfileId:r,tags:i}=this.props;this.props.addBook({foreignBookId:t,rootFolderPath:n.value,monitor:s.value,monitorNewItems:o.value,qualityProfileId:a.value,metadataProfileId:r.value,tags:i.value,searchForNewBook:e})}}render(){return R.createElement(NJ,DJ({},this.props,{onInputChange:this.onInputChange,onAddBookPress:this.onAddBookPress}))}}const xJ=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{isExistingAuthor:t})=>t),(e=>e.search),(e=>e.settings.metadataProfiles),(e=>e.settings.qualityProfiles),$y(),Yy(),((e,t,n,s,o,a)=>{const{isAdding:r,addError:i,bookDefaults:l}=t,{settings:c,validationErrors:d,validationWarnings:u}=PI(l,{},i),m=s&&s.items||[],h=(c&&c.qualityProfileId?c.qualityProfileId.value:0)||m[0]&&m[0].id||0;return{isAdding:r,addError:i,showMetadataProfile:!0,isSmallScreen:o.isSmallScreen,validationErrors:d,validationWarnings:u,isWindows:a.isWindows,...c,qualityProfileId:{...c.qualityProfileId,value:h}}}))}),AJ)(FJ);function RJ(){return RJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},RJ.apply(null,arguments)}const BJ=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(xJ,RJ({},s,{onModalClose:n})))};function LJ(){return LJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LJ.apply(null,arguments)}const jJ=parseInt(Fk().authorIndexColumnPadding),_J=parseInt(Fk().authorIndexColumnPaddingSmallScreen),zJ=parseInt(sH().defaultFontSize),UJ=parseFloat(sH().lineHeight);class HJ extends R.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.setState({isNewAddBookModalOpen:!0})},this.onAddBookModalClose=()=>{this.setState({isNewAddBookModalOpen:!1})},this.onMBLinkPress=e=>{e.stopPropagation()},this.state={isNewAddBookModalOpen:!1}}componentDidUpdate(e){!e.isExistingBook&&this.props.isExistingBook&&this.onAddBookModalClose()}render(){const{foreignBookId:e,titleSlug:t,title:n,seriesTitle:s,releaseDate:o,disambiguation:a,overview:r,ratings:i,images:l,author:c,editions:d,isExistingBook:u,isExistingAuthor:m,isSmallScreen:h}=this.props,{isNewAddBookModalOpen:p}=this.state,g=u?{to:`/book/${t}`}:{onPress:this.onPress},E=function(e,t){let n=160;return n-=t?_J:jJ,n}(0,h);return R.createElement("div",{className:"AddNewBookSearchResult-searchResult-PchXX"},R.createElement(IM,LJ({className:"AddNewBookSearchResult-underlay-erEH_"},g)),R.createElement("div",{className:"AddNewBookSearchResult-overlay-f5o3F"},R.createElement("div",{className:"AddNewBookSearchResult-content-mlPwI"},R.createElement("div",{className:"AddNewBookSearchResult-titleRow-IuEd4"},R.createElement("div",{className:"AddNewBookSearchResult-titleContainer-YZwr1"},R.createElement("div",{className:"AddNewBookSearchResult-title-B5nTX"},n,!!a&&R.createElement("span",{className:"AddNewBookSearchResult-year-PADV2"},"(",a,")"))),R.createElement("div",{className:"AddNewBookSearchResult-icons-WsMgY"},u?R.createElement(Lo,{className:"AddNewBookSearchResult-alreadyExistsIcon-gHu19",name:Wt,size:36,title:te("AlreadyInYourLibrary")}):null,d&&d.length>1?R.createElement(IM,{className:"AddNewBookSearchResult-mbLink-FDIq7 Link-link-RInnp",to:`https://openalex.org/works/${d[0].foreignEditionId}`,onPress:this.onTVDBLinkPress},R.createElement(Lo,{className:"AddNewBookSearchResult-mbLinkIcon-o_lXn",name:pn,size:28})):null)),s&&R.createElement("div",{className:"AddNewBookSearchResult-series-ajI82"},s),R.createElement("div",null,R.createElement(YO,{size:Eo},R.createElement(GU,{rating:i.value,iconSize:13})),!!o&&R.createElement(YO,{size:Eo},ko()(o).format("YYYY"))),R.createElement("div",{className:"AddNewBookSearchResult-overview-iv4Dw",style:{maxHeight:`${E}px`}},R.createElement(qU(),{truncateText:"",line:Math.floor(E/(zJ*UJ)),text:bL(r)})))),R.createElement(BJ,{isOpen:p&&!u,isExistingAuthor:m,foreignBookId:e,bookTitle:n,seriesTitle:s,disambiguation:a,authorName:c.authorName,overview:r,folder:c.folder,images:l,onModalClose:this.onAddBookModalClose}))}}const VJ=HJ,qJ=(0,Wy.Ng)((function(){return(0,Ky.Mz)($y(),(e=>({isSmallScreen:e.isSmallScreen})))}))(VJ),QJ={searchContainer:"AddNewItem-searchContainer-pD6ao",searchIconContainer:"AddNewItem-searchIconContainer-wp3ZF",searchInput:"AddNewItem-searchInput-gplWT TextInput-input-svfXu Input-input-KWeec",clearLookupButton:"AddNewItem-clearLookupButton-MbKYE",message:"AddNewItem-message-TfXoY",helpText:"AddNewItem-helpText-rhvzu",noResults:"AddNewItem-noResults-IaBpY",searchResults:"AddNewItem-searchResults-wMWIJ"};function WJ(){return WJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WJ.apply(null,arguments)}class GJ extends R.Component{constructor(e,t){super(e,t),this.onSearchInputChange=({value:e})=>{const t=!!e.trim();this.setState({term:e,isFetching:t},(()=>{t?this.props.onSearchChange(e):this.props.onClearSearch()}))},this.onClearSearchPress=()=>{this.setState({term:""}),this.props.onClearSearch()},this.state={term:e.term||"",isFetching:!1}}componentDidMount(){const e=this.state.term;e&&this.props.onSearchChange(e)}componentDidUpdate(e){const{term:t,isFetching:n}=this.props;t&&t!==e.term?(this.setState({term:t,isFetching:!0}),this.props.onSearchChange(t)):n!==e.isFetching&&this.setState({isFetching:n})}render(){const{error:e,items:t,hasExistingAuthors:n}=this.props,s=this.state.term,o=this.state.isFetching;return R.createElement(FF,{title:te("AddNewItem")},R.createElement(TF,null,R.createElement("div",{className:QJ.searchContainer},R.createElement("div",{className:QJ.searchIconContainer},R.createElement(Lo,{name:os,size:20})),R.createElement(jO,{className:QJ.searchInput,name:"searchBox",value:s,placeholder:te("SearchBoxPlaceHolder"),autoFocus:!0,onChange:this.onSearchInputChange}),R.createElement(TM,{className:QJ.clearLookupButton,onPress:this.onClearSearchPress},R.createElement(Lo,{name:Kn,size:20}))),o&&R.createElement(tM,null),!o&&e?R.createElement("div",{className:QJ.message},R.createElement("div",{className:QJ.helpText},te("FailedLoadingSearchResults")),R.createElement(OI,{kind:ro},Jy(e)),R.createElement("div",null,R.createElement(IM,{to:"https://wiki.servarr.com/readarr/troubleshooting#invalid-response-received-from-metadata-api"},te("WhySearchesCouldBeFailing")))):null,!o&&!e&&!!t.length&&R.createElement("div",{className:QJ.searchResults},t.map((e=>{if(e.author){const t=e.author;return R.createElement(kJ,WJ({key:e.id},t))}if(e.book){const t=e.book;return R.createElement(qJ,WJ({key:e.id,isExistingBook:"id"in t&&0!==t.id,isExistingAuthor:"id"in t.author&&0!==t.author.id},t))}return null}))),!o&&!e&&!t.length&&!!s&&R.createElement("div",{className:QJ.message},R.createElement("div",{className:QJ.noResults},te("CouldntFindAnyResultsForTerm",[s])),R.createElement("div",null,"You can also search using the",R.createElement(IM,{to:"https://openalex.org"}," OpenAlex ID "),"of a book (e.g. works/W2741809805), work (e.g. works/W2741809805) or author (e.g. authors/A5023888391), the doi (e.g. doi:10.1038/d41586-019-03847-7) or the asin (e.g. asin:B00JCDK5ME)")),s?null:R.createElement("div",{className:QJ.message},R.createElement("div",{className:QJ.helpText},te("ItsEasyToAddANewAuthorOrBookJustStartTypingTheNameOfTheItemYouWantToAdd")),R.createElement("div",null,"You can also search using the",R.createElement(IM,{to:"https://openalex.org"}," OpenAlex ID "),"of a book (e.g. works/W2741809805), work (e.g. works/W2741809805) or author (e.g. authors/A5023888391), the doi (e.g. doi:10.1038/d41586-019-03847-7) or the asin (e.g. asin:B00JCDK5ME)")),s||n?null:R.createElement("div",{className:QJ.message},R.createElement("div",{className:QJ.noAuthorsText},"You haven't added any authors yet, do you want to add an existing library location (Root Folder) and update?"),R.createElement("div",null,R.createElement(TM,{to:"/settings/mediamanagement",kind:so},te("AddRootFolder")))),R.createElement("div",null)))}}const KJ=GJ;function $J(){return $J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$J.apply(null,arguments)}const YJ={getSearchResults:Pp,clearSearchResults:Ip,fetchRootFolders:HS};class JJ extends R.Component{constructor(e,t){super(e,t),this.onSearchChange=e=>{this._searchTimeout&&clearTimeout(this._searchTimeout),""===e.trim()?this.props.clearSearchResults():this._searchTimeout=setTimeout((()=>{this.props.getSearchResults({term:e})}),300)},this.onClearSearch=()=>{this.props.clearSearchResults()},this._searchTimeout=null}componentDidMount(){this.props.fetchRootFolders()}componentWillUnmount(){this._searchTimeout&&clearTimeout(this._searchTimeout),this.props.clearSearchResults()}render(){const{term:e,...t}=this.props;return R.createElement(KJ,$J({term:e},t,{onSearchChange:this.onSearchChange,onClearSearch:this.onClearSearch}))}}const XJ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.search),(e=>e.authors.items.length),(e=>e.router.location),((e,t,n)=>{const{params:s}=Ly(n.search);return{...e,term:s.term,hasExistingAuthors:t>0}}))}),YJ)(JJ);var ZJ=n(42200),eX=n(8909);class tX extends R.Component{render(){const{className:e,overlayClassName:t,overlayContent:n,children:s,onPress:o}=this.props;return n?R.createElement("div",{className:e},R.createElement(IM,{className:"Card-underlay-bObAW",onPress:o}),R.createElement("div",{className:t},s)):R.createElement(IM,{className:e,onPress:o},s)}}tX.defaultProps={className:"Card-card-aoesq",overlayClassName:"Card-overlay-WuJz0",overlayContent:!1};const nX=tX,sX=function(e){const{isFetching:t,isPopulated:n,error:s,errorMessage:o,children:a}=e;return t?R.createElement(tM,null):!t&&s?R.createElement(OI,{kind:Xs},o):n&&!s?R.createElement("div",null,a):null};class oX extends R.Component{constructor(e,t){super(e,t),this.onChange=e=>{this.setState({json:e.value})},this.onImportPress=()=>{this.setState({isSpinning:!0}),this._importTimeout=setTimeout(this.doImport,250)},this.doImport=()=>{const e=this.props.onImportPress(this.state.json);this.setState({parseError:e,isSpinning:!1}),e||this.props.onModalClose()},this._importTimeout=null,this.state={json:"",isSpinning:!1,parseError:null}}componentWillUnmount(){this._importTimeout&&clearTimeout(this._importTimeout)}render(){const{isFetching:e,error:t,specificationsPopulated:n,onModalClose:s}=this.props,{json:o,isSpinning:a,parseError:r}=this.state;return R.createElement(_M,{onModalClose:s},R.createElement(QM,null,"Import Custom Format"),R.createElement(BM,null,R.createElement("div",null,e&&R.createElement(tM,null),!e&&!!t&&R.createElement("div",null,"Unable to load custom formats"),!e&&!t&&n&&R.createElement(Sk,null,R.createElement(AI,{size:go},R.createElement(Mk,null,"Custom Format JSON"),R.createElement(ED,{key:0,inputClassName:"ImportCustomFormatModalContent-input-pByC1 TextArea-input-E794O Input-input-KWeec",type:Ks,name:"customFormatJson",value:o,onChange:this.onChange,placeholder:'{\n  "name": "Custom Format"\n}',errors:r?[r]:[]}))))),R.createElement(HM,null,R.createElement(TM,{onPress:s},"Cancel"),R.createElement(CT,{onPress:this.onImportPress,isSpinning:a,error:r},"Import")))}}const aX=oX;function rX(){return rX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rX.apply(null,arguments)}const iX={deleteAllCustomFormatSpecification:Pg,clearCustomFormatSpecificationPending:Og,clearPendingChanges:he,saveCustomFormatSpecification:Sg,selectCustomFormatSpecificationSchema:vg,setCustomFormatSpecificationFieldValue:Mg,setCustomFormatSpecificationValue:yg,setCustomFormatValue:Xp,fetchCustomFormatSpecificationSchema:Cg};class lX extends R.Component{constructor(...e){super(...e),this.clearPending=()=>{this.props.clearPendingChanges({section:"settings.customFormats"}),this.props.clearCustomFormatSpecificationPending(),this.props.deleteAllCustomFormatSpecification()},this.onImportPress=e=>{this.clearPending();try{const t=JSON.parse(e);this.parseCf(t)}catch(e){return this.clearPending(),{message:e.message,detailedMessage:e.stack}}return null},this.parseCf=e=>{for(const[t,n]of Object.entries(e))if("specifications"===t)for(const e of n)this.parseSpecification(e);else"id"!==t&&this.props.setCustomFormatValue({name:t,value:n})},this.parseSpecification=e=>{const t=U().find(this.props.specificationSchema,{implementation:e.implementation});if(!t)throw new Error(`Unknown Custom Format condition '${e.implementation}'`);this.props.selectCustomFormatSpecificationSchema({implementation:e.implementation});for(const[n,s]of Object.entries(e))"fields"===n?this.parseFields(s,t):"id"!==n&&this.props.setCustomFormatSpecificationValue({name:n,value:s});this.props.saveCustomFormatSpecification()},this.parseFields=(e,t)=>{for(const[n,s]of Object.entries(e)){if(!U().find(t.fields,{name:n}))throw new Error(`Unknown option '${n}' for condition '${t.implementationName}'`);this.props.setCustomFormatSpecificationFieldValue({name:n,value:s})}}}componentDidMount(){this.props.fetchCustomFormatSpecificationSchema()}render(){return R.createElement(aX,rX({},this.props,{onImportPress:this.onImportPress}))}}const cX=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("customFormats"),(e=>e.settings.customFormatSpecifications),((e,t,n)=>({advancedSettings:e,...t,specificationsPopulated:n.isPopulated,specificationSchema:n.schema})))}),iX)(lX);function dX(){return dX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dX.apply(null,arguments)}class uX extends R.Component{constructor(e,t){super(e,t),this.onContentHeightChange=e=>{("auto"===this.state.height||e>this.state.height)&&this.setState({height:e})},this.state={height:"auto"}}render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{style:{height:`${this.state.height}px`},isOpen:e,size:Eo,onModalClose:t},R.createElement(cX,dX({},n,{onContentHeightChange:this.onContentHeightChange,onModalClose:t})))}}const mX=uX;function hX(){return hX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hX.apply(null,arguments)}class pX extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,implementation:t}=this.props;this.props.onPress({name:e,implementation:t})}}render(){const{name:e,implementation:t,...n}=this.props;return R.createElement(kA,hX({},n,{onPress:this.onPress}),e)}}const gX=pX;class EX extends R.Component{constructor(...e){super(...e),this.onSpecificationSelect=()=>{const{implementation:e}=this.props;this.props.onSpecificationSelect({implementation:e})}}render(){const{implementation:e,implementationName:t,infoLink:n,presets:s,onSpecificationSelect:o}=this.props,a=!!s&&!!s.length;return R.createElement("div",{className:"AddSpecificationItem-specification-ifqAt Card-card-aoesq"},R.createElement(IM,{className:"AddSpecificationItem-underlay-w1aRk",onPress:this.onSpecificationSelect}),R.createElement("div",{className:"AddSpecificationItem-overlay-5g_Xp"},R.createElement("div",{className:"AddSpecificationItem-name-VwWrp"},t),R.createElement("div",{className:"AddSpecificationItem-actions-MMs3Y"},a&&R.createElement("span",null,R.createElement(TM,{size:po,onPress:this.onSpecificationSelect},"Custom"),R.createElement(CA,{className:"AddSpecificationItem-presetsMenu-oMDbn Menu-menu-Uz3_0"},R.createElement(TM,{className:"AddSpecificationItem-presetsMenuButton-AfrGQ Button-button-paJ9a Link-link-RInnp",size:po},"Presets"),R.createElement(yA,null,s.map(((t,n)=>R.createElement(gX,{key:n,name:t.name,implementation:e,onPress:o})))))),R.createElement(TM,{to:n,size:po},"More Info"))))}}const fX=EX;function CX(){return CX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CX.apply(null,arguments)}class vX extends R.Component{render(){const{isSchemaFetching:e,isSchemaPopulated:t,schemaError:n,schema:s,onSpecificationSelect:o,onModalClose:a}=this.props;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Add Condition"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,"Unable to add a new condition, please try again."),t&&!n&&R.createElement("div",null,R.createElement(OI,{kind:to},R.createElement("div",null,"Readarr supports custom conditions against the release properties below."),R.createElement("div",null,"Visit the wiki for more details: ",R.createElement(IM,{to:"https://wiki.servarr.com/readarr/settings#custom-formats-2"},"Wiki"))),R.createElement("div",{className:"AddSpecificationModalContent-specifications-x_4O_"},s.map((e=>R.createElement(fX,CX({key:e.implementation},e,{onSpecificationSelect:o}))))))),R.createElement(HM,null,R.createElement(TM,{onPress:a},"Close")))}}const SX=vX;function bX(){return bX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bX.apply(null,arguments)}const PX={fetchCustomFormatSpecificationSchema:Cg,selectCustomFormatSpecificationSchema:vg};class yX extends R.Component{constructor(...e){super(...e),this.onSpecificationSelect=({implementation:e,name:t})=>{this.props.selectCustomFormatSpecificationSchema({implementation:e,presetName:t}),this.props.onModalClose({specificationSelected:!0})}}componentDidMount(){this.props.fetchCustomFormatSpecificationSchema()}render(){return R.createElement(SX,bX({},this.props,{onSpecificationSelect:this.onSpecificationSelect}))}}const MX=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.customFormatSpecifications),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}}))}),PX)(yX);function IX(){return IX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},IX.apply(null,arguments)}const kX=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(MX,IX({},n,{onModalClose:t})))};function OX(){return OX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OX.apply(null,arguments)}function wX({type:e,selectOptionsProviderAction:t}){switch(e){case"captcha":return Os;case"checkbox":return ws;case"device":return Ts;case"bookshelf":return Ns;case"password":return Rs;case"number":return Fs;case"path":case"filePath":return Bs;case"select":return t?Qs:qs;case"tag":return $s;case"tagSelect":return Ys;case"textbox":default:return Gs;case"oAuth":return xs}}function TX(e){if(e)return U().reduce(e,((e,t)=>(e.push({key:t.value,value:t.name,hint:t.hint}),e)),[])}function NX(e){const{advancedSettings:t,name:n,label:s,helpText:o,helpTextWarning:a,helpLink:r,placeholder:i,value:l,type:c,advanced:d,hidden:u,pending:m,errors:h,warnings:p,selectOptions:g,onChange:E,...f}=e;return"hidden"===u||"hiddenIfNotSet"===u&&!l?null:R.createElement(AI,{advancedSettings:t,isAdvanced:d},R.createElement(Mk,null,s),R.createElement(ED,OX({type:wX(e),name:n,label:s,helpText:o,helpTextWarning:a,helpLink:r,placeholder:i,value:l,values:TX(g),errors:h,warnings:p,pending:m,includeFiles:"filePath"===c||void 0,onChange:E},f)))}NX.defaultProps={advancedSettings:!1};const DX=NX;function AX(){return AX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AX.apply(null,arguments)}const FX=function(e){const{advancedSettings:t,item:n,onInputChange:s,onFieldChange:o,onCancelPress:a,onSavePress:r,onDeleteSpecificationPress:i,...l}=e,{id:c,implementationName:d,name:u,negate:m,required:h,fields:p}=n;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,`${c?"Edit":"Add"} Condition - ${d}`),R.createElement(BM,null,R.createElement(Sk,l,p&&p.some((e=>e.label===te("CustomFormatsSpecificationRegularExpression")))&&R.createElement(OI,{kind:to},R.createElement("div",null,R.createElement("div",{dangerouslySetInnerHTML:{__html:"This condition matches using Regular Expressions. Note that the characters <code>\\^$.|?*+()[{</code> have special meanings and need escaping with a <code>\\</code>"}}),"More details"," ",R.createElement(IM,{to:"https://www.regular-expressions.info/tutorial.html"},"Here")),R.createElement("div",null,"Regular expressions can be tested ",R.createElement(IM,{to:"http://regexstorm.net/tester"},"Here"))),R.createElement(AI,null,R.createElement(Mk,null,"Name"),R.createElement(ED,AX({type:Gs,name:"name"},u,{onChange:s}))),p&&p.map((e=>R.createElement(DX,AX({key:e.name,advancedSettings:t,provider:"specifications",providerData:n},e,{onChange:o})))),R.createElement(AI,null,R.createElement(Mk,null,"Negate"),R.createElement(ED,AX({type:ws,name:"negate"},m,{helpText:te("NegateHelpText",[d]),onChange:s}))),R.createElement(AI,null,R.createElement(Mk,null,"Required"),R.createElement(ED,AX({type:ws,name:"required"},h,{helpText:te("RequiredHelpText",[d,d]),onChange:s}))))),R.createElement(HM,null,c&&R.createElement(TM,{className:"EditSpecificationModalContent-deleteButton-c9rQ4 Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:i},"Delete"),R.createElement(TM,{onPress:a},"Cancel"),R.createElement(CT,{isSpinning:!1,onPress:r},"Save")))};function xX(){return xX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xX.apply(null,arguments)}const RX={setCustomFormatSpecificationValue:yg,setCustomFormatSpecificationFieldValue:Mg,saveCustomFormatSpecification:Sg,clearCustomFormatSpecificationPending:Og};class BX extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setCustomFormatSpecificationValue({name:e,value:t})},this.onFieldChange=({name:e,value:t})=>{this.props.setCustomFormatSpecificationFieldValue({name:e,value:t})},this.onCancelPress=()=>{this.props.clearCustomFormatSpecificationPending(),this.props.onModalClose()},this.onSavePress=()=>{this.props.saveCustomFormatSpecification({id:this.props.id}),this.props.onModalClose()}}render(){return R.createElement(FX,xX({},this.props,{onCancelPress:this.onCancelPress,onSavePress:this.onSavePress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const LX=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("customFormatSpecifications"),((e,t)=>({advancedSettings:e,...t})))}),RX)(BX);function jX(){return jX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jX.apply(null,arguments)}const _X=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(LX,jX({},n,{onModalClose:t})))};function zX(){return zX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zX.apply(null,arguments)}class UX extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,...t}=this.props;return R.createElement(_X,zX({},t,{onModalClose:this.onModalClose}))}}const HX=(0,Wy.Ng)(null,(function(e,t){return{dispatchClearPendingChanges(){e(he({section:"settings.customFormatSpecifications"}))}}}))(UX);class VX extends R.Component{constructor(e,t){super(e,t),this.onEditSpecificationPress=()=>{this.setState({isEditSpecificationModalOpen:!0})},this.onEditSpecificationModalClose=()=>{this.setState({isEditSpecificationModalOpen:!1})},this.onDeleteSpecificationPress=()=>{this.setState({isEditSpecificationModalOpen:!1,isDeleteSpecificationModalOpen:!0})},this.onDeleteSpecificationModalClose=()=>{this.setState({isDeleteSpecificationModalOpen:!1})},this.onCloneSpecificationPress=()=>{this.props.onCloneSpecificationPress(this.props.id)},this.onConfirmDeleteSpecification=()=>{this.props.onConfirmDeleteSpecification(this.props.id)},this.state={isEditSpecificationModalOpen:!1,isDeleteSpecificationModalOpen:!1}}render(){const{id:e,implementationName:t,name:n,required:s,negate:o}=this.props;return R.createElement(nX,{className:"Specification-customFormat-eMwyx Card-card-aoesq",overlayContent:!0,onPress:this.onEditSpecificationPress},R.createElement("div",{className:"Specification-nameContainer-RnvUM"},R.createElement("div",{className:"Specification-name-CCiQR"},n),R.createElement(Ek,{className:"Specification-cloneButton-u1JT_ IconButton-button-t4C5V Link-link-RInnp",title:te("CloneCondition"),name:Zt,onPress:this.onCloneSpecificationPress})),R.createElement("div",{className:"Specification-labels-KH_af"},R.createElement(YO,{kind:Zs},t),o&&R.createElement(YO,{kind:Xs},te("Negated")),s&&R.createElement(YO,{kind:ao},te("Required"))),R.createElement(_X,{id:e,isOpen:this.state.isEditSpecificationModalOpen,onModalClose:this.onEditSpecificationModalClose,onDeleteSpecificationPress:this.onDeleteSpecificationPress}),R.createElement(wD,{isOpen:this.state.isDeleteSpecificationModalOpen,kind:Xs,title:te("DeleteCondition"),message:te("DeleteConditionMessageText",{name:n}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteSpecification,onCancel:this.onDeleteSpecificationModalClose}))}}const qX=VX,QX="EditCustomFormatModalContent-deleteButton-YRaYD Button-button-paJ9a Link-link-RInnp";function WX(){return WX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WX.apply(null,arguments)}class GX extends R.Component{constructor(e,t){super(e,t),this.onAddSpecificationPress=()=>{this.setState({isAddSpecificationModalOpen:!0})},this.onAddSpecificationModalClose=({specificationSelected:e=!1}={})=>{this.setState({isAddSpecificationModalOpen:!1,isEditSpecificationModalOpen:e})},this.onEditSpecificationModalClose=()=>{this.setState({isEditSpecificationModalOpen:!1})},this.onImportPress=()=>{this.setState({isImportCustomFormatModalOpen:!0})},this.onImportCustomFormatModalClose=()=>{this.setState({isImportCustomFormatModalOpen:!1})},this.state={isAddSpecificationModalOpen:!1,isEditSpecificationModalOpen:!1,isImportCustomFormatModalOpen:!1}}render(){const{isFetching:e,error:t,isSaving:n,saveError:s,item:o,specificationsPopulated:a,specifications:r,onInputChange:i,onSavePress:l,onModalClose:c,onDeleteCustomFormatPress:d,onCloneSpecificationPress:u,onConfirmDeleteSpecification:m,...h}=this.props,{isAddSpecificationModalOpen:p,isEditSpecificationModalOpen:g,isImportCustomFormatModalOpen:E}=this.state,{id:f,name:C,includeCustomFormatWhenRenaming:v}=o;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,f?"Edit Custom Format":"Add Custom Format"),R.createElement(BM,null,R.createElement("div",null,e&&R.createElement(tM,null),!e&&!!t&&R.createElement("div",null,"Unable to add a new custom format, please try again."),!e&&!t&&a&&R.createElement("div",null,R.createElement(Sk,h,R.createElement(AI,null,R.createElement(Mk,null,"Name"),R.createElement(ED,WX({type:Gs,name:"name"},C,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,"Include Custom Format when Renaming"),R.createElement(ED,WX({type:ws,name:"includeCustomFormatWhenRenaming",helpText:te("IncludeCustomFormatWhenRenamingHelpText")},v,{onChange:i})))),R.createElement(hN,{legend:te("Conditions")},R.createElement(OI,{kind:to},R.createElement("div",null,te("CustomFormatsSettingsTriggerInfo"))),R.createElement("div",{className:"EditCustomFormatModalContent-customFormats-qVU9p"},r.map((e=>R.createElement(qX,WX({key:e.id},e,{onCloneSpecificationPress:u,onConfirmDeleteSpecification:m})))),R.createElement(nX,{className:"EditCustomFormatModalContent-addSpecification-ziqyR CustomFormat-customFormat-bQGEb Card-card-aoesq",onPress:this.onAddSpecificationPress},R.createElement("div",{className:"EditCustomFormatModalContent-center-CwrAN"},R.createElement(Lo,{name:Tt,size:45}))))),R.createElement(kX,{isOpen:p,onModalClose:this.onAddSpecificationModalClose}),R.createElement(HX,{isOpen:g,onModalClose:this.onEditSpecificationModalClose}),R.createElement(mX,{isOpen:E,onModalClose:this.onImportCustomFormatModalClose})))),R.createElement(HM,null,R.createElement("div",{className:"EditCustomFormatModalContent-rightButtons-cMlfm"},f&&R.createElement(TM,{className:QX,kind:Xs,onPress:d},"Delete"),R.createElement(TM,{className:QX,onPress:this.onImportPress},"Import")),R.createElement(TM,{onPress:c},"Cancel"),R.createElement(CT,{isSpinning:n,error:s,onPress:l},"Save")))}}const KX=GX;function $X(){return $X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$X.apply(null,arguments)}const YX={setCustomFormatValue:Xp,saveCustomFormat:Yp,fetchCustomFormatSpecifications:fg,cloneCustomFormatSpecification:Ig,deleteCustomFormatSpecification:bg};class JX extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setCustomFormatValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveCustomFormat({id:this.props.id})},this.onCloneSpecificationPress=e=>{this.props.cloneCustomFormatSpecification({id:e})},this.onConfirmDeleteSpecification=e=>{this.props.deleteCustomFormatSpecification({id:e})}}componentDidMount(){const{id:e,tagsFromId:t}=this.props;this.props.fetchCustomFormatSpecifications({id:t||e})}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(KX,$X({},this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange,onCloneSpecificationPress:this.onCloneSpecificationPress,onConfirmDeleteSpecification:this.onConfirmDeleteSpecification}))}}const XX=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("customFormats"),(e=>e.settings.customFormatSpecifications),((e,t,n)=>({advancedSettings:e,...t,specificationsPopulated:n.isPopulated,specifications:n.items})))}),YX)(JX);function ZX(){return ZX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZX.apply(null,arguments)}class eZ extends R.Component{constructor(e,t){super(e,t),this.onContentHeightChange=e=>{("auto"===this.state.height||e>this.state.height)&&this.setState({height:e})},this.state={height:"auto"}}render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{style:{height:`${this.state.height}px`},isOpen:e,size:Eo,onModalClose:t},R.createElement(XX,ZX({},n,{onContentHeightChange:this.onContentHeightChange,onModalClose:t})))}}const tZ=eZ;function nZ(){return nZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nZ.apply(null,arguments)}const sZ={clearPendingChanges:he};class oZ extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.customFormats"}),this.props.onModalClose()}}render(){return R.createElement(tZ,nZ({},this.props,{onModalClose:this.onModalClose}))}}const aZ=(0,Wy.Ng)((function(){return{}}),sZ)(oZ);class rZ extends R.Component{render(){const{isFetching:e,error:t,json:n,specificationsPopulated:s,onModalClose:o}=this.props;return R.createElement(_M,{onModalClose:o},R.createElement(QM,null,"Export Custom Format"),R.createElement(BM,null,R.createElement("div",null,e&&R.createElement(tM,null),!e&&!!t&&R.createElement("div",null,"Unable to load custom formats"),!e&&!t&&s&&R.createElement("div",null,R.createElement("pre",null,n)))),R.createElement(HM,null,R.createElement(bD,{className:"ExportCustomFormatModalContent-button-eh1Jq Button-button-paJ9a Link-link-RInnp",value:n,title:te("CopyToClipboard"),kind:Zs}),R.createElement(TM,{onPress:o},"Close")))}}const iZ=rZ,lZ=["id","implementationName","infoLink"];function cZ(e,t){if(!lZ.includes(e))return"fields"===e?t.reduce(((e,t)=>(e[t.name]=t.value,e)),{}):t.hasOwnProperty("value")?t.value:t}const dZ={fetchCustomFormatSpecifications:fg};class uZ extends R.Component{componentDidMount(){const{id:e}=this.props;this.props.fetchCustomFormatSpecifications({id:e})}render(){return R.createElement(iZ,this.props)}}const mZ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("customFormats"),(e=>e.settings.customFormatSpecifications),((e,t,n)=>{const s=t.item?JSON.stringify(t.item,cZ,2):"";return{advancedSettings:e,...t,json:s,specificationsPopulated:n.isPopulated,specifications:n.items}}))}),dZ)(uZ);function hZ(){return hZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hZ.apply(null,arguments)}class pZ extends R.Component{constructor(e,t){super(e,t),this.onContentHeightChange=e=>{("auto"===this.state.height||e>this.state.height)&&this.setState({height:e})},this.state={height:"auto"}}render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{style:{height:`${this.state.height}px`},isOpen:e,size:Eo,onModalClose:t},R.createElement(mZ,hZ({},n,{onContentHeightChange:this.onContentHeightChange,onModalClose:t})))}}const gZ=pZ,EZ="CustomFormat-cloneButton-Alwpt IconButton-button-t4C5V Link-link-RInnp";class fZ extends R.Component{constructor(e,t){super(e,t),this.onEditCustomFormatPress=()=>{this.setState({isEditCustomFormatModalOpen:!0})},this.onEditCustomFormatModalClose=()=>{this.setState({isEditCustomFormatModalOpen:!1})},this.onExportCustomFormatPress=()=>{this.setState({isExportCustomFormatModalOpen:!0})},this.onExportCustomFormatModalClose=()=>{this.setState({isExportCustomFormatModalOpen:!1})},this.onDeleteCustomFormatPress=()=>{this.setState({isEditCustomFormatModalOpen:!1,isDeleteCustomFormatModalOpen:!0})},this.onDeleteCustomFormatModalClose=()=>{this.setState({isDeleteCustomFormatModalOpen:!1})},this.onConfirmDeleteCustomFormat=()=>{this.props.onConfirmDeleteCustomFormat(this.props.id)},this.onCloneCustomFormatPress=()=>{const{id:e,onCloneCustomFormatPress:t}=this.props;t(e)},this.state={isEditCustomFormatModalOpen:!1,isExportCustomFormatModalOpen:!1,isDeleteCustomFormatModalOpen:!1}}render(){const{id:e,name:t,specifications:n,isDeleting:s}=this.props;return R.createElement(nX,{className:"CustomFormat-customFormat-bQGEb Card-card-aoesq",overlayContent:!0,onPress:this.onEditCustomFormatPress},R.createElement("div",{className:"CustomFormat-nameContainer-kd6SP"},R.createElement("div",{className:"CustomFormat-name-tDmWt"},t),R.createElement("div",{className:"CustomFormat-buttons-eI3y1"},R.createElement(Ek,{className:EZ,title:te("CloneCustomFormat"),name:Zt,onPress:this.onCloneCustomFormatPress}),R.createElement(Ek,{className:EZ,title:te("ExportCustomFormat"),name:hn,onPress:this.onExportCustomFormatPress}))),R.createElement("div",null,n.map(((e,t)=>{if(!e)return null;let n=Zs;return e.required&&(n=ao),e.negate&&(n=Xs),R.createElement(YO,{className:"CustomFormat-label-mIDsS Label-label-DYldh",key:t,kind:n},e.name)}))),R.createElement(aZ,{id:e,isOpen:this.state.isEditCustomFormatModalOpen,onModalClose:this.onEditCustomFormatModalClose,onDeleteCustomFormatPress:this.onDeleteCustomFormatPress}),R.createElement(gZ,{id:e,isOpen:this.state.isExportCustomFormatModalOpen,onModalClose:this.onExportCustomFormatModalClose}),R.createElement(wD,{isOpen:this.state.isDeleteCustomFormatModalOpen,kind:Xs,title:te("DeleteCustomFormat"),message:te("DeleteCustomFormatMessageText",{name:t}),confirmLabel:te("Delete"),isSpinning:s,onConfirm:this.onConfirmDeleteCustomFormat,onCancel:this.onDeleteCustomFormatModalClose}))}}const CZ=fZ;function vZ(){return vZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vZ.apply(null,arguments)}class SZ extends R.Component{constructor(e,t){super(e,t),this.onCloneCustomFormatPress=e=>{this.props.onCloneCustomFormatPress(e),this.setState({isCustomFormatModalOpen:!0,tagsFromId:e})},this.onEditCustomFormatPress=()=>{this.setState({isCustomFormatModalOpen:!0})},this.onModalClose=()=>{this.setState({isCustomFormatModalOpen:!1,tagsFromId:void 0})},this.state={isCustomFormatModalOpen:!1,tagsFromId:void 0}}render(){const{items:e,isDeleting:t,onConfirmDeleteCustomFormat:n,onCloneCustomFormatPress:s,...o}=this.props;return R.createElement(hN,{legend:te("CustomFormats")},R.createElement(sX,vZ({errorMessage:te("UnableToLoadCustomFormats")},o,{c:!0}),R.createElement("div",{className:"CustomFormats-customFormats-B875M"},e.map((e=>R.createElement(CZ,vZ({key:e.id},e,{isDeleting:t,onConfirmDeleteCustomFormat:n,onCloneCustomFormatPress:this.onCloneCustomFormatPress})))),R.createElement(nX,{className:"CustomFormats-addCustomFormat-RgATG CustomFormat-customFormat-bQGEb Card-card-aoesq",onPress:this.onEditCustomFormatPress},R.createElement("div",{className:"CustomFormats-center-W2JPX"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(aZ,{isOpen:this.state.isCustomFormatModalOpen,tagsFromId:this.state.tagsFromId,onModalClose:this.onModalClose})))}}const bZ=SZ;function PZ(){return PZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},PZ.apply(null,arguments)}const yZ={dispatchFetchCustomFormats:$p,dispatchDeleteCustomFormat:Jp,dispatchCloneCustomFormat:Zp};class MZ extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteCustomFormat=e=>{this.props.dispatchDeleteCustomFormat({id:e})},this.onCloneCustomFormatPress=e=>{this.props.dispatchCloneCustomFormat({id:e})}}componentDidMount(){this.props.dispatchFetchCustomFormats()}render(){return R.createElement(bZ,PZ({onConfirmDeleteCustomFormat:this.onConfirmDeleteCustomFormat,onCloneCustomFormatPress:this.onCloneCustomFormatPress},this.props))}}const IZ=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.customFormats",cr),(e=>e))}),yZ)(MZ);class kZ extends R.Component{render(){return R.createElement(FF,{title:te("CustomFormatSettings")},R.createElement(jY,{showSave:!1}),R.createElement(TF,null,R.createElement(ZJ.Q,{backend:eX.t2},R.createElement(IZ,null))))}}const OZ=kZ;function wZ(){return wZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wZ.apply(null,arguments)}const TZ=[{key:"info",value:"Info"},{key:"debug",value:"Debug"},{key:"trace",value:"Trace"}];class NZ extends R.Component{render(){const{isFetching:e,error:t,settings:n,hasSettings:s,onInputChange:o,onSavePress:a,...r}=this.props;return R.createElement(FF,{title:te("Development")},R.createElement(jY,wZ({},r,{onSavePress:a})),R.createElement(TF,null,e&&R.createElement(tM,null),!e&&t&&R.createElement("div",null,"Unable to load Development settings"),s&&!e&&!t&&R.createElement(Sk,wZ({id:"developmentSettings"},r),R.createElement(hN,{legend:te("MetadataProviderSource")},R.createElement(AI,null,R.createElement(Mk,null,te("MetadataSource")),R.createElement(ED,wZ({type:Gs,name:"metadataSource",helpText:te("MetadataSourceHelpText"),helpLink:"https://wiki.servarr.com/readarr/settings#metadata",onChange:o},n.metadataSource)))),R.createElement(hN,{legend:te("Logging")},R.createElement(AI,null,R.createElement(Mk,null,te("LogRotation")),R.createElement(ED,wZ({type:Fs,name:"logRotate",helpText:te("LogRotateHelpText"),onChange:o},n.logRotate))),R.createElement(AI,null,R.createElement(Mk,null,te("ConsoleLogLevel")),R.createElement(ED,wZ({type:qs,name:"consoleLogLevel",values:TZ,onChange:o},n.consoleLogLevel))),R.createElement(AI,null,R.createElement(Mk,null,te("LogSQL")),R.createElement(ED,wZ({type:ws,name:"logSql",helpText:te("LogSqlHelpText"),onChange:o},n.logSql)))),R.createElement(hN,{legend:te("Analytics")},R.createElement(AI,null,R.createElement(Mk,null,te("FilterAnalyticsEvents")),R.createElement(ED,wZ({type:ws,name:"filterSentryEvents",helpText:te("FilterSentryEventsHelpText"),onChange:o},n.filterSentryEvents)))))))}}const DZ=NZ;function AZ(){return AZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AZ.apply(null,arguments)}const FZ="development",xZ={setDevelopmentSettingsValue:Yg,saveDevelopmentSettings:$g,fetchDevelopmentSettings:Kg,clearPendingChanges:he};class RZ extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setDevelopmentSettingsValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveDevelopmentSettings()}}componentDidMount(){this.props.fetchDevelopmentSettings()}componentWillUnmount(){this.props.clearPendingChanges({section:`settings.${FZ}`})}render(){return R.createElement(DZ,AZ({onInputChange:this.onInputChange,onSavePress:this.onSavePress},this.props))}}const BZ=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI(FZ),((e,t)=>({advancedSettings:e,...t})))}),xZ)(RZ);function LZ(){return LZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LZ.apply(null,arguments)}class jZ extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,implementation:t}=this.props;this.props.onPress({name:e,implementation:t})}}render(){const{name:e,implementation:t,...n}=this.props;return R.createElement(kA,LZ({},n,{onPress:this.onPress}),e)}}const _Z=jZ;class zZ extends R.Component{constructor(...e){super(...e),this.onDownloadClientSelect=()=>{const{implementation:e}=this.props;this.props.onDownloadClientSelect({implementation:e})}}render(){const{implementation:e,implementationName:t,infoLink:n,presets:s,onDownloadClientSelect:o}=this.props,a=!!s&&!!s.length;return R.createElement("div",{className:"AddDownloadClientItem-downloadClient-oMifk Card-card-aoesq"},R.createElement(IM,{className:"AddDownloadClientItem-underlay-oxdhA",onPress:this.onDownloadClientSelect}),R.createElement("div",{className:"AddDownloadClientItem-overlay-rlyny"},R.createElement("div",{className:"AddDownloadClientItem-name-iXjGD"},t),R.createElement("div",{className:"AddDownloadClientItem-actions-qbQIO"},a&&R.createElement("span",null,R.createElement(TM,{size:po,onPress:this.onDownloadClientSelect},"Custom"),R.createElement(CA,{className:"AddDownloadClientItem-presetsMenu-V3Cfm Menu-menu-Uz3_0"},R.createElement(TM,{className:"AddDownloadClientItem-presetsMenuButton-C3eVP Button-button-paJ9a Link-link-RInnp",size:po},"Presets"),R.createElement(yA,null,s.map((t=>R.createElement(_Z,{key:t.name,name:t.name,implementation:e,onPress:o})))))),R.createElement(TM,{to:n,size:po},"More info"))))}}const UZ=zZ,HZ="AddDownloadClientModalContent-downloadClients-Oi2LK";function VZ(){return VZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VZ.apply(null,arguments)}class qZ extends R.Component{render(){const{isSchemaFetching:e,isSchemaPopulated:t,schemaError:n,usenetDownloadClients:s,torrentDownloadClients:o,onDownloadClientSelect:a,onModalClose:r}=this.props;return R.createElement(_M,{onModalClose:r},R.createElement(QM,null,"Add Download Client"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,te("UnableToAddANewDownloadClientPleaseTryAgain")),t&&!n&&R.createElement("div",null,R.createElement(OI,{kind:to},R.createElement("div",null,te("ReadarrSupportsAnyDownloadClient")),R.createElement("div",null,te("ForMoreInformationOnTheIndividualDownloadClientsClickOnTheInfoButtons"))),R.createElement(hN,{legend:te("Usenet")},R.createElement("div",{className:HZ},s.map((e=>R.createElement(UZ,VZ({key:e.implementation,implementation:e.implementation},e,{onDownloadClientSelect:a})))))),R.createElement(hN,{legend:te("Torrents")},R.createElement("div",{className:HZ},o.map((e=>R.createElement(UZ,VZ({key:e.implementation,implementation:e.implementation},e,{onDownloadClientSelect:a})))))))),R.createElement(HM,null,R.createElement(TM,{onPress:r},"Close")))}}const QZ=qZ;function WZ(){return WZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WZ.apply(null,arguments)}const GZ={fetchDownloadClientSchema:TE,selectDownloadClientSchema:NE};class KZ extends R.Component{constructor(...e){super(...e),this.onDownloadClientSelect=({implementation:e})=>{this.props.selectDownloadClientSchema({implementation:e}),this.props.onModalClose({downloadClientSelected:!0})}}componentDidMount(){this.props.fetchDownloadClientSchema()}render(){return R.createElement(QZ,WZ({},this.props,{onDownloadClientSelect:this.onDownloadClientSelect}))}}const $Z=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.downloadClients),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,usenetDownloadClients:U().filter(o,{protocol:"usenet"}),torrentDownloadClients:U().filter(o,{protocol:"torrent"})}}))}),GZ)(KZ);function YZ(){return YZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YZ.apply(null,arguments)}const JZ=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement($Z,YZ({},n,{onModalClose:t})))};function XZ(){return XZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},XZ.apply(null,arguments)}class ZZ extends R.Component{render(){const{advancedSettings:e,isFetching:t,error:n,isSaving:s,isTesting:o,saveError:a,item:r,onInputChange:i,onFieldChange:l,onModalClose:c,onSavePress:d,onTestPress:u,onAdvancedSettingsPress:m,onDeleteDownloadClientPress:h,...p}=this.props,{id:g,implementationName:E,name:f,enable:C,protocol:v,priority:S,removeCompletedDownloads:b,removeFailedDownloads:P,fields:y,tags:M,message:I}=r;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,`${g?"Edit":"Add"} Download Client - ${E}`),R.createElement(BM,null,t&&R.createElement(tM,null),!t&&!!n&&R.createElement("div",null,te("UnableToAddANewDownloadClientPleaseTryAgain")),!t&&!n&&R.createElement(Sk,p,!!I&&R.createElement(OI,{className:"EditDownloadClientModalContent-message-XIiHZ Alert-alert-_KgnQ",kind:I.value.type},I.value.message),R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,XZ({type:Gs,name:"name"},f,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("Enable")),R.createElement(ED,XZ({type:ws,name:"enable"},C,{onChange:i}))),y.map((t=>R.createElement(DX,XZ({key:t.name,advancedSettings:e,provider:"downloadClient",providerData:r},t,{onChange:l})))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("ClientPriority")),R.createElement(ED,XZ({type:Fs,name:"priority",helpText:te("IndexerPriorityHelpText"),min:1,max:50},S,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,XZ({type:Ws,name:"tags",helpText:te("DownloadClientTagHelpText")},M,{onChange:i}))),R.createElement(hN,{size:po,legend:te("CompletedDownloadHandling")},R.createElement(AI,null,R.createElement(Mk,null,te("RemoveCompleted")),R.createElement(ED,XZ({type:ws,name:"removeCompletedDownloads",helpText:te("RemoveCompletedDownloadsHelpText")},b,{onChange:i}))),"torrent"!==v.value&&R.createElement(AI,null,R.createElement(Mk,null,te("RemoveFailed")),R.createElement(ED,XZ({type:ws,name:"removeFailedDownloads",helpText:te("RemoveFailedDownloadsHelpText")},P,{onChange:i})))))),R.createElement(HM,null,g&&R.createElement(TM,{className:"EditDownloadClientModalContent-deleteButton-dwUEi Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:h},"Delete"),R.createElement(NY,{advancedSettings:e,onAdvancedSettingsPress:m,showLabel:!1}),R.createElement(CT,{isSpinning:o,error:a,onPress:u},"Test"),R.createElement(TM,{onPress:c},"Cancel"),R.createElement(CT,{isSpinning:s,error:a,onPress:d},"Save")))}}const e0=ZZ;function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t0.apply(null,arguments)}const n0={setDownloadClientValue:zE,setDownloadClientFieldValue:UE,saveDownloadClient:DE,testDownloadClient:xE,toggleAdvancedSettings:rb};class s0 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setDownloadClientValue({name:e,value:t})},this.onFieldChange=({name:e,value:t})=>{this.props.setDownloadClientFieldValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveDownloadClient({id:this.props.id})},this.onTestPress=()=>{this.props.testDownloadClient({id:this.props.id})},this.onAdvancedSettingsPress=()=>{this.props.toggleAdvancedSettings()}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(e0,t0({},this.props,{onSavePress:this.onSavePress,onTestPress:this.onTestPress,onAdvancedSettingsPress:this.onAdvancedSettingsPress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const o0=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("downloadClients"),((e,t)=>({advancedSettings:e,...t})))}),n0)(s0);function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a0.apply(null,arguments)}const r0=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(o0,a0({},n,{onModalClose:t})))};function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i0.apply(null,arguments)}class l0 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.dispatchCancelTestDownloadClient(),this.props.dispatchCancelSaveDownloadClient(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,dispatchCancelTestDownloadClient:t,dispatchCancelSaveDownloadClient:n,...s}=this.props;return R.createElement(r0,i0({},s,{onModalClose:this.onModalClose}))}}const c0=(0,Wy.Ng)(null,(function(e,t){const n="settings.downloadClients";return{dispatchClearPendingChanges(){e(he({section:n}))},dispatchCancelTestDownloadClient(){e(RE({section:n}))},dispatchCancelSaveDownloadClient(){e(AE({section:n}))}}}))(l0);class d0 extends R.Component{constructor(e,t){super(e,t),this.onEditDownloadClientPress=()=>{this.setState({isEditDownloadClientModalOpen:!0})},this.onEditDownloadClientModalClose=()=>{this.setState({isEditDownloadClientModalOpen:!1})},this.onDeleteDownloadClientPress=()=>{this.setState({isEditDownloadClientModalOpen:!1,isDeleteDownloadClientModalOpen:!0})},this.onDeleteDownloadClientModalClose=()=>{this.setState({isDeleteDownloadClientModalOpen:!1})},this.onConfirmDeleteDownloadClient=()=>{this.props.onConfirmDeleteDownloadClient(this.props.id)},this.state={isEditDownloadClientModalOpen:!1,isDeleteDownloadClientModalOpen:!1}}render(){const{id:e,name:t,enable:n,priority:s,tags:o,tagList:a}=this.props;return R.createElement(nX,{className:"DownloadClient-downloadClient-wZ1JM Card-card-aoesq",overlayContent:!0,onPress:this.onEditDownloadClientPress},R.createElement("div",{className:"DownloadClient-name-eDUtm"},t),R.createElement("div",{className:"DownloadClient-enabled-SSDPC"},n?R.createElement(YO,{kind:ao},"Enabled"):R.createElement(YO,{kind:eo,outline:!0},"Disabled"),s>1&&R.createElement(YO,{kind:eo,outline:!0},"Priority: ",s)),R.createElement(sW,{tags:o,tagList:a}),R.createElement(c0,{id:e,isOpen:this.state.isEditDownloadClientModalOpen,onModalClose:this.onEditDownloadClientModalClose,onDeleteDownloadClientPress:this.onDeleteDownloadClientPress}),R.createElement(wD,{isOpen:this.state.isDeleteDownloadClientModalOpen,kind:Xs,title:te("DeleteDownloadClient"),message:te("DeleteDownloadClientMessageText",{name:t}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteDownloadClient,onCancel:this.onDeleteDownloadClientModalClose}))}}const u0=d0;function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m0.apply(null,arguments)}class h0 extends R.Component{constructor(e,t){super(e,t),this.onAddDownloadClientPress=()=>{this.setState({isAddDownloadClientModalOpen:!0})},this.onAddDownloadClientModalClose=({downloadClientSelected:e=!1}={})=>{this.setState({isAddDownloadClientModalOpen:!1,isEditDownloadClientModalOpen:e})},this.onEditDownloadClientModalClose=()=>{this.setState({isEditDownloadClientModalOpen:!1})},this.state={isAddDownloadClientModalOpen:!1,isEditDownloadClientModalOpen:!1}}render(){const{items:e,onConfirmDeleteDownloadClient:t,tagList:n,...s}=this.props,{isAddDownloadClientModalOpen:o,isEditDownloadClientModalOpen:a}=this.state;return R.createElement(hN,{legend:te("DownloadClients")},R.createElement(sX,m0({errorMessage:te("UnableToLoadDownloadClients")},s),R.createElement("div",{className:"DownloadClients-downloadClients-yJxlI"},e.map((e=>R.createElement(u0,m0({key:e.id},e,{tagList:n,onConfirmDeleteDownloadClient:t})))),R.createElement(nX,{className:"DownloadClients-addDownloadClient-pW5Mv DownloadClient-downloadClient-wZ1JM Card-card-aoesq",onPress:this.onAddDownloadClientPress},R.createElement("div",{className:"DownloadClients-center-WmFhO"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(JZ,{isOpen:o,onModalClose:this.onAddDownloadClientModalClose}),R.createElement(c0,{isOpen:a,onModalClose:this.onEditDownloadClientModalClose})))}}const p0=h0;function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g0.apply(null,arguments)}const E0={fetchDownloadClients:wE,deleteDownloadClient:FE};class f0 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteDownloadClient=e=>{this.props.deleteDownloadClient({id:e})}}componentDidMount(){this.props.fetchDownloadClients()}render(){return R.createElement(p0,g0({},this.props,{onConfirmDeleteDownloadClient:this.onConfirmDeleteDownloadClient}))}}const C0=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.downloadClients",cr),GN(),((e,t)=>({...e,tagList:t})))}),E0)(f0),v0={selectedState:{},lastToggled:null,allSelected:!1,allUnselected:!0,items:[]};function S0(e,t){return e.reduce(((e,n)=>{var s;const o=n.id;return e[o]=null!=(s=t[o])&&s,e}),{})}function b0(e,t){const{selectedState:n}=e;switch(t.type){case"reset":return(0,z.cloneDeep)(v0);case"selectAll":return{...EO(n,!0)};case"unselectAll":return{...EO(n,!1)};case"toggleSelected":return{...vO(e,t.items,t.id,t.isSelected,t.shiftKey)};case"updateItems":{const s=S0(t.items,n);return{...e,...fO(s),selectedState:s}}default:throw new Error(`Unhandled action type: ${t.type}`)}}function P0(){const e=S0([],{}),[t,n]=(0,R.useReducer)(b0,{selectedState:e,lastToggled:null,allSelected:!1,allUnselected:!0});return[t,n]}const y0="noChange",M0=[{key:y0,get value(){return te("NoChange")},isDisabled:!0},{key:"enabled",get value(){return te("Enabled")}},{key:"disabled",get value(){return te("Disabled")}}],I0=function(e){const{downloadClientIds:t,onSavePress:n,onModalClose:s}=e,[o,a]=(0,R.useState)(y0),[r,i]=(0,R.useState)(y0),[l,c]=(0,R.useState)(y0),[d,u]=(0,R.useState)(null),m=(0,R.useCallback)((()=>{let e=!1;const t={};o!==y0&&(e=!0,t.enable="enabled"===o),r!==y0&&(e=!0,t.removeCompletedDownloads="enabled"===r),l!==y0&&(e=!0,t.removeFailedDownloads="enabled"===l),null!==d&&(e=!0,t.priority=d),e&&n(t),s()}),[o,d,r,l,n,s]),h=(0,R.useCallback)((({name:e,value:t})=>{switch(e){case"enable":a(t);break;case"priority":u(t);break;case"removeCompletedDownloads":i(t);break;case"removeFailedDownloads":c(t);break;default:console.warn(`EditDownloadClientsModalContent Unknown Input: '${e}'`)}}),[]),p=t.length;return R.createElement(_M,{onModalClose:s},R.createElement(QM,null,te("EditSelectedDownloadClients")),R.createElement(BM,null,R.createElement(AI,null,R.createElement(Mk,null,te("Enabled")),R.createElement(ED,{type:qs,name:"enable",value:o,values:M0,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("Priority")),R.createElement(ED,{type:Fs,name:"priority",value:d,min:1,max:50,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("RemoveCompletedDownloads")),R.createElement(ED,{type:qs,name:"removeCompletedDownloads",value:r,values:M0,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("RemoveFailedDownloads")),R.createElement(ED,{type:qs,name:"removeFailedDownloads",value:l,values:M0,onChange:h}))),R.createElement(HM,{className:"ManageDownloadClientsEditModalContent-modalFooter-lujmM ModalFooter-modalFooter-wjkx5"},R.createElement("div",{className:"ManageDownloadClientsEditModalContent-selected-OpTW9"},te("CountDownloadClientsSelected",{selectedCount:p})),R.createElement("div",null,R.createElement(TM,{onPress:s},te("Cancel")),R.createElement(TM,{onPress:m},te("ApplyChanges")))))},k0=function(e){const{isOpen:t,downloadClientIds:n,onSavePress:s,onModalClose:o}=e;return R.createElement(JM,{isOpen:t,onModalClose:o},R.createElement(I0,{downloadClientIds:n,onSavePress:s,onModalClose:o}))},O0=function(e){const{id:t,isSelected:n,name:s,enable:o,priority:a,removeCompletedDownloads:r,removeFailedDownloads:i,implementation:l,tags:c,onSelectedChange:d}=e,u=(0,R.useCallback)((e=>{d({...e})}),[d]);return R.createElement(pO,null,R.createElement(hk,{id:t,isSelected:n,onSelectedChange:u}),R.createElement(ak,{className:"ManageDownloadClientsModalRow-name-tXtzB TableRowCell-cell-giPrj"},s),R.createElement(ak,{className:"ManageDownloadClientsModalRow-implementation-P7X40 TableRowCell-cell-giPrj"},l),R.createElement(ak,{className:"ManageDownloadClientsModalRow-enable-cd4Aq TableRowCell-cell-giPrj"},R.createElement(YO,{kind:o?ao:eo,outline:!o},te(o?"Yes":"No"))),R.createElement(ak,{className:"ManageDownloadClientsModalRow-priority-kDQJC TableRowCell-cell-giPrj"},a),R.createElement(ak,{className:"ManageDownloadClientsModalRow-removeCompletedDownloads-pLVmi TableRowCell-cell-giPrj"},te(r?"Yes":"No")),R.createElement(ak,{className:"ManageDownloadClientsModalRow-removeFailedDownloads-J9yDQ TableRowCell-cell-giPrj"},te(i?"Yes":"No")),R.createElement(ak,{className:"ManageDownloadClientsModalRow-tags-l762O TableRowCell-cell-giPrj"},R.createElement(oW,{tags:c})))},w0=function(e){const{ids:t,onModalClose:n,onApplyTagsPress:s}=e,o=(0,Wy.d4)((e=>e.settings.downloadClients)),a=(0,Wy.d4)(GN()),[r,i]=(0,R.useState)([]),[l,c]=(0,R.useState)("add"),d=(0,R.useMemo)((()=>{const e=t.reduce(((e,t)=>{const n=o.items.find((e=>e.id===t));return n&&e.push(...n.tags),e}),[]);return(0,z.uniq)(e)}),[t,o]),u=(0,R.useCallback)((({value:e})=>{i(e)}),[i]),m=(0,R.useCallback)((({value:e})=>{c(e)}),[c]),h=(0,R.useCallback)((()=>{s(r,l)}),[r,l,s]),p=[{key:"add",get value(){return te("Add")}},{key:"remove",get value(){return te("Remove")}},{key:"replace",get value(){return te("Replace")}}];return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,te("Tags")),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,{type:Ws,name:"tags",value:r,onChange:u})),R.createElement(AI,null,R.createElement(Mk,null,te("ApplyTags")),R.createElement(ED,{type:qs,name:"applyTags",value:l,values:p,helpTexts:[te("ApplyTagsHelpTextHowToApplyDownloadClients"),te("ApplyTagsHelpTextAdd"),te("ApplyTagsHelpTextRemove"),te("ApplyTagsHelpTextReplace")],onChange:m})),R.createElement(AI,null,R.createElement(Mk,null,te("Result")),R.createElement("div",{className:"TagsModalContent-result-poJQI"},d.map((e=>{const t=a.find((t=>t.id===e));if(!t)return null;const n="remove"===l&&r.indexOf(e)>-1||"replace"===l&&-1===r.indexOf(e);return R.createElement(YO,{key:t.id,title:te(n?"RemovingTag":"ExistingTag"),kind:n?no:to,size:Eo},t.label)})),("add"===l||"replace"===l)&&r.map((e=>{const t=a.find((t=>t.id===e));return t?d.indexOf(e)>-1?null:R.createElement(YO,{key:t.id,title:te("AddingTag"),kind:ao,size:Eo},t.label):null})))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},te("Cancel")),R.createElement(TM,{kind:so,onPress:h},te("Apply"))))};function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T0.apply(null,arguments)}const N0=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(w0,T0({},s,{onModalClose:n})))};function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},D0.apply(null,arguments)}const A0=[{name:"name",label:()=>te("Name"),isSortable:!0,isVisible:!0},{name:"implementation",label:()=>te("Implementation"),isSortable:!0,isVisible:!0},{name:"enable",label:()=>te("Enabled"),isSortable:!0,isVisible:!0},{name:"priority",label:()=>te("Priority"),isSortable:!0,isVisible:!0},{name:"removeCompletedDownloads",label:()=>te("RemoveCompleted"),isSortable:!0,isVisible:!0},{name:"removeFailedDownloads",label:()=>te("RemoveFailed"),isSortable:!0,isVisible:!0},{name:"tags",label:"Tags",isSortable:!0,isVisible:!0}],F0=function(e){const{onModalClose:t}=e,{isFetching:n,isPopulated:s,isDeleting:o,isSaving:a,error:r,items:i,sortKey:l,sortDirection:c}=(0,Wy.d4)($R("settings.downloadClients")),d=(0,Wy.wA)(),[u,m]=(0,R.useState)(!1),[h,p]=(0,R.useState)(!1),[g,E]=(0,R.useState)(!1),[f,C]=(0,R.useState)(!1),[v,S]=P0(),{allSelected:b,allUnselected:P,selectedState:y}=v,M=(0,R.useMemo)((()=>gO(y)),[y]),I=M.length,k=(0,R.useCallback)((e=>{d(_E({sortKey:e}))}),[d]),O=(0,R.useCallback)((()=>{m(!0)}),[m]),w=(0,R.useCallback)((()=>{m(!1)}),[m]),T=(0,R.useCallback)((()=>{p(!0)}),[p]),N=(0,R.useCallback)((()=>{p(!1)}),[p]),D=(0,R.useCallback)((()=>{d(jE({ids:M})),m(!1)}),[M,d]),A=(0,R.useCallback)((e=>{p(!1),d(LE({ids:M,...e}))}),[M,d]),F=(0,R.useCallback)((()=>{E(!0)}),[E]),x=(0,R.useCallback)((()=>{E(!1)}),[E]),B=(0,R.useCallback)(((e,t)=>{C(!0),E(!1),d(LE({ids:M,tags:e,applyTags:t}))}),[M,d]),L=(0,R.useCallback)((({value:e})=>{S({type:e?"selectAll":"unselectAll",items:i})}),[i,S]),j=(0,R.useCallback)((({id:e,value:t,shiftKey:n=!1})=>{S({type:"toggleSelected",items:i,id:e,isSelected:t,shiftKey:n})}),[i,S]),_=Jy(r,"Unable to load download clients."),z=I>0;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,te("ManageDownloadClients")),R.createElement(BM,null,n?R.createElement(tM,null):null,r?R.createElement("div",null,_):null,s&&!r&&!i.length&&R.createElement(OI,{kind:to},te("NoDownloadClientsFound")),s&&i.length&&!n&&!n?R.createElement(cO,{columns:A0,horizontalScroll:!0,selectAll:!0,allSelected:b,allUnselected:P,onSelectAllChange:L,sortKey:l,sortDirection:c,onSortPress:k},R.createElement(uO,null,i.map((e=>R.createElement(O0,D0({key:e.id,isSelected:y[e.id]},e,{columns:A0,onSelectedChange:j})))))):null),R.createElement(HM,null,R.createElement("div",{className:"ManageDownloadClientsModalContent-leftButtons-T17BS"},R.createElement(AO,{kind:Xs,isSpinning:o,isDisabled:!z,onPress:O},te("Delete")),R.createElement(AO,{isSpinning:a,isDisabled:!z,onPress:T},te("Edit")),R.createElement(AO,{isSpinning:a&&f,isDisabled:!z,onPress:F},"Set Tags")),R.createElement(TM,{onPress:t},te("Close"))),R.createElement(k0,{isOpen:h,onModalClose:N,onSavePress:A,downloadClientIds:M}),R.createElement(N0,{isOpen:g,ids:M,onApplyTagsPress:B,onModalClose:x}),R.createElement(wD,{isOpen:u,kind:Xs,title:te("DeleteSelectedDownloadClients"),message:te("DeleteSelectedDownloadClientsMessageText",{count:M.length}),confirmLabel:te("Delete"),onConfirm:D,onCancel:w}))},x0=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(F0,{onModalClose:n}))};function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R0.apply(null,arguments)}const B0=function(e){const{advancedSettings:t,isFetching:n,error:s,settings:o,hasSettings:a,onInputChange:r}=e;return R.createElement("div",null,n&&R.createElement(tM,null),!n&&s&&R.createElement(OI,{kind:Xs},te("UnableToLoadDownloadClientOptions")),a&&!n&&!s&&t&&R.createElement("div",null,R.createElement(hN,{legend:te("CompletedDownloadHandling")},R.createElement(Sk,null,R.createElement(AI,{advancedSettings:t,isAdvanced:!0,size:go},R.createElement(Mk,null,te("Enable")),R.createElement(ED,R0({type:ws,name:"enableCompletedDownloadHandling",helpText:te("EnableCompletedDownloadHandlingHelpText"),onChange:r},o.enableCompletedDownloadHandling))))),R.createElement(hN,{legend:te("FailedDownloadHandling")},R.createElement(Sk,null,R.createElement(AI,{advancedSettings:t,isAdvanced:!0,size:go},R.createElement(Mk,null,te("AutoRedownloadFailed")),R.createElement(ED,R0({type:ws,name:"autoRedownloadFailed",helpText:te("AutoRedownloadFailedHelpText"),onChange:r},o.autoRedownloadFailed))),o.autoRedownloadFailed.value?R.createElement(AI,{advancedSettings:t,isAdvanced:!0,size:go},R.createElement(Mk,null,te("AutoRedownloadFailedFromInteractiveSearch")),R.createElement(ED,R0({type:ws,name:"autoRedownloadFailedFromInteractiveSearch",helpText:te("AutoRedownloadFailedFromInteractiveSearchHelpText"),onChange:r},o.autoRedownloadFailedFromInteractiveSearch))):null),R.createElement(OI,{kind:to},te("RemoveDownloadsAlert")))))};function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},L0.apply(null,arguments)}const j0={dispatchFetchDownloadClientOptions:nE,dispatchSetDownloadClientOptionsValue:oE,dispatchSaveDownloadClientOptions:sE,dispatchClearPendingChanges:he};class _0 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetDownloadClientOptionsValue({name:e,value:t})}}componentDidMount(){const{dispatchFetchDownloadClientOptions:e,dispatchSaveDownloadClientOptions:t,onChildMounted:n}=this.props;e(),n(t)}componentDidUpdate(e){const{hasPendingChanges:t,isSaving:n,onChildStateChange:s}=this.props;e.isSaving===n&&e.hasPendingChanges===t||s({isSaving:n,hasPendingChanges:t})}componentWillUnmount(){this.props.dispatchClearPendingChanges({section:"settings.downloadClientOptions"})}render(){return R.createElement(B0,L0({onInputChange:this.onInputChange},this.props))}}const z0=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI("downloadClientOptions"),((e,t)=>({advancedSettings:e,...t})))}),j0)(_0),U0=(UI().oneOf([UI().bool,UI().number,UI().string]),UI().arrayOf(UI().string).isRequired,UI().arrayOf(UI().string).isRequired,UI().array.isRequired,UI().bool.isRequired,UI().number.isRequired,UI().string,UI().arrayOf(UI().number).isRequired,"EditRemotePathMappingModalContent-body-PE4id ModalBody-modalBody-RVK6D");function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H0.apply(null,arguments)}const V0=function(e){const{id:t,isFetching:n,error:s,isSaving:o,saveError:a,item:r,downloadClientHosts:i,onInputChange:l,onSavePress:c,onModalClose:d,onDeleteRemotePathMappingPress:u,...m}=e,{host:h,remotePath:p,localPath:g}=r;return R.createElement(_M,{onModalClose:d},R.createElement(QM,null,t?"Edit Remote Path Mapping":"Add Remote Path Mapping"),R.createElement(BM,{className:U0},n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewRemotePathMappingPleaseTryAgain")),!n&&!s&&R.createElement(Sk,m,R.createElement(AI,null,R.createElement(Mk,null,te("Host")),R.createElement(ED,H0({type:qs,name:"host",helpText:te("HostHelpText")},h,{values:i,onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("SettingsRemotePathMappingRemotePath")),R.createElement(ED,H0({type:Gs,name:"remotePath",helpText:te("SettingsRemotePathMappingRemotePathHelpText")},p,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("SettingsRemotePathMappingLocalPath")),R.createElement(ED,H0({type:Bs,name:"localPath",helpText:te("SettingsRemotePathMappingLocalPathHelpText")},g,{onChange:l}))))),R.createElement(HM,null,t&&R.createElement(TM,{className:"EditRemotePathMappingModalContent-deleteButton-ZAVCm Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:u},"Delete"),R.createElement(TM,{onPress:d},"Cancel"),R.createElement(CT,{isSpinning:o,error:a,onPress:c},"Save")))};function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},q0.apply(null,arguments)}const Q0={host:"",remotePath:"",localPath:""},W0=(0,Ky.Mz)((e=>e.settings.downloadClients.items),(e=>e.settings.rootFolders.items),((e,t)=>{const n=e.reduce(((e,t)=>{const n=t.name,s=t.fields.find((e=>"host"===e.name));return s&&(e[s.value]=e[s.value]||[]).push(n),e}),{}),s=t.reduce(((e,t)=>{const n=t.name;return t.isCalibreLibrary&&(e[t.host]=e[t.host]||[]).push(n),e}),n);return Object.keys(s).map((e=>({key:e,value:e,hint:`${s[e].join(", ")}`})))})),G0={dispatchSetRemotePathMappingValue:xS,dispatchSaveRemotePathMapping:AS};class K0 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetRemotePathMappingValue({name:e,value:t})},this.onSavePress=()=>{this.props.dispatchSaveRemotePathMapping({id:this.props.id})}}componentDidMount(){this.props.id||Object.keys(Q0).forEach((e=>{this.props.dispatchSetRemotePathMappingValue({name:e,value:Q0[e]})}))}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(V0,q0({},this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange}))}}const $0=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{id:t})=>t),(e=>e.settings.remotePathMappings),W0,((e,t,n)=>{const{isFetching:s,error:o,isSaving:a,saveError:r,pendingChanges:i,items:l}=t,c=e?U().find(l,{id:e}):Q0,d=PI(c,i,r);return{id:e,isFetching:s,error:o,isSaving:a,saveError:r,item:d.settings,...d,downloadClientHosts:n}})),(e=>({...e})))}),G0)(K0);function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y0.apply(null,arguments)}const J0=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement($0,Y0({},n,{onModalClose:t})))};function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X0.apply(null,arguments)}const Z0={clearPendingChanges:he};class e1 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.remotePathMappings"}),this.props.onModalClose()}}render(){return R.createElement(J0,X0({},this.props,{onModalClose:this.onModalClose}))}}const t1=(0,Wy.Ng)((function(){return{}}),Z0)(e1),n1="RemotePathMapping-path-T3frI";class s1 extends R.Component{constructor(e,t){super(e,t),this.onEditRemotePathMappingPress=()=>{this.setState({isEditRemotePathMappingModalOpen:!0})},this.onEditRemotePathMappingModalClose=()=>{this.setState({isEditRemotePathMappingModalOpen:!1})},this.onDeleteRemotePathMappingPress=()=>{this.setState({isEditRemotePathMappingModalOpen:!1,isDeleteRemotePathMappingModalOpen:!0})},this.onDeleteRemotePathMappingModalClose=()=>{this.setState({isDeleteRemotePathMappingModalOpen:!1})},this.onConfirmDeleteRemotePathMapping=()=>{this.props.onConfirmDeleteRemotePathMapping(this.props.id)},this.state={isEditRemotePathMappingModalOpen:!1,isDeleteRemotePathMappingModalOpen:!1}}render(){const{id:e,host:t,remotePath:n,localPath:s}=this.props;return R.createElement("div",{className:Fo()("RemotePathMapping-remotePathMapping-Jy6fO")},R.createElement("div",{className:"RemotePathMapping-host-o0xdT"},t),R.createElement("div",{className:n1},n),R.createElement("div",{className:n1},s),R.createElement("div",{className:"RemotePathMapping-actions-sV1xS"},R.createElement(IM,{onPress:this.onEditRemotePathMappingPress},R.createElement(Lo,{name:cn}))),R.createElement(t1,{id:e,isOpen:this.state.isEditRemotePathMappingModalOpen,onModalClose:this.onEditRemotePathMappingModalClose,onDeleteRemotePathMappingPress:this.onDeleteRemotePathMappingPress}),R.createElement(wD,{isOpen:this.state.isDeleteRemotePathMappingModalOpen,kind:Xs,title:te("DeleteRemotePathMapping"),message:te("DeleteRemotePathMappingMessageText"),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteRemotePathMapping,onCancel:this.onDeleteRemotePathMappingModalClose}))}}s1.defaultProps={connectDragSource:e=>e};const o1=s1,a1="RemotePathMappings-path-yhMRC";function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r1.apply(null,arguments)}class i1 extends R.Component{constructor(e,t){super(e,t),this.onAddRemotePathMappingPress=()=>{this.setState({isAddRemotePathMappingModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddRemotePathMappingModalOpen:!1})},this.state={isAddRemotePathMappingModalOpen:!1}}render(){const{items:e,onConfirmDeleteRemotePathMapping:t,...n}=this.props;return R.createElement(hN,{legend:te("RemotePathMappings")},R.createElement(sX,r1({errorMessage:te("UnableToLoadRemotePathMappings")},n),R.createElement(OI,{kind:to},R.createElement(ZM,{data:te("RemotePathMappingsInfo",{app:"Readarr",wikiLink:"https://wiki.servarr.com/readarr/settings#remote-path-mappings"})})),R.createElement("div",{className:"RemotePathMappings-remotePathMappingsHeader-TcQ3F"},R.createElement("div",{className:"RemotePathMappings-host-LzeXa"},te("Host")),R.createElement("div",{className:a1},te("SettingsRemotePathMappingRemotePath")),R.createElement("div",{className:a1},te("SettingsRemotePathMappingLocalPath"))),R.createElement("div",null,e.map(((e,s)=>R.createElement(o1,r1({key:e.id},e,n,{index:s,onConfirmDeleteRemotePathMapping:t}))))),R.createElement("div",{className:"RemotePathMappings-addRemotePathMapping-rGEoO"},R.createElement(IM,{className:"RemotePathMappings-addButton-xS9B4",onPress:this.onAddRemotePathMappingPress},R.createElement(Lo,{name:Tt}))),R.createElement(t1,{isOpen:this.state.isAddRemotePathMappingModalOpen,onModalClose:this.onModalClose})))}}const l1=i1;function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c1.apply(null,arguments)}const d1={dispatchFetchRemotePathMappings:DS,dispatchDeleteRemotePathMapping:FS};class u1 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteRemotePathMapping=e=>{this.props.dispatchDeleteRemotePathMapping({id:e})}}componentDidMount(){this.props.dispatchFetchRemotePathMappings()}render(){return R.createElement(l1,c1({},this.state,this.props,{onConfirmDeleteRemotePathMapping:this.onConfirmDeleteRemotePathMapping}))}}const m1=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.remotePathMappings),(e=>({...e})))}),d1)(u1);class h1 extends R.Component{constructor(e,t){super(e,t),this.onChildMounted=e=>{this._saveCallback=e},this.onChildStateChange=e=>{this.setState(e)},this.onManageDownloadClientsPress=()=>{this.setState({isManageDownloadClientsOpen:!0})},this.onManageDownloadClientsModalClose=()=>{this.setState({isManageDownloadClientsOpen:!1})},this.onSavePress=()=>{this._saveCallback&&this._saveCallback()},this._saveCallback=null,this.state={isSaving:!1,hasPendingChanges:!1,isManageDownloadClientsOpen:!1}}render(){const{isTestingAll:e,dispatchTestAllDownloadClients:t}=this.props,{isSaving:n,hasPendingChanges:s,isManageDownloadClientsOpen:o}=this.state;return R.createElement(FF,{title:te("DownloadClientSettings")},R.createElement(jY,{isSaving:n,hasPendingChanges:s,additionalButtons:R.createElement(R.Fragment,null,R.createElement(SR,null),R.createElement(jF,{label:te("TestAllClients"),iconName:Cs,isSpinning:e,onPress:t}),R.createElement(jF,{label:te("ManageClients"),iconName:Nn,onPress:this.onManageDownloadClientsPress})),onSavePress:this.onSavePress}),R.createElement(TF,null,R.createElement(C0,null),R.createElement(z0,{onChildMounted:this.onChildMounted,onChildStateChange:this.onChildStateChange}),R.createElement(m1,null),R.createElement(x0,{isOpen:o,onModalClose:this.onManageDownloadClientsModalClose})))}}const p1=h1,g1={dispatchTestAllDownloadClients:BE},E1=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.downloadClients.isTestingAll),(e=>({isTestingAll:e})))}),g1)(p1);function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f1.apply(null,arguments)}const C1=function(e){const{settings:t,onInputChange:n}=e,{analyticsEnabled:s}=t;return R.createElement(hN,{legend:te("Analytics")},R.createElement(AI,{size:go},R.createElement(Mk,null,te("SendAnonymousUsageData")),R.createElement(ED,f1({type:ws,name:"analyticsEnabled",helpText:te("AnalyticsEnabledHelpText"),helpTextWarning:te("AnalyticsEnabledHelpTextWarning"),onChange:n},s))))};function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v1.apply(null,arguments)}const S1=function(e){const{advancedSettings:t,settings:n,onInputChange:s}=e,{backupFolder:o,backupInterval:a,backupRetention:r}=n;return t?R.createElement(hN,{legend:te("Backups")},R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("Folder")),R.createElement(ED,v1({type:Bs,name:"backupFolder",helpText:te("BackupFolderHelpText"),onChange:s},o))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("Interval")),R.createElement(ED,v1({type:Fs,name:"backupInterval",unit:"days",helpText:te("BackupIntervalHelpText"),onChange:s},a))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("Retention")),R.createElement(ED,v1({type:Fs,name:"backupRetention",unit:"days",helpText:te("BackupRetentionHelpText"),onChange:s},r)))):null};function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b1.apply(null,arguments)}const P1=function(e){const{advancedSettings:t,settings:n,isWindows:s,mode:o,onInputChange:a}=e,{bindAddress:r,port:i,urlBase:l,instanceName:c,applicationUrl:d,enableSsl:u,sslPort:m,sslCertPath:h,sslCertPassword:p,launchBrowser:g}=n;return R.createElement(hN,{legend:te("Host")},R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("BindAddress")),R.createElement(ED,b1({type:Gs,name:"bindAddress",helpText:te("BindAddressHelpText"),helpTextWarning:te("BindAddressHelpTextWarning"),onChange:a},r))),R.createElement(AI,null,R.createElement(Mk,null,te("PortNumber")),R.createElement(ED,b1({type:Fs,name:"port",min:1,max:65535,autocomplete:"off",helpTextWarning:te("PortHelpTextWarning"),onChange:a},i))),R.createElement(AI,null,R.createElement(Mk,null,te("URLBase")),R.createElement(ED,b1({type:Gs,name:"urlBase",helpText:te("UrlBaseHelpText"),helpTextWarning:te("UrlBaseHelpTextWarning"),onChange:a},l))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("InstanceName")),R.createElement(ED,b1({type:Gs,name:"instanceName",helpText:te("InstanceNameHelpText"),helpTextWarning:te("RestartRequiredHelpTextWarning"),onChange:a},c))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("ApplicationURL")),R.createElement(ED,b1({type:Gs,name:"applicationUrl",helpText:te("ApplicationUrlHelpText"),onChange:a},d))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0,size:go},R.createElement(Mk,null,te("EnableSSL")),R.createElement(ED,b1({type:ws,name:"enableSsl",helpText:te("EnableSslHelpText"),onChange:a},u))),u.value?R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("SSLPort")),R.createElement(ED,b1({type:Fs,name:"sslPort",min:1,max:65535,helpTextWarning:te("SslPortHelpTextWarning"),onChange:a},m))):null,u.value?R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("SSLCertPath")),R.createElement(ED,b1({type:Gs,name:"sslCertPath",helpText:te("SslCertPathHelpText"),helpTextWarning:te("SslCertPathHelpTextWarning"),onChange:a},h))):null,u.value?R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("SSLCertPassword")),R.createElement(ED,b1({type:Rs,name:"sslCertPassword",helpText:te("SslCertPasswordHelpText"),helpTextWarning:te("SslCertPasswordHelpTextWarning"),onChange:a},p))):null,s&&"service"!==o&&R.createElement(AI,{size:go},R.createElement(Mk,null,te("OpenBrowserOnStart")),R.createElement(ED,b1({type:ws,name:"launchBrowser",helpText:te("LaunchBrowserHelpText"),onChange:a},g))))};function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y1.apply(null,arguments)}const M1=[{key:"info",value:"Info"},{key:"debug",value:"Debug"},{key:"trace",value:"Trace"}],I1=function(e){const{settings:t,onInputChange:n}=e,{logLevel:s}=t;return R.createElement(hN,{legend:te("Logging")},R.createElement(AI,null,R.createElement(Mk,null,te("LogLevel")),R.createElement(ED,y1({type:qs,name:"logLevel",values:M1,helpTextWarning:"trace"===s.value?te("LogLevelvalueTraceTraceLoggingShouldOnlyBeEnabledTemporarily"):void 0,onChange:n},s))))};function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k1.apply(null,arguments)}const O1=function(e){const{settings:t,onInputChange:n}=e,{proxyEnabled:s,proxyType:o,proxyHostname:a,proxyPort:r,proxyUsername:i,proxyPassword:l,proxyBypassFilter:c,proxyBypassLocalAddresses:d}=t;return R.createElement(hN,{legend:te("Proxy")},R.createElement(AI,{size:go},R.createElement(Mk,null,te("UseProxy")),R.createElement(ED,k1({type:ws,name:"proxyEnabled",onChange:n},s))),s.value&&R.createElement("div",null,R.createElement(AI,null,R.createElement(Mk,null,te("ProxyType")),R.createElement(ED,k1({type:qs,name:"proxyType",values:[{key:"http",value:"HTTP(S)"},{key:"socks4",value:"Socks4"},{key:"socks5",value:"Socks5 (Support TOR)"}],onChange:n},o))),R.createElement(AI,null,R.createElement(Mk,null,te("Hostname")),R.createElement(ED,k1({type:Gs,name:"proxyHostname",onChange:n},a))),R.createElement(AI,null,R.createElement(Mk,null,te("Port")),R.createElement(ED,k1({type:Fs,name:"proxyPort",min:1,max:65535,onChange:n},r))),R.createElement(AI,null,R.createElement(Mk,null,te("Username")),R.createElement(ED,k1({type:Gs,name:"proxyUsername",helpText:te("ProxyUsernameHelpText"),onChange:n},i))),R.createElement(AI,null,R.createElement(Mk,null,te("Password")),R.createElement(ED,k1({type:Rs,name:"proxyPassword",helpText:te("ProxyPasswordHelpText"),onChange:n},l))),R.createElement(AI,null,R.createElement(Mk,null,te("IgnoredAddresses")),R.createElement(ED,k1({type:Gs,name:"proxyBypassFilter",helpText:te("ProxyBypassFilterHelpText"),onChange:n},c))),R.createElement(AI,{size:go},R.createElement(Mk,null,te("BypassProxyForLocalAddresses")),R.createElement(ED,k1({type:ws,name:"proxyBypassLocalAddresses",onChange:n},d)))))};function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w1.apply(null,arguments)}const T1=["master","develop","nightly"],N1=function(e){const{advancedSettings:t,settings:n,packageUpdateMechanism:s,onInputChange:o}=e,{branch:a,updateAutomatically:r,updateMechanism:i,updateScriptPath:l}=n;if(!t)return null;const c="builtIn"!==s,d=[];return c?d.push({key:s,value:EI(s)}):d.push({key:"builtIn",value:te("BuiltIn")}),d.push({key:"script",value:te("Script")}),R.createElement(hN,{legend:te("Updates")},R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("Branch")),R.createElement(ED,w1({type:ks,name:"branch",helpText:te(c?"BranchUpdateMechanism":"BranchUpdate"),helpLink:"https://wiki.servarr.com/readarr/settings#updates"},a,{values:T1,onChange:o,readOnly:c}))),R.createElement("div",null,R.createElement(AI,{advancedSettings:t,isAdvanced:!0,size:go},R.createElement(Mk,null,te("Automatic")),R.createElement(ED,w1({type:ws,name:"updateAutomatically",helpText:te("UpdateAutomaticallyHelpText"),helpTextWarning:"docker"===i.value?te("AutomaticUpdatesDisabledDocker"):void 0,onChange:o},r))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("Mechanism")),R.createElement(ED,w1({type:qs,name:"updateMechanism",values:d,helpText:te("UpdateMechanismHelpText"),helpLink:"https://wiki.servarr.com/readarr/settings#updates",onChange:o},i))),"script"===i.value&&R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("ScriptPath")),R.createElement(ED,w1({type:Gs,name:"updateScriptPath",helpText:te("UpdateScriptPathHelpText"),onChange:o},l)))))};function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},D1.apply(null,arguments)}const A1=["bindAddress","port","urlBase","enableSsl","sslPort","sslCertPath","sslCertPassword"];class F1 extends R.Component{constructor(e,t){super(e,t),this.onConfirmRestart=()=>{this.setState({isRestartRequiredModalOpen:!1}),this.props.onConfirmRestart()},this.onCloseRestartRequiredModalOpen=()=>{this.setState({isRestartRequiredModalOpen:!1})},this.state={isRestartRequiredModalOpen:!1}}componentDidUpdate(e){const{settings:t,isSaving:n,saveError:s,isResettingApiKey:o}=this.props;if(!o&&e.isResettingApiKey)return void this.setState({isRestartRequiredModalOpen:!0});if(n||s||!e.isSaving)return;const a=e.settings,r=U().some(A1,(e=>{const n=t[e],s=a[e];if(!n||!s)return!1;const o=s.previousValue,r=n.value;return null!=o&&o!==r}));this.setState({isRestartRequiredModalOpen:r})}render(){const{advancedSettings:e,isFetching:t,isPopulated:n,error:s,settings:o,hasSettings:a,isResettingApiKey:r,isWindows:i,isWindowsService:l,mode:c,packageUpdateMechanism:d,onInputChange:u,onConfirmResetApiKey:m,...h}=this.props;return R.createElement(FF,{title:te("GeneralSettings")},R.createElement(jY,h),R.createElement(TF,null,t&&!n&&R.createElement(tM,null),!t&&s&&R.createElement(OI,{kind:Xs},te("UnableToLoadGeneralSettings")),a&&n&&!s&&R.createElement(Sk,D1({id:"generalSettings"},h),R.createElement(P1,{advancedSettings:e,settings:o,isWindows:i,mode:c,onInputChange:u}),R.createElement(xD,{settings:o,isResettingApiKey:r,onInputChange:u,onConfirmResetApiKey:m}),R.createElement(O1,{settings:o,onInputChange:u}),R.createElement(I1,{settings:o,onInputChange:u}),R.createElement(C1,{settings:o,onInputChange:u}),R.createElement(N1,{advancedSettings:e,settings:o,isWindows:i,packageUpdateMechanism:d,onInputChange:u}),R.createElement(S1,{advancedSettings:e,settings:o,onInputChange:u}))),R.createElement(wD,{isOpen:this.state.isRestartRequiredModalOpen,kind:Xs,title:te("RestartReadarr"),message:"Readarr requires a restart to apply changes, do you want to restart now? "+(l?"Depending which user is running the Readarr service you may need to restart Readarr as admin once before the service will start automatically.":""),cancelLabel:te("IllRestartLater"),confirmLabel:te("RestartNow"),onConfirm:this.onConfirmRestart,onCancel:this.onCloseRestartRequiredModalOpen}))}}const x1=F1;function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R1.apply(null,arguments)}const B1="general",L1={setGeneralSettingsValue:$E,saveGeneralSettings:KE,fetchGeneralSettings:GE,executeCommand:Mc,restart:aP,clearPendingChanges:he};class j1 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setGeneralSettingsValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveGeneralSettings()},this.onConfirmResetApiKey=()=>{this.props.executeCommand({name:sc})},this.onConfirmRestart=()=>{this.props.restart()}}componentDidMount(){this.props.fetchGeneralSettings()}componentDidUpdate(e){!this.props.isResettingApiKey&&e.isResettingApiKey&&this.props.fetchGeneralSettings()}componentWillUnmount(){this.props.clearPendingChanges({section:`settings.${B1}`})}render(){return R.createElement(x1,R1({onInputChange:this.onInputChange,onSavePress:this.onSavePress,onConfirmResetApiKey:this.onConfirmResetApiKey,onConfirmRestart:this.onConfirmRestart},this.props))}}const _1=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI(B1),kF(sc),Yy(),((e,t,n,s)=>({advancedSettings:e,isResettingApiKey:n,isWindows:s.isWindows,isWindowsService:s.isWindows&&"service"===s.mode,mode:s.mode,packageUpdateMechanism:s.packageUpdateMechanism,...t})))}),L1)(j1);function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z1.apply(null,arguments)}const U1=function(e){const{id:t,isFetching:n,error:s,isSaving:o,saveError:a,item:r,onInputChange:i,onSavePress:l,onModalClose:c,onDeleteImportListExclusionPress:d,...u}=e,{authorName:m,foreignId:h}=r;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,t?"Edit Import List Exclusion":"Add Import List Exclusion"),R.createElement(BM,{className:"EditImportListExclusionModalContent-body-vc_c_ ModalBody-modalBody-RVK6D"},n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewImportListExclusionPleaseTryAgain")),!n&&!s&&R.createElement(Sk,u,R.createElement(AI,null,R.createElement(Mk,null,te("EntityName")),R.createElement(ED,z1({type:Gs,name:"authorName",helpText:te("AuthorNameHelpText")},m,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("ForeignId")),R.createElement(ED,z1({type:Gs,name:"foreignId",helpText:te("ForeignIdHelpText")},h,{onChange:i}))))),R.createElement(HM,null,t&&R.createElement(TM,{className:"EditImportListExclusionModalContent-deleteButton-q8gjG Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:d},"Delete"),R.createElement(TM,{onPress:c},"Cancel"),R.createElement(CT,{isSpinning:o,error:a,onPress:l},"Save")))};function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H1.apply(null,arguments)}const V1={authorName:"",foreignId:""},q1={setImportListExclusionValue:af,saveImportListExclusion:sf};class Q1 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setImportListExclusionValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveImportListExclusion({id:this.props.id})}}componentDidMount(){this.props.id||Object.keys(V1).forEach((e=>{this.props.setImportListExclusionValue({name:e,value:V1[e]})}))}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(U1,H1({},this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange}))}}const W1=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{id:t})=>t),(e=>e.settings.importListExclusions),((e,t)=>{const{isFetching:n,error:s,isSaving:o,saveError:a,pendingChanges:r,items:i}=t,l=e?U().find(i,{id:e}):V1,c=PI(l,r,a);return{id:e,isFetching:n,error:s,isSaving:o,saveError:a,item:c.settings,...c}})),(e=>({...e})))}),q1)(Q1);function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G1.apply(null,arguments)}const K1=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(W1,G1({},n,{onModalClose:t})))};function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$1.apply(null,arguments)}const Y1={clearPendingChanges:he};class J1 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.importListExclusions"}),this.props.onModalClose()}}render(){return R.createElement(K1,$1({},this.props,{onModalClose:this.onModalClose}))}}const X1=(0,Wy.Ng)((function(){return{}}),Y1)(J1);class Z1 extends R.Component{constructor(e,t){super(e,t),this.onEditImportListExclusionPress=()=>{this.setState({isEditImportListExclusionModalOpen:!0})},this.onEditImportListExclusionModalClose=()=>{this.setState({isEditImportListExclusionModalOpen:!1})},this.onDeleteImportListExclusionPress=()=>{this.setState({isEditImportListExclusionModalOpen:!1,isDeleteImportListExclusionModalOpen:!0})},this.onDeleteImportListExclusionModalClose=()=>{this.setState({isDeleteImportListExclusionModalOpen:!1})},this.onConfirmDeleteImportListExclusion=()=>{this.props.onConfirmDeleteImportListExclusion(this.props.id)},this.state={isEditImportListExclusionModalOpen:!1,isDeleteImportListExclusionModalOpen:!1}}render(){const{id:e,authorName:t,foreignId:n}=this.props;return R.createElement("div",{className:Fo()("ImportListExclusion-importListExclusion-rVYQS")},R.createElement("div",{className:"ImportListExclusion-foreignId-clfRQ"},n),R.createElement("div",{className:"ImportListExclusion-name-fXL4n"},t),R.createElement("div",{className:"ImportListExclusion-actions-xNNGU"},R.createElement(IM,{onPress:this.onEditImportListExclusionPress},R.createElement(Lo,{name:cn}))),R.createElement(X1,{id:e,isOpen:this.state.isEditImportListExclusionModalOpen,onModalClose:this.onEditImportListExclusionModalClose,onDeleteImportListExclusionPress:this.onDeleteImportListExclusionPress}),R.createElement(wD,{isOpen:this.state.isDeleteImportListExclusionModalOpen,kind:Xs,title:te("DeleteImportListExclusion"),message:te("DeleteImportListExclusionMessageText"),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteImportListExclusion,onCancel:this.onDeleteImportListExclusionModalClose}))}}Z1.defaultProps={connectDragSource:e=>e};const e2=Z1;function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t2.apply(null,arguments)}class n2 extends R.Component{constructor(e,t){super(e,t),this.onAddImportListExclusionPress=()=>{this.setState({isAddImportListExclusionModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddImportListExclusionModalOpen:!1})},this.state={isAddImportListExclusionModalOpen:!1}}render(){const{items:e,onConfirmDeleteImportListExclusion:t,...n}=this.props;return R.createElement(hN,{legend:te("ImportListExclusions")},R.createElement(sX,t2({errorMessage:te("UnableToLoadImportListExclusions")},n),R.createElement("div",{className:"ImportListExclusions-importListExclusionsHeader-tYpqe"},R.createElement("div",{className:"ImportListExclusions-foreignId-l2YuM"},te("ForeignId")),R.createElement("div",{className:"ImportListExclusions-name-c5f3J"},te("Name"))),R.createElement("div",null,e.map(((e,s)=>R.createElement(e2,t2({key:e.id},e,n,{index:s,onConfirmDeleteImportListExclusion:t}))))),R.createElement("div",{className:"ImportListExclusions-addImportListExclusion-g0Slm"},R.createElement(IM,{className:"ImportListExclusions-addButton-I7gE7",onPress:this.onAddImportListExclusionPress},R.createElement(Lo,{name:Tt}))),R.createElement(X1,{isOpen:this.state.isAddImportListExclusionModalOpen,onModalClose:this.onModalClose})))}}const s2=n2;function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o2.apply(null,arguments)}const a2={fetchImportListExclusions:nf,deleteImportListExclusion:of};class r2 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteImportListExclusion=e=>{this.props.deleteImportListExclusion({id:e})}}componentDidMount(){this.props.fetchImportListExclusions()}render(){return R.createElement(s2,o2({},this.state,this.props,{onConfirmDeleteImportListExclusion:this.onConfirmDeleteImportListExclusion}))}}const i2=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.importListExclusions),(e=>({...e})))}),a2)(r2);function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l2.apply(null,arguments)}class c2 extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,implementation:t}=this.props;this.props.onPress({name:e,implementation:t})}}render(){const{name:e,implementation:t,...n}=this.props;return R.createElement(kA,l2({},n,{onPress:this.onPress}),e)}}const d2=c2;class u2 extends R.Component{constructor(...e){super(...e),this.onImportListSelect=()=>{const{implementation:e}=this.props;this.props.onImportListSelect({implementation:e})}}render(){const{implementation:e,implementationName:t,infoLink:n,presets:s,onImportListSelect:o}=this.props,a=!!s&&!!s.length;return R.createElement("div",{className:"AddImportListItem-list-oFr_m Card-card-aoesq"},R.createElement(IM,{className:"AddImportListItem-underlay-eQ6Rc",onPress:this.onImportListSelect}),R.createElement("div",{className:"AddImportListItem-overlay-SV_VG"},R.createElement("div",{className:"AddImportListItem-name-ww4lQ"},t),R.createElement("div",{className:"AddImportListItem-actions-CpSnE"},a&&R.createElement("span",null,R.createElement(TM,{size:po,onPress:this.onListSelect},"Custom"),R.createElement(CA,{className:"AddImportListItem-presetsMenu-TZXKp Menu-menu-Uz3_0"},R.createElement(TM,{className:"AddImportListItem-presetsMenuButton-hxJ1r Button-button-paJ9a Link-link-RInnp",size:po},"Presets"),R.createElement(yA,null,s.map((t=>R.createElement(d2,{key:t.name,name:t.name,implementation:e,onPress:o})))))),R.createElement(TM,{to:n,size:po},"More info"))))}}const m2=u2;function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h2.apply(null,arguments)}class p2 extends R.Component{render(){const{isSchemaFetching:e,isSchemaPopulated:t,schemaError:n,listGroups:s,onImportListSelect:o,onModalClose:a}=this.props;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Add List"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,te("UnableToAddANewListPleaseTryAgain")),t&&!n&&R.createElement("div",null,R.createElement(OI,{kind:to},R.createElement("div",null,te("ReadarrSupportsMultipleListsForImportingBooksAndAuthorsIntoTheDatabase")),R.createElement("div",null,te("ForMoreInformationOnTheIndividualListsClickOnTheInfoButtons"))),Object.keys(s).map((e=>R.createElement(hN,{legend:`${EI(e)} List`,key:e},R.createElement("div",{className:"AddImportListModalContent-lists-gojEB"},s[e].map((e=>R.createElement(m2,h2({key:e.implementation,implementation:e.implementation},e,{onImportListSelect:o})))))))))),R.createElement(HM,null,R.createElement(TM,{onPress:a},"Close")))}}const g2=p2;function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E2.apply(null,arguments)}const f2={fetchImportListSchema:yf,selectImportListSchema:Mf};class C2 extends R.Component{constructor(...e){super(...e),this.onImportListSelect=({implementation:e,name:t})=>{this.props.selectImportListSchema({implementation:e,presetName:t}),this.props.onModalClose({listSelected:!0})}}componentDidMount(){this.props.fetchImportListSchema()}render(){return R.createElement(g2,E2({},this.props,{onImportListSelect:this.onImportListSelect}))}}const v2=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.importLists),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,listGroups:U().chain(o).sortBy((e=>e.listOrder)).groupBy("listType").value()}}))}),f2)(C2);function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S2.apply(null,arguments)}const b2=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(v2,S2({},n,{onModalClose:t})))},P2=function(e){if(!e)return"";const t=ko().duration(e),n=Math.floor(t.asHours()),s=Math.floor(t.asMinutes()),o=Math.floor(t.asSeconds());return n>0?`${n} hour(s)`:s>0?`${s} minute(s)`:`${o} second(s)`},y2="EditImportListModalContent-labelIcon-tJxZ5",M2="EditImportListModalContent-message-mgth4 Alert-alert-_KgnQ";function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I2.apply(null,arguments)}function k2(){return R.createElement(sN,null,R.createElement(cN,{title:te("None"),data:te("DataListMonitorNone")}),R.createElement(cN,{title:te("SpecificBook"),data:te("DataListMonitorSpecificBook")}),R.createElement(cN,{title:te("AllAuthorBooks"),data:te("DataListMonitorAll")}))}const O2=function(e){const{advancedSettings:t,isFetching:n,error:s,isSaving:o,isTesting:a,saveError:r,item:i,onInputChange:l,onFieldChange:c,onModalClose:d,onSavePress:u,onTestPress:m,onAdvancedSettingsPress:h,onDeleteImportListPress:p,showMetadataProfile:g,...E}=e,{id:f,name:C,enableAutomaticAdd:v,minRefreshInterval:S,shouldMonitor:b,shouldMonitorExisting:P,shouldSearch:y,rootFolderPath:M,monitorNewItems:I,qualityProfileId:k,metadataProfileId:O,tags:w,fields:T,message:N}=i;return R.createElement(_M,{onModalClose:d},R.createElement(QM,null,te(f?"EditList":"AddList")),R.createElement(BM,null,n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewListPleaseTryAgain")),!n&&!s&&R.createElement(Sk,E,!!N&&R.createElement(OI,{className:M2,kind:N.value.type},N.value.message),R.createElement(OI,{kind:to,className:M2},te("ListWillRefreshEveryInterp",[P2(S.value)])),R.createElement(hN,{legend:te("ImportListSettings")},R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,I2({type:Gs,name:"name"},C,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("EnableAutomaticAdd")),R.createElement(ED,I2({type:ws,name:"enableAutomaticAdd",helpText:te("EnableAutomaticAddHelpText")},v,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("Monitor"),R.createElement(vN,{anchor:R.createElement(Lo,{className:y2,name:kn}),title:te("MonitoringOptions"),body:R.createElement(k2,null),position:Po})),R.createElement(ED,I2({type:qs,name:"shouldMonitor",values:[{key:"none",value:"None"},{key:"specificBook",value:"Specific Book"},{key:"entireAuthor",value:"All Author Books"}],helpText:te("ShouldMonitorHelpText")},b,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("ShouldMonitorExisting")),R.createElement(ED,I2({type:ws,name:"shouldMonitorExisting",helpText:te("ShouldMonitorExistingHelpText")},P,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("SearchForNewItems")),R.createElement(ED,I2({type:ws,name:"shouldSearch",helpText:te("ShouldSearchHelpText")},y,{onChange:l})))),R.createElement(hN,{legend:te("AddedAuthorSettings")},R.createElement(AI,null,R.createElement(Mk,null,te("RootFolder")),R.createElement(ED,I2({type:Vs,name:"rootFolderPath",helpText:te("RootFolderPathHelpText")},M,{includeMissingValue:!0,onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("MonitorNewItems"),R.createElement(vN,{anchor:R.createElement(Lo,{className:y2,name:kn}),title:te("MonitorNewItems"),body:R.createElement(uN,null),position:Po})),R.createElement(ED,I2({type:As,name:"monitorNewItems",helpText:te("MonitorNewItemsHelpText")},I,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("QualityProfile")),R.createElement(ED,I2({type:Ls,name:"qualityProfileId",helpText:te("QualityProfileIdHelpText")},k,{onChange:l}))),R.createElement(AI,{className:g?void 0:"EditImportListModalContent-hideMetadataProfile-maPSg FormGroup-group-UkYsg"},R.createElement(Mk,null,te("MetadataProfile")),R.createElement(ED,I2({type:js,name:"metadataProfileId",helpText:te("MetadataProfileIdHelpText")},O,{includeNone:!0,onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("ReadarrTags")),R.createElement(ED,I2({type:Ws,name:"tags",helpText:te("TagsHelpText")},w,{onChange:l})))),!!T&&!!T.length&&R.createElement(hN,{legend:te("ImportListSpecificSettings")},T.map((e=>R.createElement(DX,I2({key:e.name,advancedSettings:t,provider:"importList",providerData:i,section:"settings.importLists"},e,{onChange:c}))))))),R.createElement(HM,null,f&&R.createElement(TM,{className:"EditImportListModalContent-deleteButton-snrok Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:p},te("Delete")),R.createElement(NY,{advancedSettings:t,onAdvancedSettingsPress:h,showLabel:!1}),R.createElement(CT,{isSpinning:a,error:r,onPress:m},te("Test")),R.createElement(TM,{onPress:d},te("Cancel")),R.createElement(CT,{isSpinning:o,error:r,onPress:u},te("Save"))))};function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w2.apply(null,arguments)}const T2={setImportListValue:Ff,setImportListFieldValue:xf,saveImportList:If,testImportList:wf,toggleAdvancedSettings:rb};class N2 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setImportListValue({name:e,value:t})},this.onFieldChange=({name:e,value:t})=>{this.props.setImportListFieldValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveImportList({id:this.props.id})},this.onTestPress=()=>{this.props.testImportList({id:this.props.id})},this.onAdvancedSettingsPress=()=>{this.props.toggleAdvancedSettings()}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(O2,w2({},this.props,{onSavePress:this.onSavePress,onTestPress:this.onTestPress,onAdvancedSettingsPress:this.onAdvancedSettingsPress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const D2=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),(e=>e.settings.metadataProfiles),eN("importLists"),((e,t,n)=>({advancedSettings:e,showMetadataProfile:t.items.length>1,...n})))}),T2)(N2);function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A2.apply(null,arguments)}const F2=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(D2,A2({},n,{onModalClose:t})))};function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x2.apply(null,arguments)}class R2 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.dispatchCancelTestImportList(),this.props.dispatchCancelSaveImportList(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,dispatchCancelTestImportList:t,dispatchCancelSaveImportList:n,...s}=this.props;return R.createElement(F2,x2({},s,{onModalClose:this.onModalClose}))}}const B2=(0,Wy.Ng)(null,(function(e,t){const n="settings.importLists";return{dispatchClearPendingChanges(){e(he({section:n}))},dispatchCancelTestImportList(){e(Tf({section:n}))},dispatchCancelSaveImportList(){e(kf({section:n}))}}}))(R2),L2="ImportList-enabled-C_uMU";class j2 extends R.Component{constructor(e,t){super(e,t),this.onEditImportListPress=()=>{this.setState({isEditImportListModalOpen:!0})},this.onEditImportListModalClose=()=>{this.setState({isEditImportListModalOpen:!1})},this.onDeleteImportListPress=()=>{this.setState({isEditImportListModalOpen:!1,isDeleteImportListModalOpen:!0})},this.onDeleteImportListModalClose=()=>{this.setState({isDeleteImportListModalOpen:!1})},this.onConfirmDeleteImportList=()=>{this.props.onConfirmDeleteImportList(this.props.id)},this.state={isEditImportListModalOpen:!1,isDeleteImportListModalOpen:!1}}render(){const{id:e,name:t,enableAutomaticAdd:n,minRefreshInterval:s,shouldSearch:o}=this.props;return R.createElement(nX,{className:"ImportList-list-c7gQt Card-card-aoesq",overlayContent:!0,onPress:this.onEditImportListPress},R.createElement("div",{className:"ImportList-name-Wx4wM"},t),R.createElement("div",{className:L2},n&&R.createElement(YO,{kind:ao},"Automatic Add"),o&&R.createElement(YO,{kind:ao},"Automatic Search")),R.createElement("div",{className:L2},R.createElement(YO,{kind:to,title:te("ListRefreshInterval")},`${te("Refresh")}: ${P2(s)}`)),R.createElement(B2,{id:e,isOpen:this.state.isEditImportListModalOpen,onModalClose:this.onEditImportListModalClose,onDeleteImportListPress:this.onDeleteImportListPress}),R.createElement(wD,{isOpen:this.state.isDeleteImportListModalOpen,kind:Xs,title:te("DeleteImportList"),message:te("DeleteImportListMessageText",{name:t}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteImportList,onCancel:this.onDeleteImportListModalClose}))}}const _2=j2;function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z2.apply(null,arguments)}class U2 extends R.Component{constructor(e,t){super(e,t),this.onAddImportListPress=()=>{this.setState({isAddImportListModalOpen:!0})},this.onAddImportListModalClose=({listSelected:e=!1}={})=>{this.setState({isAddImportListModalOpen:!1,isEditImportListModalOpen:e})},this.onEditImportListModalClose=()=>{this.setState({isEditImportListModalOpen:!1})},this.state={isAddImportListModalOpen:!1,isEditImportListModalOpen:!1}}render(){const{items:e,onConfirmDeleteImportList:t,...n}=this.props,{isAddImportListModalOpen:s,isEditImportListModalOpen:o}=this.state;return R.createElement(hN,{legend:te("ImportLists")},R.createElement(sX,z2({errorMessage:te("UnableToLoadLists")},n),R.createElement("div",{className:"ImportLists-lists-vKPjg"},e.map((e=>R.createElement(_2,z2({key:e.id},e,{onConfirmDeleteImportList:t})))),R.createElement(nX,{className:"ImportLists-addList-gGcxK ImportList-list-c7gQt Card-card-aoesq",onPress:this.onAddImportListPress},R.createElement("div",{className:"ImportLists-center-f_Mdw"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(b2,{isOpen:s,onModalClose:this.onAddImportListModalClose}),R.createElement(B2,{isOpen:o,onModalClose:this.onEditImportListModalClose})))}}const H2=U2;function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V2.apply(null,arguments)}const q2={fetchImportLists:Pf,deleteImportList:Of,fetchRootFolders:HS};class Q2 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteImportList=e=>{this.props.deleteImportList({id:e})}}componentDidMount(){this.props.fetchImportLists(),this.props.fetchRootFolders()}render(){return R.createElement(H2,V2({},this.props,{onConfirmDeleteImportList:this.onConfirmDeleteImportList}))}}const W2=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.importLists",cr),(e=>e))}),q2)(Q2),G2="noChange",K2=[{key:G2,get value(){return te("NoChange")},isDisabled:!0},{key:"enabled",get value(){return te("Enabled")}},{key:"disabled",get value(){return te("Disabled")}}],$2=function(e){const{importListIds:t,onSavePress:n,onModalClose:s}=e,[o,a]=(0,R.useState)(G2),[r,i]=(0,R.useState)(G2),[l,c]=(0,R.useState)(G2),[d,u]=(0,R.useState)(G2),m=(0,R.useCallback)((()=>{let e=!1;const t={};o!==G2&&(e=!0,t.enableAutomaticAdd="enabled"===o),r!==G2&&(e=!0,t.qualityProfileId=r),l!==G2&&(e=!0,t.metadataProfileId=l),d!==G2&&(e=!0,t.rootFolderPath=d),e&&n(t),s()}),[o,r,l,d,n,s]),h=(0,R.useCallback)((({name:e,value:t})=>{switch(e){case"enableAutomaticAdd":a(t);break;case"qualityProfileId":i(t);break;case"metadataProfileId":c(t);break;case"rootFolderPath":u(t);break;default:console.warn(`EditImportListModalContent Unknown Input: '${e}'`)}}),[]),p=t.length;return R.createElement(_M,{onModalClose:s},R.createElement(QM,null,te("EditSelectedImportLists")),R.createElement(BM,null,R.createElement(AI,null,R.createElement(Mk,null,te("AutomaticAdd")),R.createElement(ED,{type:qs,name:"enableAutomaticAdd",value:o,values:K2,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("QualityProfile")),R.createElement(ED,{type:Ls,name:"qualityProfileId",value:r,includeNoChange:!0,includeNoChangeDisabled:!1,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("MetadataProfile")),R.createElement(ED,{type:js,name:"metadataProfileId",value:l,includeNoChange:!0,includeNoChangeDisabled:!1,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("RootFolder")),R.createElement(ED,{type:Vs,name:"rootFolderPath",value:d,includeNoChange:!0,includeNoChangeDisabled:!1,selectedValueOptions:{includeFreeSpace:!1},onChange:h}))),R.createElement(HM,{className:"ManageImportListsEditModalContent-modalFooter-vOLBE ModalFooter-modalFooter-wjkx5"},R.createElement("div",{className:"ManageImportListsEditModalContent-selected-snufW"},te("CountImportListsSelected",{selectedCount:p})),R.createElement("div",null,R.createElement(TM,{onPress:s},te("Cancel")),R.createElement(TM,{onPress:m},te("ApplyChanges")))))},Y2=function(e){const{isOpen:t,importListIds:n,onSavePress:s,onModalClose:o}=e;return R.createElement(JM,{isOpen:t,onModalClose:o},R.createElement($2,{importListIds:n,onSavePress:s,onModalClose:o}))},J2=function(e){var t,n;const{id:s,isSelected:o,name:a,rootFolderPath:r,qualityProfileId:i,metadataProfileId:l,implementation:c,enableAutomaticAdd:d,tags:u,onSelectedChange:m}=e,h=(0,Wy.d4)(eH(i)),p=(0,Wy.d4)(function(e){return(0,Ky.Mz)((e=>e.settings.metadataProfiles.items),(t=>t.find((t=>t.id===e))))}(l)),g=(0,R.useCallback)((e=>{m({...e})}),[m]);return R.createElement(pO,null,R.createElement(hk,{id:s,isSelected:o,onSelectedChange:g}),R.createElement(ak,{className:"ManageImportListsModalRow-name-jCmYl TableRowCell-cell-giPrj"},a),R.createElement(ak,{className:"ManageImportListsModalRow-implementation-LVthP TableRowCell-cell-giPrj"},c),R.createElement(ak,{className:"ManageImportListsModalRow-qualityProfileId-Q8GRF TableRowCell-cell-giPrj"},null!=(t=null==h?void 0:h.name)?t:te("None")),R.createElement(ak,{className:"ManageImportListsModalRow-metadataProfileId-lie7Q TableRowCell-cell-giPrj"},null!=(n=null==p?void 0:p.name)?n:"None"),R.createElement(ak,{className:"ManageImportListsModalRow-rootFolderPath-FzmIs TableRowCell-cell-giPrj"},r),R.createElement(ak,{className:"ManageImportListsModalRow-enableAutomaticAdd-OI9r0 TableRowCell-cell-giPrj"},te(d?"Yes":"No")),R.createElement(ak,{className:"ManageImportListsModalRow-tags-WVEIX TableRowCell-cell-giPrj"},R.createElement(oW,{tags:u})))},X2=function(e){const{ids:t,onModalClose:n,onApplyTagsPress:s}=e,o=(0,Wy.d4)((e=>e.settings.importLists)),a=(0,Wy.d4)(GN()),[r,i]=(0,R.useState)([]),[l,c]=(0,R.useState)("add"),d=(0,R.useMemo)((()=>{const e=t.reduce(((e,t)=>{const n=o.items.find((e=>e.id===t));return n&&e.push(...n.tags),e}),[]);return(0,z.uniq)(e)}),[t,o]),u=(0,R.useCallback)((({value:e})=>{i(e)}),[i]),m=(0,R.useCallback)((({value:e})=>{c(e)}),[c]),h=(0,R.useCallback)((()=>{s(r,l)}),[r,l,s]),p=[{key:"add",get value(){return te("Add")}},{key:"remove",get value(){return te("Remove")}},{key:"replace",get value(){return te("Replace")}}];return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,te("Tags")),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,{type:Ws,name:"tags",value:r,onChange:u})),R.createElement(AI,null,R.createElement(Mk,null,te("ApplyTags")),R.createElement(ED,{type:qs,name:"applyTags",value:l,values:p,helpTexts:[te("ApplyTagsHelpTextHowToApplyImportLists"),te("ApplyTagsHelpTextAdd"),te("ApplyTagsHelpTextRemove"),te("ApplyTagsHelpTextReplace")],onChange:m})),R.createElement(AI,null,R.createElement(Mk,null,te("Result")),R.createElement("div",{className:"TagsModalContent-result-SDxiV"},d.map((e=>{const t=a.find((t=>t.id===e));if(!t)return null;const n="remove"===l&&r.indexOf(e)>-1||"replace"===l&&-1===r.indexOf(e);return R.createElement(YO,{key:t.id,title:te(n?"RemovingTag":"ExistingTag"),kind:n?no:to,size:Eo},t.label)})),("add"===l||"replace"===l)&&r.map((e=>{const t=a.find((t=>t.id===e));return t?d.indexOf(e)>-1?null:R.createElement(YO,{key:t.id,title:te("AddingTag"),kind:ao,size:Eo},t.label):null})))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},te("Cancel")),R.createElement(TM,{kind:so,onPress:h},te("Apply"))))};function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z2.apply(null,arguments)}const e5=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(X2,Z2({},s,{onModalClose:n})))};function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t5.apply(null,arguments)}const n5=[{name:"name",label:()=>te("Name"),isSortable:!0,isVisible:!0},{name:"implementation",label:()=>te("Implementation"),isSortable:!0,isVisible:!0},{name:"qualityProfileId",label:()=>te("QualityProfile"),isSortable:!0,isVisible:!0},{name:"metadataProfileId",label:()=>te("MetadataProfile"),isSortable:!0,isVisible:!0},{name:"rootFolderPath",label:()=>te("RootFolder"),isSortable:!0,isVisible:!0},{name:"enableAutomaticAdd",label:()=>te("AutoAdd"),isSortable:!0,isVisible:!0},{name:"tags",label:()=>te("Tags"),isSortable:!0,isVisible:!0}],s5=function(e){const{onModalClose:t}=e,{isFetching:n,isPopulated:s,isDeleting:o,isSaving:a,error:r,items:i}=(0,Wy.d4)($R("settings.importLists")),l=(0,Wy.wA)(),[c,d]=(0,R.useState)(!1),[u,m]=(0,R.useState)(!1),[h,p]=(0,R.useState)(!1),[g,E]=(0,R.useState)(!1),[f,C]=P0(),{allSelected:v,allUnselected:S,selectedState:b}=f,P=(0,R.useMemo)((()=>gO(b)),[b]),y=P.length,M=(0,R.useCallback)((()=>{d(!0)}),[d]),I=(0,R.useCallback)((()=>{d(!1)}),[d]),k=(0,R.useCallback)((()=>{m(!0)}),[m]),O=(0,R.useCallback)((()=>{m(!1)}),[m]),w=(0,R.useCallback)((()=>{l(Af({ids:P})),d(!1)}),[P,l]),T=(0,R.useCallback)((e=>{m(!1),l(Df({ids:P,...e}))}),[P,l]),N=(0,R.useCallback)((()=>{p(!0)}),[p]),D=(0,R.useCallback)((()=>{p(!1)}),[p]),A=(0,R.useCallback)(((e,t)=>{E(!0),p(!1),l(Df({ids:P,tags:e,applyTags:t}))}),[P,l]),F=(0,R.useCallback)((({value:e})=>{C({type:e?"selectAll":"unselectAll",items:i})}),[i,C]),x=(0,R.useCallback)((({id:e,value:t,shiftKey:n=!1})=>{C({type:"toggleSelected",items:i,id:e,isSelected:t,shiftKey:n})}),[i,C]),B=Jy(r,"Unable to load import lists."),L=y>0;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,te("ManageImportLists")),R.createElement(BM,null,n?R.createElement(tM,null):null,r?R.createElement("div",null,B):null,s&&!r&&!i.length&&R.createElement(OI,{kind:to},te("NoImportListsFound")),s&&i.length&&!n&&!n?R.createElement(cO,{columns:n5,horizontalScroll:!0,selectAll:!0,allSelected:v,allUnselected:S,onSelectAllChange:F},R.createElement(uO,null,i.map((e=>R.createElement(J2,t5({key:e.id,isSelected:b[e.id]},e,{columns:n5,onSelectedChange:x})))))):null),R.createElement(HM,null,R.createElement("div",{className:"ManageImportListsModalContent-leftButtons-P1y81"},R.createElement(AO,{kind:Xs,isSpinning:o,isDisabled:!L,onPress:M},te("Delete")),R.createElement(AO,{isSpinning:a,isDisabled:!L,onPress:k},te("Edit")),R.createElement(AO,{isSpinning:a&&g,isDisabled:!L,onPress:N},te("SetTags"))),R.createElement(TM,{onPress:t},te("Close"))),R.createElement(Y2,{isOpen:u,onModalClose:O,onSavePress:T,importListIds:P}),R.createElement(e5,{isOpen:h,ids:P,onApplyTagsPress:A,onModalClose:D}),R.createElement(wD,{isOpen:c,kind:Xs,title:te("DeleteSelectedImportLists"),message:te("DeleteSelectedImportListsMessageText",{count:P.length}),confirmLabel:te("Delete"),onConfirm:w,onCancel:I}))},o5=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{size:fo,isOpen:t,onModalClose:n},R.createElement(s5,{onModalClose:n}))};class a5 extends R.Component{constructor(e,t){super(e,t),this.setListOptionsRef=e=>{this._listOptions=e},this.onManageImportListsPress=()=>{this.setState({isManageImportListsOpen:!0})},this.onManageImportListsModalClose=()=>{this.setState({isManageImportListsOpen:!1})},this.onHasPendingChange=e=>{this.setState({hasPendingChanges:e})},this.onSavePress=()=>{this._listOptions.getWrappedInstance().save()},this.state={hasPendingChanges:!1,isManageImportListsOpen:!1}}render(){const{isTestingAll:e,dispatchTestAllImportLists:t}=this.props,{isSaving:n,hasPendingChanges:s,isManageImportListsOpen:o}=this.state;return R.createElement(FF,{title:te("ImportListSettings")},R.createElement(jY,{isSaving:n,hasPendingChanges:s,additionalButtons:R.createElement(R.Fragment,null,R.createElement(SR,null),R.createElement(jF,{label:te("TestAllLists"),iconName:Cs,isSpinning:e,onPress:t}),R.createElement(jF,{label:te("ManageLists"),iconName:Nn,onPress:this.onManageImportListsPress})),onSavePress:this.onSavePress}),R.createElement(TF,null,R.createElement(W2,null),R.createElement(i2,null),R.createElement(o5,{isOpen:o,onModalClose:this.onManageImportListsModalClose})))}}const r5=a5,i5={dispatchTestAllImportLists:Nf},l5=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.importLists.isTestingAll),(e=>({isTestingAll:e})))}),i5)(r5);function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c5.apply(null,arguments)}class d5 extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,implementation:t}=this.props;this.props.onPress({name:e,implementation:t})}}render(){const{name:e,implementation:t,...n}=this.props;return R.createElement(kA,c5({},n,{onPress:this.onPress}),e)}}const u5=d5;class m5 extends R.Component{constructor(...e){super(...e),this.onIndexerSelect=()=>{const{implementation:e}=this.props;this.props.onIndexerSelect({implementation:e})}}render(){const{implementation:e,implementationName:t,infoLink:n,presets:s,onIndexerSelect:o}=this.props,a=!!s&&!!s.length;return R.createElement("div",{className:"AddIndexerItem-indexer-tTo8N Card-card-aoesq"},R.createElement(IM,{className:"AddIndexerItem-underlay-u2paU",onPress:this.onIndexerSelect}),R.createElement("div",{className:"AddIndexerItem-overlay-Z0Tf4"},R.createElement("div",{className:"AddIndexerItem-name-us4Tk"},t),R.createElement("div",{className:"AddIndexerItem-actions-u_UFM"},a&&R.createElement("span",null,R.createElement(TM,{size:po,onPress:this.onIndexerSelect},"Custom"),R.createElement(CA,{className:"AddIndexerItem-presetsMenu-a2J0h Menu-menu-Uz3_0"},R.createElement(TM,{className:"AddIndexerItem-presetsMenuButton-HCMQr Button-button-paJ9a Link-link-RInnp",size:po},"Presets"),R.createElement(yA,null,s.map((t=>R.createElement(u5,{key:t.name,name:t.name,implementation:e,onPress:o})))))),R.createElement(TM,{to:n,size:po},"More info"))))}}const h5=m5,p5="AddIndexerModalContent-indexers-zh7Wv";function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g5.apply(null,arguments)}class E5 extends R.Component{render(){const{isSchemaFetching:e,isSchemaPopulated:t,schemaError:n,usenetIndexers:s,torrentIndexers:o,onIndexerSelect:a,onModalClose:r}=this.props;return R.createElement(_M,{onModalClose:r},R.createElement(QM,null,"Add Indexer"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,te("UnableToAddANewIndexerPleaseTryAgain")),t&&!n&&R.createElement("div",null,R.createElement(OI,{kind:to},R.createElement("div",null,te("ReadarrSupportsAnyIndexerThatUsesTheNewznabStandardAsWellAsOtherIndexersListedBelow")),R.createElement("div",null,te("ForMoreInformationOnTheIndividualIndexersClickOnTheInfoButtons"))),R.createElement(hN,{legend:te("Usenet")},R.createElement("div",{className:p5},s.map((e=>R.createElement(h5,g5({key:e.implementation,implementation:e.implementation},e,{onIndexerSelect:a})))))),R.createElement(hN,{legend:te("Torrents")},R.createElement("div",{className:p5},o.map((e=>R.createElement(h5,g5({key:e.implementation,implementation:e.implementation},e,{onIndexerSelect:a})))))))),R.createElement(HM,null,R.createElement(TM,{onPress:r},"Close")))}}const f5=E5;function C5(){return C5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},C5.apply(null,arguments)}const v5={fetchIndexerSchema:dC,selectIndexerSchema:uC};class S5 extends R.Component{constructor(...e){super(...e),this.onIndexerSelect=({implementation:e,name:t})=>{this.props.selectIndexerSchema({implementation:e,presetName:t}),this.props.onModalClose({indexerSelected:!0})}}componentDidMount(){this.props.fetchIndexerSchema()}render(){return R.createElement(f5,C5({},this.props,{onIndexerSelect:this.onIndexerSelect}))}}const b5=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.indexers),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,usenetIndexers:U().filter(o,{protocol:"usenet"}),torrentIndexers:U().filter(o,{protocol:"torrent"})}}))}),v5)(S5);function P5(){return P5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P5.apply(null,arguments)}const y5=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(b5,P5({},n,{onModalClose:t})))};function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},M5.apply(null,arguments)}const I5=function(e){const{advancedSettings:t,isFetching:n,error:s,isSaving:o,isTesting:a,saveError:r,item:i,onInputChange:l,onFieldChange:c,onModalClose:d,onSavePress:u,onTestPress:m,onDeleteIndexerPress:h,onAdvancedSettingsPress:p,...g}=e,{id:E,implementationName:f,name:C,enableRss:v,enableAutomaticSearch:S,enableInteractiveSearch:b,supportsRss:P,supportsSearch:y,tags:M,fields:I,priority:k,protocol:O,downloadClientId:w}=i;return R.createElement(_M,{onModalClose:d},R.createElement(QM,null,`${E?"Edit":"Add"} Indexer - ${f}`),R.createElement(BM,null,n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewIndexerPleaseTryAgain")),!n&&!s&&R.createElement(Sk,g,R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,M5({type:Gs,name:"name"},C,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("EnableRSS")),R.createElement(ED,M5({type:ws,name:"enableRss",helpText:P.value?te("EnableRssHelpText"):void 0,helpTextWarning:P.value?void 0:te("SupportsRssvalueRSSIsNotSupportedWithThisIndexer"),isDisabled:!P.value},v,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("EnableAutomaticSearch")),R.createElement(ED,M5({type:ws,name:"enableAutomaticSearch",helpText:y.value?te("SupportsSearchvalueWillBeUsedWhenAutomaticSearchesArePerformedViaTheUIOrByReadarr"):void 0,helpTextWarning:y.value?void 0:te("SupportsSearchvalueSearchIsNotSupportedWithThisIndexer"),isDisabled:!y.value},S,{onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("EnableInteractiveSearch")),R.createElement(ED,M5({type:ws,name:"enableInteractiveSearch",helpText:y.value?te("SupportsSearchvalueWillBeUsedWhenInteractiveSearchIsUsed"):void 0,helpTextWarning:y.value?void 0:te("SupportsSearchvalueSearchIsNotSupportedWithThisIndexer"),isDisabled:!y.value},b,{onChange:l}))),I.map((e=>R.createElement(DX,M5({key:e.name,advancedSettings:t,provider:"indexer",providerData:i},e,{onChange:c})))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("IndexerPriority")),R.createElement(ED,M5({type:Fs,name:"priority",helpText:te("IndexerPriorityHelpText"),min:1,max:50},k,{onChange:l}))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("DownloadClient")),R.createElement(ED,M5({type:Hs,name:"downloadClientId",helpText:te("IndexerDownloadClientHelpText")},w,{includeAny:!0,protocol:O.value,onChange:l}))),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,M5({type:Ws,name:"tags",helpText:te("IndexerTagsHelpText")},M,{onChange:l}))))),R.createElement(HM,null,E&&R.createElement(TM,{className:"EditIndexerModalContent-deleteButton-gyzhH Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:h},"Delete"),R.createElement(NY,{advancedSettings:t,onAdvancedSettingsPress:p,showLabel:!1}),R.createElement(CT,{isSpinning:a,error:r,onPress:m},"Test"),R.createElement(TM,{onPress:d},"Cancel"),R.createElement(CT,{isSpinning:o,error:r,onPress:u},"Save")))};function k5(){return k5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k5.apply(null,arguments)}const O5={setIndexerValue:PC,setIndexerFieldValue:yC,saveIndexer:hC,testIndexer:EC,toggleAdvancedSettings:rb};class w5 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setIndexerValue({name:e,value:t})},this.onFieldChange=({name:e,value:t})=>{this.props.setIndexerFieldValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveIndexer({id:this.props.id})},this.onTestPress=()=>{this.props.testIndexer({id:this.props.id})},this.onAdvancedSettingsPress=()=>{this.props.toggleAdvancedSettings()}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(I5,k5({},this.props,{onSavePress:this.onSavePress,onTestPress:this.onTestPress,onAdvancedSettingsPress:this.onAdvancedSettingsPress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const T5=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("indexers"),((e,t)=>({advancedSettings:e,...t})))}),O5)(w5);function N5(){return N5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N5.apply(null,arguments)}const D5=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(T5,N5({},n,{onModalClose:t})))};function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A5.apply(null,arguments)}class F5 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.dispatchCancelTestIndexer(),this.props.dispatchCancelSaveIndexer(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,dispatchCancelTestIndexer:t,dispatchCancelSaveIndexer:n,...s}=this.props;return R.createElement(D5,A5({},s,{onModalClose:this.onModalClose}))}}const x5=(0,Wy.Ng)(null,(function(e,t){const n="settings.indexers";return{dispatchClearPendingChanges(){e(he({section:n}))},dispatchCancelTestIndexer(){e(fC({section:n}))},dispatchCancelSaveIndexer(){e(pC({section:n}))}}}))(F5);class R5 extends R.Component{constructor(e,t){super(e,t),this.onEditIndexerPress=()=>{this.setState({isEditIndexerModalOpen:!0})},this.onEditIndexerModalClose=()=>{this.setState({isEditIndexerModalOpen:!1})},this.onDeleteIndexerPress=()=>{this.setState({isEditIndexerModalOpen:!1,isDeleteIndexerModalOpen:!0})},this.onDeleteIndexerModalClose=()=>{this.setState({isDeleteIndexerModalOpen:!1})},this.onConfirmDeleteIndexer=()=>{this.props.onConfirmDeleteIndexer(this.props.id)},this.onCloneIndexerPress=()=>{const{id:e,onCloneIndexerPress:t}=this.props;t(e)},this.state={isEditIndexerModalOpen:!1,isDeleteIndexerModalOpen:!1}}render(){const{id:e,name:t,enableRss:n,enableAutomaticSearch:s,enableInteractiveSearch:o,tags:a,tagList:r,supportsRss:i,supportsSearch:l,priority:c,showPriority:d}=this.props;return R.createElement(nX,{className:"Indexer-indexer-KNEbl Card-card-aoesq",overlayContent:!0,onPress:this.onEditIndexerPress},R.createElement("div",{className:"Indexer-nameContainer-iKZDb"},R.createElement("div",{className:"Indexer-name-FoGnv"},t),R.createElement(Ek,{className:"Indexer-cloneButton-eTzP5 IconButton-button-t4C5V Link-link-RInnp",title:te("CloneIndexer"),name:Zt,onPress:this.onCloneIndexerPress})),R.createElement("div",{className:"Indexer-enabled-alXzS"},i&&n&&R.createElement(YO,{kind:ao},"RSS"),l&&s&&R.createElement(YO,{kind:ao},"Automatic Search"),l&&o&&R.createElement(YO,{kind:ao},"Interactive Search"),d&&R.createElement(YO,{kind:Zs},"Priority: ",c),!n&&!s&&!o&&R.createElement(YO,{kind:eo,outline:!0},"Disabled")),R.createElement(sW,{tags:a,tagList:r}),R.createElement(x5,{id:e,isOpen:this.state.isEditIndexerModalOpen,onModalClose:this.onEditIndexerModalClose,onDeleteIndexerPress:this.onDeleteIndexerPress}),R.createElement(wD,{isOpen:this.state.isDeleteIndexerModalOpen,kind:Xs,title:te("DeleteIndexer"),message:te("DeleteIndexerMessageText",{name:t}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteIndexer,onCancel:this.onDeleteIndexerModalClose}))}}const B5=R5;function L5(){return L5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},L5.apply(null,arguments)}class j5 extends R.Component{constructor(e,t){super(e,t),this.onAddIndexerPress=()=>{this.setState({isAddIndexerModalOpen:!0})},this.onCloneIndexerPress=e=>{this.props.dispatchCloneIndexer({id:e}),this.setState({isEditIndexerModalOpen:!0})},this.onAddIndexerModalClose=({indexerSelected:e=!1}={})=>{this.setState({isAddIndexerModalOpen:!1,isEditIndexerModalOpen:e})},this.onEditIndexerModalClose=()=>{this.setState({isEditIndexerModalOpen:!1})},this.state={isAddIndexerModalOpen:!1,isEditIndexerModalOpen:!1}}render(){const{items:e,tagList:t,dispatchCloneIndexer:n,onConfirmDeleteIndexer:s,...o}=this.props,{isAddIndexerModalOpen:a,isEditIndexerModalOpen:r}=this.state,i=e.some((e=>25!==e.priority));return R.createElement(hN,{legend:te("Indexers")},R.createElement(sX,L5({errorMessage:te("UnableToLoadIndexers")},o),R.createElement("div",{className:"Indexers-indexers-CV9Qr"},e.map((e=>R.createElement(B5,L5({key:e.id},e,{tagList:t,showPriority:i,onCloneIndexerPress:this.onCloneIndexerPress,onConfirmDeleteIndexer:s})))),R.createElement(nX,{className:"Indexers-addIndexer-RmEIL Indexer-indexer-KNEbl Card-card-aoesq",onPress:this.onAddIndexerPress},R.createElement("div",{className:"Indexers-center-GKwQP"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(y5,{isOpen:a,onModalClose:this.onAddIndexerModalClose}),R.createElement(x5,{isOpen:r,onModalClose:this.onEditIndexerModalClose})))}}const _5=j5;function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z5.apply(null,arguments)}const U5={dispatchFetchIndexers:cC,dispatchDeleteIndexer:gC,dispatchCloneIndexer:mC};class H5 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteIndexer=e=>{this.props.dispatchDeleteIndexer({id:e})}}componentDidMount(){this.props.dispatchFetchIndexers()}render(){return R.createElement(_5,z5({},this.props,{onConfirmDeleteIndexer:this.onConfirmDeleteIndexer}))}}const V5=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.indexers",cr),GN(),((e,t)=>({...e,tagList:t})))}),U5)(H5),q5="noChange",Q5=[{key:q5,get value(){return te("NoChange")},isDisabled:!0},{key:"enabled",get value(){return te("Enabled")}},{key:"disabled",get value(){return te("Disabled")}}],W5=function(e){const{indexerIds:t,onSavePress:n,onModalClose:s}=e,[o,a]=(0,R.useState)(q5),[r,i]=(0,R.useState)(q5),[l,c]=(0,R.useState)(q5),[d,u]=(0,R.useState)(null),m=(0,R.useCallback)((()=>{let e=!1;const t={};o!==q5&&(e=!0,t.enableRss="enabled"===o),r!==q5&&(e=!0,t.enableAutomaticSearch="enabled"===r),l!==q5&&(e=!0,t.enableInteractiveSearch="enabled"===l),null!==d&&(e=!0,t.priority=d),e&&n(t),s()}),[o,r,l,d,n,s]),h=(0,R.useCallback)((({name:e,value:t})=>{switch(e){case"enableRss":a(t);break;case"enableAutomaticSearch":i(t);break;case"enableInteractiveSearch":c(t);break;case"priority":u(t);break;default:console.warn(`EditIndexersModalContent Unknown Input: '${e}'`)}}),[]),p=t.length;return R.createElement(_M,{onModalClose:s},R.createElement(QM,null,te("EditSelectedIndexers")),R.createElement(BM,null,R.createElement(AI,null,R.createElement(Mk,null,te("EnableRSS")),R.createElement(ED,{type:qs,name:"enableRss",value:o,values:Q5,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("EnableAutomaticSearch")),R.createElement(ED,{type:qs,name:"enableAutomaticSearch",value:r,values:Q5,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("EnableInteractiveSearch")),R.createElement(ED,{type:qs,name:"enableInteractiveSearch",value:l,values:Q5,onChange:h})),R.createElement(AI,null,R.createElement(Mk,null,te("Priority")),R.createElement(ED,{type:Fs,name:"priority",value:d,min:1,max:50,onChange:h}))),R.createElement(HM,{className:"ManageIndexersEditModalContent-modalFooter-vZ7Ni ModalFooter-modalFooter-wjkx5"},R.createElement("div",{className:"ManageIndexersEditModalContent-selected-AIOM2"},te("CountIndexersSelected",{selectedCount:p})),R.createElement("div",null,R.createElement(TM,{onPress:s},te("Cancel")),R.createElement(TM,{onPress:m},te("ApplyChanges")))))},G5=function(e){const{isOpen:t,indexerIds:n,onSavePress:s,onModalClose:o}=e;return R.createElement(JM,{isOpen:t,onModalClose:o},R.createElement(W5,{indexerIds:n,onSavePress:s,onModalClose:o}))},K5=function(e){const{id:t,isSelected:n,name:s,enableRss:o,enableAutomaticSearch:a,enableInteractiveSearch:r,priority:i,implementation:l,tags:c,onSelectedChange:d}=e,u=(0,R.useCallback)((e=>{d({...e})}),[d]);return R.createElement(pO,null,R.createElement(hk,{id:t,isSelected:n,onSelectedChange:u}),R.createElement(ak,{className:"ManageIndexersModalRow-name-hpa0l TableRowCell-cell-giPrj"},s),R.createElement(ak,{className:"ManageIndexersModalRow-implementation-DkTDw TableRowCell-cell-giPrj"},l),R.createElement(ak,{className:"ManageIndexersModalRow-enableRss-p0XNi TableRowCell-cell-giPrj"},R.createElement(YO,{kind:o?ao:eo,outline:!o},te(o?"Yes":"No"))),R.createElement(ak,{className:"ManageIndexersModalRow-enableAutomaticSearch-PZHf0 TableRowCell-cell-giPrj"},R.createElement(YO,{kind:a?ao:eo,outline:!a},te(a?"Yes":"No"))),R.createElement(ak,{className:"ManageIndexersModalRow-enableInteractiveSearch-iIJEt TableRowCell-cell-giPrj"},R.createElement(YO,{kind:r?ao:eo,outline:!r},te(r?"Yes":"No"))),R.createElement(ak,{className:"ManageIndexersModalRow-priority-PTS6N TableRowCell-cell-giPrj"},i),R.createElement(ak,{className:"ManageIndexersModalRow-tags-H3xmx TableRowCell-cell-giPrj"},R.createElement(oW,{tags:c})))},$5=function(e){const{ids:t,onModalClose:n,onApplyTagsPress:s}=e,o=(0,Wy.d4)((e=>e.settings.indexers)),a=(0,Wy.d4)(GN()),[r,i]=(0,R.useState)([]),[l,c]=(0,R.useState)("add"),d=(0,R.useMemo)((()=>{const e=t.reduce(((e,t)=>{const n=o.items.find((e=>e.id===t));return n&&e.push(...n.tags),e}),[]);return(0,z.uniq)(e)}),[t,o]),u=(0,R.useCallback)((({value:e})=>{i(e)}),[i]),m=(0,R.useCallback)((({value:e})=>{c(e)}),[c]),h=(0,R.useCallback)((()=>{s(r,l)}),[r,l,s]),p=[{key:"add",get value(){return te("Add")}},{key:"remove",get value(){return te("Remove")}},{key:"replace",get value(){return te("Replace")}}];return R.createElement(_M,{onModalClose:n},R.createElement(QM,null,te("Tags")),R.createElement(BM,null,R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,{type:Ws,name:"tags",value:r,onChange:u})),R.createElement(AI,null,R.createElement(Mk,null,te("ApplyTags")),R.createElement(ED,{type:qs,name:"applyTags",value:l,values:p,helpTexts:[te("ApplyTagsHelpTextHowToApplyIndexers"),te("ApplyTagsHelpTextAdd"),te("ApplyTagsHelpTextRemove"),te("ApplyTagsHelpTextReplace")],onChange:m})),R.createElement(AI,null,R.createElement(Mk,null,te("Result")),R.createElement("div",{className:"TagsModalContent-result-HDHRf"},d.map((e=>{const t=a.find((t=>t.id===e));if(!t)return null;const n="remove"===l&&r.indexOf(e)>-1||"replace"===l&&-1===r.indexOf(e);return R.createElement(YO,{key:t.id,title:te(n?"RemovingTag":"ExistingTag"),kind:n?no:to,size:Eo},t.label)})),("add"===l||"replace"===l)&&r.map((e=>{const t=a.find((t=>t.id===e));return t?d.indexOf(e)>-1?null:R.createElement(YO,{key:t.id,title:te("AddingTag"),kind:ao,size:Eo},t.label):null})))))),R.createElement(HM,null,R.createElement(TM,{onPress:n},te("Cancel")),R.createElement(TM,{kind:so,onPress:h},te("Apply"))))};function Y5(){return Y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y5.apply(null,arguments)}const J5=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement($5,Y5({},s,{onModalClose:n})))};function X5(){return X5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X5.apply(null,arguments)}const Z5=[{name:"name",label:()=>te("Name"),isSortable:!0,isVisible:!0},{name:"implementation",label:()=>te("Implementation"),isSortable:!0,isVisible:!0},{name:"enableRss",label:()=>te("EnableRSS"),isSortable:!0,isVisible:!0},{name:"enableAutomaticSearch",label:()=>te("EnableAutomaticSearch"),isSortable:!0,isVisible:!0},{name:"enableInteractiveSearch",label:()=>te("EnableInteractiveSearch"),isSortable:!0,isVisible:!0},{name:"priority",label:()=>te("Priority"),isSortable:!0,isVisible:!0},{name:"tags",label:()=>te("Tags"),isSortable:!0,isVisible:!0}],e4=function(e){const{onModalClose:t}=e,{isFetching:n,isPopulated:s,isDeleting:o,isSaving:a,error:r,items:i,sortKey:l,sortDirection:c}=(0,Wy.d4)($R("settings.indexers")),d=(0,Wy.wA)(),[u,m]=(0,R.useState)(!1),[h,p]=(0,R.useState)(!1),[g,E]=(0,R.useState)(!1),[f,C]=(0,R.useState)(!1),[v,S]=P0(),{allSelected:b,allUnselected:P,selectedState:y}=v,M=(0,R.useMemo)((()=>gO(y)),[y]),I=M.length,k=(0,R.useCallback)((e=>{d(bC({sortKey:e}))}),[d]),O=(0,R.useCallback)((()=>{m(!0)}),[m]),w=(0,R.useCallback)((()=>{m(!1)}),[m]),T=(0,R.useCallback)((()=>{p(!0)}),[p]),N=(0,R.useCallback)((()=>{p(!1)}),[p]),D=(0,R.useCallback)((()=>{d(SC({ids:M})),m(!1)}),[M,d]),A=(0,R.useCallback)((e=>{p(!1),d(vC({ids:M,...e}))}),[M,d]),F=(0,R.useCallback)((()=>{E(!0)}),[E]),x=(0,R.useCallback)((()=>{E(!1)}),[E]),B=(0,R.useCallback)(((e,t)=>{C(!0),E(!1),d(vC({ids:M,tags:e,applyTags:t}))}),[M,d]),L=(0,R.useCallback)((({value:e})=>{S({type:e?"selectAll":"unselectAll",items:i})}),[i,S]),j=(0,R.useCallback)((({id:e,value:t,shiftKey:n=!1})=>{S({type:"toggleSelected",items:i,id:e,isSelected:t,shiftKey:n})}),[i,S]),_=Jy(r,"Unable to load indexers."),z=I>0;return R.createElement(_M,{onModalClose:t},R.createElement(QM,null,te("ManageIndexers")),R.createElement(BM,null,n?R.createElement(tM,null):null,r?R.createElement("div",null,_):null,s&&!r&&!i.length&&R.createElement(OI,{kind:to},te("NoIndexersFound")),s&&i.length&&!n&&!n?R.createElement(cO,{columns:Z5,horizontalScroll:!0,selectAll:!0,allSelected:b,allUnselected:P,onSelectAllChange:L,sortKey:l,sortDirection:c,onSortPress:k},R.createElement(uO,null,i.map((e=>R.createElement(K5,X5({key:e.id,isSelected:y[e.id]},e,{columns:Z5,onSelectedChange:j})))))):null),R.createElement(HM,null,R.createElement("div",{className:"ManageIndexersModalContent-leftButtons-zb78b"},R.createElement(AO,{kind:Xs,isSpinning:o,isDisabled:!z,onPress:O},te("Delete")),R.createElement(AO,{isSpinning:a,isDisabled:!z,onPress:T},te("Edit")),R.createElement(AO,{isSpinning:a&&f,isDisabled:!z,onPress:F},te("SetTags"))),R.createElement(TM,{onPress:t},te("Close"))),R.createElement(G5,{isOpen:h,onModalClose:N,onSavePress:A,indexerIds:M}),R.createElement(J5,{isOpen:g,ids:M,onApplyTagsPress:B,onModalClose:x}),R.createElement(wD,{isOpen:u,kind:Xs,title:te("DeleteSelectedIndexers"),message:te("DeleteSelectedIndexersMessageText",{count:M.length}),confirmLabel:te("Delete"),onConfirm:D,onCancel:w}))},t4=function(e){const{isOpen:t,onModalClose:n}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(e4,{onModalClose:n}))};function n4(){return n4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n4.apply(null,arguments)}const s4=function(e){const{advancedSettings:t,isFetching:n,error:s,settings:o,hasSettings:a,onInputChange:r}=e;return R.createElement(hN,{legend:te("Options")},n&&R.createElement(tM,null),!n&&s&&R.createElement(OI,{kind:Xs},te("UnableToLoadIndexerOptions")),a&&!n&&!s&&R.createElement(Sk,null,R.createElement(AI,null,R.createElement(Mk,null,te("MinimumAge")),R.createElement(ED,n4({type:Fs,name:"minimumAge",min:0,unit:"minutes",helpText:te("MinimumAgeHelpText"),onChange:r},o.minimumAge))),R.createElement(AI,null,R.createElement(Mk,null,te("MaximumSize")),R.createElement(ED,n4({type:Fs,name:"maximumSize",min:0,unit:"MB",helpText:te("MaximumSizeHelpText"),onChange:r},o.maximumSize))),R.createElement(AI,null,R.createElement(Mk,null,te("Retention")),R.createElement(ED,n4({type:Fs,name:"retention",min:0,unit:"days",helpText:te("RetentionHelpText"),onChange:r},o.retention))),R.createElement(AI,{advancedSettings:t,isAdvanced:!0},R.createElement(Mk,null,te("RSSSyncInterval")),R.createElement(ED,n4({type:Fs,name:"rssSyncInterval",min:0,unit:"minutes",helpText:te("RssSyncIntervalHelpText"),helpTextWarning:te("ThisWillApplyToAllIndexersPleaseFollowTheRulesSetForthByThem"),helpLink:"https://wiki.servarr.com/readarr/faq#how-does-readarr-work",onChange:r},o.rssSyncInterval)))))};function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o4.apply(null,arguments)}const a4={dispatchFetchIndexerOptions:Vf,dispatchSetIndexerOptionsValue:Qf,dispatchSaveIndexerOptions:qf,dispatchClearPendingChanges:he};class r4 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetIndexerOptionsValue({name:e,value:t})}}componentDidMount(){const{dispatchFetchIndexerOptions:e,dispatchSaveIndexerOptions:t,onChildMounted:n}=this.props;e(),n(t)}componentDidUpdate(e){const{hasPendingChanges:t,isSaving:n,onChildStateChange:s}=this.props;e.isSaving===n&&e.hasPendingChanges===t||s({isSaving:n,hasPendingChanges:t})}componentWillUnmount(){this.props.dispatchClearPendingChanges({section:"settings.indexerOptions"})}render(){return R.createElement(s4,o4({onInputChange:this.onInputChange},this.props))}}const i4=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI("indexerOptions"),((e,t)=>({advancedSettings:e,...t})))}),a4)(r4);class l4 extends R.Component{constructor(e,t){super(e,t),this.onChildMounted=e=>{this._saveCallback=e},this.onChildStateChange=e=>{this.setState(e)},this.onManageIndexersPress=()=>{this.setState({isManageIndexersOpen:!0})},this.onManageIndexersModalClose=()=>{this.setState({isManageIndexersOpen:!1})},this.onSavePress=()=>{this._saveCallback&&this._saveCallback()},this._saveCallback=null,this.state={isSaving:!1,hasPendingChanges:!1,isManageIndexersOpen:!1}}render(){const{isTestingAll:e,dispatchTestAllIndexers:t}=this.props,{isSaving:n,hasPendingChanges:s,isManageIndexersOpen:o}=this.state;return R.createElement(FF,{title:te("IndexerSettings")},R.createElement(jY,{isSaving:n,hasPendingChanges:s,additionalButtons:R.createElement(R.Fragment,null,R.createElement(SR,null),R.createElement(jF,{label:te("TestAllIndexers"),iconName:Cs,isSpinning:e,onPress:t}),R.createElement(jF,{label:te("ManageIndexers"),iconName:Nn,onPress:this.onManageIndexersPress})),onSavePress:this.onSavePress}),R.createElement(TF,null,R.createElement(V5,null),R.createElement(i4,{onChildMounted:this.onChildMounted,onChildStateChange:this.onChildStateChange}),R.createElement(t4,{isOpen:o,onModalClose:this.onManageIndexersModalClose})))}}const c4=l4,d4={dispatchTestAllIndexers:CC},u4=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.indexers.isTestingAll),(e=>({isTestingAll:e})))}),d4)(c4),m4={option:"NamingOption-option-OKNvA",token:"NamingOption-token-of4IX",example:"NamingOption-example-kZLgU",small:"NamingOption-small-vYnmm",large:"NamingOption-large-p2cXH",footNote:"NamingOption-footNote-e0JBJ",lower:"NamingOption-lower-HoDkb",upper:"NamingOption-upper-pA7T0",isFullFilename:"NamingOption-isFullFilename-uqt7V"};class h4 extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{token:e,tokenSeparator:t,tokenCase:n,isFullFilename:s,onPress:o}=this.props;let a=e;a=a.replace(/ /g,t),"lower"===n?a=e.toLowerCase():"upper"===n&&(a=e.toUpperCase()),o({isFullFilename:s,tokenValue:a})}}render(){const{token:e,tokenSeparator:t,example:n,tokenCase:s,isFullFilename:o,size:a}=this.props;return R.createElement(IM,{className:Fo()(m4.option,m4[a],m4[s],o&&m4.isFullFilename),onPress:this.onPress},R.createElement("div",{className:m4.token},e.replace(/ /g,t)),R.createElement("div",{className:m4.example},n.replace(/ /g,t)))}}h4.defaultProps={size:po,isFullFilename:!1};const p4=h4,g4="NamingModal-groups-DrUz_",E4="NamingModal-namingSelect-p7fJH SelectInput-select-M6gsU Input-input-KWeec",f4=[{key:" ",value:"Space ( )"},{key:".",value:"Period (.)"},{key:"_",value:"Underscore (_)"},{key:"-",value:"Dash (-)"}],C4=[{key:"title",value:"Default Case"},{key:"lower",value:"Lowercase"},{key:"upper",value:"Uppercase"}],v4=[{token:"{Author Name} - {Book Title} - {Quality Full}",example:"Author Name - Book Title - MP3 Proper"},{token:"{Author.Name}.{Book.Title}.{Quality.Full}",example:"Author.Name.Book.Title.MP3"},{token:"{Author Name} - {Book Title}{ (PartNumber)}",example:"Author Name - Book Title (2)"},{token:"{Author Name} - {Book Title}{ (PartNumber/PartCount)}",example:"Author Name - Book Title (2/10)"}],S4=[{token:"{Author Name}",example:"Author's Name"},{token:"{Author NameThe}",example:"Author's Name, The"},{token:"{Author NameFirstCharacter}",example:"A"},{token:"{Author CleanName}",example:"Authors Name"},{token:"{Author SortName}",example:"Name, Author"},{token:"{Author Disambiguation}",example:"Disambiguation"}],b4=[{token:"{Book Title}",example:"The Book's Title!: Subtitle!"},{token:"{Book TitleThe}",example:"Book's Title!, The: Subtitle!"},{token:"{Book CleanTitle}",example:"The Books Title!: Subtitle"},{token:"{Book TitleNoSub}",example:"The Book's Title!"},{token:"{Book TitleTheNoSub}",example:"Book's Title!, The"},{token:"{Book CleanTitleNoSub}",example:"The Books Title!"},{token:"{Book Subtitle}",example:"Subtitle!"},{token:"{Book SubtitleThe}",example:"Subtitle!, The"},{token:"{Book CleanSubtitle}",example:"Subtitle"},{token:"{Book Disambiguation}",example:"Disambiguation"},{token:"{Book Series}",example:"Series Title"},{token:"{Book SeriesPosition}",example:"1"},{token:"{Book SeriesTitle}",example:"Series Title #1"},{token:"{PartNumber:0}",example:"2"},{token:"{PartNumber:00}",example:"02"},{token:"{PartCount:0}",example:"9"},{token:"{PartCount:00}",example:"09"}],P4=[{token:"{Release Year}",example:"2016"},{token:"{Release YearFirst}",example:"2015"},{token:"{Edition Year}",example:"2016"}],y4=[{token:"{Quality Full}",example:"AZW3 Proper"},{token:"{Quality Title}",example:"AZW3"}],M4=[{token:"{MediaInfo AudioCodec}",example:"MP3"},{token:"{MediaInfo AudioChannels}",example:"2.0"},{token:"{MediaInfo AudioBitRate}",example:"320kbps"},{token:"{MediaInfo AudioBitsPerSample}",example:"24bit"},{token:"{MediaInfo AudioSampleRate}",example:"44.1kHz"}],I4=[{token:"{Release Group}",example:"Rls Grp"},{token:"{Custom Formats}",example:"iNTERNAL"}],k4=[{token:"{Original Title}",example:"Author.Name.Book.Name.2018.AZW3-EVOLVE"},{token:"{Original Filename}",example:"01 - book name"}];class O4 extends R.Component{constructor(e,t){super(e,t),this.onTokenSeparatorChange=e=>{this.setState({separator:e.value})},this.onTokenCaseChange=e=>{this.setState({case:e.value})},this.onInputSelectionChange=(e,t)=>{this._selectionStart=e,this._selectionEnd=t},this.onOptionPress=({isFullFilename:e,tokenValue:t})=>{const{name:n,value:s,onInputChange:o}=this.props,a=this._selectionStart,r=this._selectionEnd;if(e)o({name:n,value:t});else if(null==a)o({name:n,value:`${s}${t}`});else{const e=`${s.substring(0,a)}${t}${s.substring(r)}`;o({name:n,value:e}),this._selectionStart=e.length-1,this._selectionEnd=e.length-1}},this._selectionStart=null,this._selectionEnd=null,this.state={separator:" ",case:"title"}}render(){const{name:e,value:t,isOpen:n,advancedSettings:s,book:o,additional:a,onInputChange:r,onModalClose:i}=this.props,{separator:l,case:c}=this.state;return R.createElement(JM,{isOpen:n,onModalClose:i},R.createElement(_M,{onModalClose:i},R.createElement(QM,null,"File Name Tokens"),R.createElement(BM,null,R.createElement("div",{className:"NamingModal-namingSelectContainer-OFvkv"},R.createElement(ZI,{className:E4,name:"separator",value:l,values:f4,onChange:this.onTokenSeparatorChange}),R.createElement(ZI,{className:E4,name:"case",value:c,values:C4,onChange:this.onTokenCaseChange})),!s&&R.createElement(hN,{legend:te("FileNames")},R.createElement("div",{className:g4},v4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,isFullFilename:!0,tokenSeparator:l,tokenCase:c,size:Eo,onPress:this.onOptionPress}))))),R.createElement(hN,{legend:te("Author")},R.createElement("div",{className:g4},S4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress}))))),o&&R.createElement("div",null,R.createElement(hN,{legend:te("Book")},R.createElement("div",{className:g4},b4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress}))))),R.createElement(hN,{legend:te("ReleaseDate")},R.createElement("div",{className:g4},P4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress})))))),a&&R.createElement("div",null,R.createElement(hN,{legend:te("Quality")},R.createElement("div",{className:g4},y4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress}))))),R.createElement(hN,{legend:te("MediaInfo")},R.createElement("div",{className:g4},M4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress}))))),R.createElement(hN,{legend:te("Other")},R.createElement("div",{className:g4},I4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,onPress:this.onOptionPress}))))),R.createElement(hN,{legend:te("Original")},R.createElement("div",{className:g4},k4.map((({token:n,example:s})=>R.createElement(p4,{key:n,name:e,value:t,token:n,example:s,tokenSeparator:l,tokenCase:c,size:Eo,onPress:this.onOptionPress}))))))),R.createElement(HM,null,R.createElement(jO,{name:e,value:t,onChange:r,onSelectionChange:this.onInputSelectionChange}),R.createElement(TM,{onPress:i},"Close"))))}}O4.defaultProps={book:!1,additional:!1};const w4=O4,T4="Naming-namingInput-k33Yg TextInput-input-svfXu Input-input-KWeec";function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N4.apply(null,arguments)}class D4 extends R.Component{constructor(e,t){super(e,t),this.onStandardNamingModalOpenClick=()=>{this.setState({isNamingModalOpen:!0,namingModalOptions:{name:"standardBookFormat",book:!0,additional:!0}})},this.onAuthorFolderNamingModalOpenClick=()=>{this.setState({isNamingModalOpen:!0,namingModalOptions:{name:"authorFolderFormat"}})},this.onNamingModalClose=()=>{this.setState({isNamingModalOpen:!1})},this.state={isNamingModalOpen:!1,namingModalOptions:null}}render(){const{advancedSettings:e,isFetching:t,error:n,settings:s,hasSettings:o,examples:a,examplesPopulated:r,onInputChange:i}=this.props,{isNamingModalOpen:l,namingModalOptions:c}=this.state,d=o&&s.renameBooks.value,u=o&&s.replaceIllegalCharacters.value,m=[{key:0,value:te("Delete")},{key:1,value:te("ReplaceWithDash")},{key:2,value:te("ReplaceWithSpaceDash")},{key:3,value:te("ReplaceWithSpaceDashSpace")},{key:4,value:te("SmartReplace"),hint:te("DashOrSpaceDashDependingOnName")}],h=[],p=[],g=[],E=[];return r&&(a.singleBookExample?h.push(`Single Book: ${a.singleBookExample}`):p.push({message:"Single Book: Invalid Format"}),a.multiPartBookExample?h.push(`Multi-part Book: ${a.multiPartBookExample}`):p.push({message:"Multi-part Book: Invalid Format"}),a.authorFolderExample?g.push(`Example: ${a.authorFolderExample}`):E.push({message:"Invalid Format"})),R.createElement(hN,{legend:te("BookNaming")},t&&R.createElement(tM,null),!t&&n&&R.createElement(OI,{kind:Xs},te("UnableToLoadNamingSettings")),o&&!t&&!n&&R.createElement(Sk,null,R.createElement(AI,{size:go},R.createElement(Mk,null,te("RenameBooks")),R.createElement(ED,N4({type:ws,name:"renameBooks",helpText:te("RenameBooksHelpText"),onChange:i},s.renameBooks))),R.createElement(AI,{size:go},R.createElement(Mk,null,te("ReplaceIllegalCharacters")),R.createElement(ED,N4({type:ws,name:"replaceIllegalCharacters",helpText:te("ReplaceIllegalCharactersHelpText"),onChange:i},s.replaceIllegalCharacters))),u?R.createElement(AI,null,R.createElement(Mk,null,te("ColonReplacement")),R.createElement(ED,N4({type:qs,name:"colonReplacementFormat",values:m,onChange:i},s.colonReplacementFormat))):null,d&&R.createElement("div",null,R.createElement(AI,{size:Eo},R.createElement(Mk,null,te("StandardBookFormat")),R.createElement(ED,N4({inputClassName:T4,type:Gs,name:"standardBookFormat",buttons:R.createElement(BO,{onPress:this.onStandardNamingModalOpenClick},"?"),onChange:i},s.standardBookFormat,{helpTexts:h,errors:[...p,...s.standardBookFormat.errors]})))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("AuthorFolderFormat")),R.createElement(ED,N4({inputClassName:T4,type:Gs,name:"authorFolderFormat",buttons:R.createElement(BO,{onPress:this.onAuthorFolderNamingModalOpenClick},"?"),onChange:i},s.authorFolderFormat,{helpTexts:["Used when adding a new author or moving an author via the author editor",...g],errors:[...E,...s.authorFolderFormat.errors]}))),c&&R.createElement(w4,N4({isOpen:l,advancedSettings:e},c,{value:s[c.name].value,onInputChange:i,onModalClose:this.onNamingModalClose}))))}}const A4=D4;function F4(){return F4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},F4.apply(null,arguments)}const x4={fetchNamingSettings:Cv,setNamingSettingsValue:Sv,fetchNamingExamples:Mv,clearPendingChanges:he};class R4 extends R.Component{constructor(e,t){super(e,t),this._fetchNamingExamples=()=>{this.props.fetchNamingExamples()},this.onInputChange=({name:e,value:t})=>{this.props.setNamingSettingsValue({name:e,value:t}),this._namingExampleTimeout&&clearTimeout(this._namingExampleTimeout),this._namingExampleTimeout=setTimeout(this._fetchNamingExamples,1e3)},this._namingExampleTimeout=null}componentDidMount(){this.props.fetchNamingSettings(),this.props.fetchNamingExamples()}componentWillUnmount(){this.props.clearPendingChanges({section:"settings.naming"})}render(){return R.createElement(A4,F4({onInputChange:this.onInputChange,onSavePress:this.onSavePress},this.props))}}const B4=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),(e=>e.settings.namingExamples),yI("naming"),((e,t,n)=>({advancedSettings:e,examples:t.item,examplesPopulated:t.isPopulated,...n})))}),x4)(R4);class L4 extends R.Component{constructor(e,t){super(e,t),this.onEditRootFolderPress=()=>{this.setState({isEditRootFolderModalOpen:!0})},this.onEditRootFolderModalClose=()=>{this.setState({isEditRootFolderModalOpen:!1})},this.onDeleteRootFolderPress=()=>{this.setState({isEditRootFolderModalOpen:!1,isDeleteRootFolderModalOpen:!0})},this.onDeleteRootFolderModalClose=()=>{this.setState({isDeleteRootFolderModalOpen:!1})},this.onConfirmDeleteRootFolder=()=>{this.props.onConfirmDeleteRootFolder(this.props.id)},this.state={isEditRootFolderModalOpen:!1,isDeleteRootFolderModalOpen:!1}}render(){const{id:e,name:t,path:n,qualityProfile:s,metadataProfile:o}=this.props;return R.createElement(nX,{className:"RootFolder-rootFolder-PUXsU Card-card-aoesq",overlayContent:!0,onPress:this.onEditRootFolderPress},R.createElement("div",{className:"RootFolder-name-fzLfD"},t),R.createElement("div",{className:"RootFolder-enabled-scP2b"},R.createElement(YO,{kind:ao},n),R.createElement(YO,{kind:null!=s&&s.name?ao:Xs},(null==s?void 0:s.name)||te("None")),R.createElement(YO,{kind:null!=o&&o.name?ao:Xs},(null==o?void 0:o.name)||te("None"))),R.createElement(DN,{id:e,isOpen:this.state.isEditRootFolderModalOpen,onModalClose:this.onEditRootFolderModalClose,onDeleteRootFolderPress:this.onDeleteRootFolderPress}),R.createElement(wD,{isOpen:this.state.isDeleteRootFolderModalOpen,kind:Xs,title:te("DeleteRootFolder"),message:te("DeleteRootFolderMessageText",{name:t}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteRootFolder,onCancel:this.onDeleteRootFolderModalClose}))}}const j4=L4;function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_4.apply(null,arguments)}class z4 extends R.Component{constructor(e,t){super(e,t),this.onAddRootFolderPress=()=>{this.setState({isAddRootFolderModalOpen:!0})},this.onAddRootFolderModalClose=()=>{this.setState({isAddRootFolderModalOpen:!1})},this.state={isAddRootFolderModalOpen:!1}}render(){const{items:e,qualityProfiles:t,metadataProfiles:n,onConfirmDeleteRootFolder:s,...o}=this.props;return R.createElement(hN,{legend:te("RootFolders")},R.createElement(sX,_4({errorMessage:te("UnableToLoadRootFolders")},o),R.createElement("div",{className:"RootFolders-rootFolders-wf52r"},e.sort(cr).map((e=>{const o=t.find((t=>t.id===e.defaultQualityProfileId)),a=n.find((t=>t.id===e.defaultMetadataProfileId));return R.createElement(j4,_4({key:e.id},e,{qualityProfile:o,metadataProfile:a,onConfirmDeleteRootFolder:s}))})),R.createElement(nX,{className:"RootFolders-addRootFolder-w3dZL RootFolder-rootFolder-PUXsU Card-card-aoesq",onPress:this.onAddRootFolderPress},R.createElement("div",{className:"RootFolders-center-ykeg7"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(DN,{isOpen:this.state.isAddRootFolderModalOpen,onModalClose:this.onAddRootFolderModalClose})))}}const U4=z4;function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H4.apply(null,arguments)}const V4={dispatchFetchRootFolders:HS,dispatchDeleteRootFolder:QS};class q4 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteRootFolder=e=>{this.props.dispatchDeleteRootFolder({id:e})}}componentDidMount(){this.props.dispatchFetchRootFolders()}render(){return R.createElement(U4,H4({},this.props,{onConfirmDeleteRootFolder:this.onConfirmDeleteRootFolder}))}}const Q4=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.rootFolders),(e=>e.settings.qualityProfiles),(e=>e.settings.metadataProfiles),((e,t,n)=>({qualityProfiles:t.items,metadataProfiles:n.items,...e})))}),V4)(q4);function W4(){return W4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},W4.apply(null,arguments)}const G4=[{key:"always",value:"Always"},{key:"afterManual",value:"After Manual Refresh"},{key:"never",value:"Never"}],K4=[{key:"allFiles",value:"Always"},{key:"newFiles",value:"For new imports only"},{key:"never",value:"Never"}],$4=[{key:"preferAndUpgrade",value:"Prefer and Upgrade"},{key:"doNotUpgrade",value:"Do not Upgrade Automatically"},{key:"doNotPrefer",value:"Do not Prefer"}],Y4=[{key:"none",value:"None"},{key:"bookReleaseDate",value:"Book Release Date"}];class J4 extends R.Component{render(){const{advancedSettings:e,isFetching:t,error:n,settings:s,hasSettings:o,isWindows:a,onInputChange:r,onSavePress:i,...l}=this.props;return R.createElement(FF,{title:te("MediaManagementSettings")},R.createElement(jY,W4({advancedSettings:e},l,{onSavePress:i})),R.createElement(TF,null,R.createElement(Q4,null),R.createElement(m1,null),R.createElement(B4,null),t&&R.createElement(hN,{legend:te("NamingSettings")},R.createElement(tM,null)),!t&&n&&R.createElement(hN,{legend:te("NamingSettings")},R.createElement(OI,{kind:Xs},te("UnableToLoadMediaManagementSettings"))),o&&!t&&!n&&R.createElement(Sk,W4({id:"mediaManagementSettings"},l),e&&R.createElement(hN,{legend:te("Folders")},R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("CreateEmptyAuthorFolders")),R.createElement(ED,W4({type:ws,name:"createEmptyAuthorFolders",helpText:te("CreateEmptyAuthorFoldersHelpText"),onChange:r},s.createEmptyAuthorFolders))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("DeleteEmptyFolders")),R.createElement(ED,W4({type:ws,name:"deleteEmptyFolders",helpText:te("DeleteEmptyFoldersHelpText"),onChange:r},s.deleteEmptyFolders)))),e&&R.createElement(hN,{legend:te("Importing")},!a&&R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("SkipFreeSpaceCheck")),R.createElement(ED,W4({type:ws,name:"skipFreeSpaceCheckWhenImporting",helpText:te("SkipFreeSpaceCheckWhenImportingHelpText"),onChange:r},s.skipFreeSpaceCheckWhenImporting))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("MinimumFreeSpace")),R.createElement(ED,W4({type:Fs,unit:"MB",name:"minimumFreeSpaceWhenImporting",helpText:te("MinimumFreeSpaceWhenImportingHelpText"),onChange:r},s.minimumFreeSpaceWhenImporting))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("UseHardlinksInsteadOfCopy")),R.createElement(ED,W4({type:ws,name:"copyUsingHardlinks",helpText:te("CopyUsingHardlinksHelpText"),helpTextWarning:te("CopyUsingHardlinksHelpTextWarning"),onChange:r},s.copyUsingHardlinks))),R.createElement(AI,{size:go},R.createElement(Mk,null,te("ImportExtraFiles")),R.createElement(ED,W4({type:ws,name:"importExtraFiles",helpText:te("ImportExtraFilesHelpText"),onChange:r},s.importExtraFiles))),s.importExtraFiles.value?R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("ImportExtraFiles")),R.createElement(ED,W4({type:Gs,name:"extraFileExtensions",helpTexts:[te("ExtraFileExtensionsHelpText"),te("ExtraFileExtensionsHelpTextsExamples")],onChange:r},s.extraFileExtensions))):null),R.createElement(hN,{legend:te("FileManagement")},R.createElement(AI,{size:go},R.createElement(Mk,null,te("IgnoreDeletedBooks")),R.createElement(ED,W4({type:ws,name:"autoUnmonitorPreviouslyDownloadedBooks",helpText:te("AutoUnmonitorPreviouslyDownloadedBooksHelpText"),onChange:r},s.autoUnmonitorPreviouslyDownloadedBooks))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("PropersAndRepacks")),R.createElement(ED,W4({type:qs,name:"downloadPropersAndRepacks",helpTexts:[te("DownloadPropersAndRepacksHelpTexts1"),te("DownloadPropersAndRepacksHelpTexts2")],helpTextWarning:"doNotPrefer"===s.downloadPropersAndRepacks.value?"Use custom formats for automatic upgrades to propers/repacks":void 0,values:$4,onChange:r},s.downloadPropersAndRepacks))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("WatchRootFoldersForFileChanges")),R.createElement(ED,W4({type:ws,name:"watchLibraryForChanges",helpText:te("WatchLibraryForChangesHelpText"),onChange:r},s.watchLibraryForChanges))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("RescanAuthorFolderAfterRefresh")),R.createElement(ED,W4({type:qs,name:"rescanAfterRefresh",helpText:te("RescanAfterRefreshHelpText"),helpTextWarning:te("RescanAfterRefreshHelpTextWarning"),values:G4,onChange:r},s.rescanAfterRefresh))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("AllowFingerprinting")),R.createElement(ED,W4({type:qs,name:"allowFingerprinting",helpText:te("AllowFingerprintingHelpText"),helpTextWarning:te("AllowFingerprintingHelpTextWarning"),values:K4,onChange:r},s.allowFingerprinting))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("ChangeFileDate")),R.createElement(ED,W4({type:qs,name:"fileDate",helpText:te("FileDateHelpText"),values:Y4,onChange:r},s.fileDate))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("RecyclingBin")),R.createElement(ED,W4({type:Bs,name:"recycleBin",helpText:te("RecycleBinHelpText"),onChange:r},s.recycleBin))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("RecyclingBinCleanup")),R.createElement(ED,W4({type:Fs,name:"recycleBinCleanupDays",helpText:te("RecycleBinCleanupDaysHelpText"),helpTextWarning:te("RecycleBinCleanupDaysHelpTextWarning"),min:0,onChange:r},s.recycleBinCleanupDays)))),e&&!a&&R.createElement(hN,{legend:te("Permissions")},R.createElement(AI,{advancedSettings:e,isAdvanced:!0,size:go},R.createElement(Mk,null,te("SetPermissions")),R.createElement(ED,W4({type:ws,name:"setPermissionsLinux",helpText:te("SetPermissionsLinuxHelpText"),helpTextWarning:te("SetPermissionsLinuxHelpTextWarning"),onChange:r},s.setPermissionsLinux))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("ChmodFolder")),R.createElement(ED,W4({type:Js,name:"chmodFolder",helpText:te("ChmodFolderHelpText"),helpTextWarning:te("ChmodFolderHelpTextWarning"),onChange:r},s.chmodFolder))),R.createElement(AI,{advancedSettings:e,isAdvanced:!0},R.createElement(Mk,null,te("ChownGroup")),R.createElement(ED,W4({type:Gs,name:"chownGroup",helpText:te("ChownGroupHelpText"),helpTextWarning:te("ChownGroupHelpTextWarning"),values:Y4,onChange:r},s.chownGroup)))))))}}const X4=J4;function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z4.apply(null,arguments)}const e3="mediaManagement",t3={fetchMediaManagementSettings:AC,setMediaManagementSettingsValue:xC,saveMediaManagementSettings:FC,saveNamingSettings:vv,clearPendingChanges:he};class n3 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setMediaManagementSettingsValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveMediaManagementSettings(),this.props.saveNamingSettings()}}componentDidMount(){this.props.fetchMediaManagementSettings()}componentWillUnmount(){this.props.clearPendingChanges({section:`settings.${e3}`})}render(){return R.createElement(X4,Z4({onInputChange:this.onInputChange,onSavePress:this.onSavePress},this.props))}}const s3=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),(e=>e.settings.naming),yI(e3),Yy(),((e,t,n,s)=>({advancedSettings:e,...n,hasPendingChanges:!U().isEmpty(t.pendingChanges)||n.hasPendingChanges,isWindows:s.isWindows})))}),t3)(n3);function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o3.apply(null,arguments)}const a3=[{key:"no",get value(){return te("WriteTagsNo")}},{key:"sync",get value(){return te("WriteTagsSync")}},{key:"allFiles",get value(){return te("WriteTagsAll")}},{key:"newFiles",get value(){return te("WriteTagsNew")}}],r3=[{key:"sync",get value(){return te("WriteTagsSync")}},{key:"allFiles",get value(){return te("WriteTagsAll")}},{key:"newFiles",get value(){return te("WriteTagsNew")}}],i3=function(e){const{isFetching:t,error:n,settings:s,hasSettings:o,onInputChange:a}=e;return R.createElement("div",null,t&&R.createElement(tM,null),!t&&n&&R.createElement(OI,{kind:Xs},te("UnableToLoadMetadataProviderSettings")),o&&!t&&!n&&R.createElement(Sk,null,R.createElement(hN,{legend:te("CalibreMetadata")},R.createElement(AI,null,R.createElement(Mk,null,te("SendMetadataToCalibre")),R.createElement(ED,o3({type:qs,name:"writeBookTags",helpTextWarning:te("WriteBookTagsHelpTextWarning"),helpLink:"https://wiki.servarr.com/readarr/settings#write-metadata-to-book-files",values:r3,onChange:a},s.writeBookTags))),R.createElement(AI,null,R.createElement(Mk,null,te("UpdateCovers")),R.createElement(ED,o3({type:ws,name:"updateCovers",helpText:te("UpdateCoversHelpText"),onChange:a},s.updateCovers))),R.createElement(AI,null,R.createElement(Mk,null,te("EmbedMetadataInBookFiles")),R.createElement(ED,o3({type:ws,name:"embedMetadata",helpText:te("EmbedMetadataHelpText"),onChange:a},s.embedMetadata)))),R.createElement(hN,{legend:te("AudioFileMetadata")},R.createElement(AI,null,R.createElement(Mk,null,te("WriteAudioTags")),R.createElement(ED,o3({type:qs,name:"writeAudioTags",helpTextWarning:te("WriteBookTagsHelpTextWarning"),helpLink:"https://wiki.servarr.com/readarr/settings#write-metadata-to-audio-files",values:a3,onChange:a},s.writeAudioTags))),R.createElement(AI,null,R.createElement(Mk,null,te("WriteAudioTagsScrub")),R.createElement(ED,o3({type:ws,name:"scrubAudioTags",helpTextWarning:te("WriteAudioTagsScrubHelp"),onChange:a},s.scrubAudioTags))))))};function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l3.apply(null,arguments)}const c3={dispatchFetchMetadataProvider:dv,dispatchSetMetadataProviderValue:mv,dispatchSaveMetadataProvider:uv,dispatchClearPendingChanges:he};class d3 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.dispatchSetMetadataProviderValue({name:e,value:t})}}componentDidMount(){const{dispatchFetchMetadataProvider:e,dispatchSaveMetadataProvider:t,onChildMounted:n}=this.props;e(),n(t)}componentDidUpdate(e){const{hasPendingChanges:t,isSaving:n,onChildStateChange:s}=this.props;e.isSaving===n&&e.hasPendingChanges===t||s({isSaving:n,hasPendingChanges:t})}componentWillUnmount(){this.props.dispatchClearPendingChanges({section:"settings.metadataProvider"})}render(){return R.createElement(i3,l3({onInputChange:this.onInputChange},this.props))}}const u3=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI("metadataProvider"),((e,t)=>({advancedSettings:e,...t})))}),c3)(d3);class m3 extends R.Component{constructor(e,t){super(e,t),this.onChildMounted=e=>{this._saveCallback=e},this.onChildStateChange=e=>{this.setState(e)},this.onSavePress=()=>{this._saveCallback&&this._saveCallback()},this._saveCallback=null,this.state={isSaving:!1,hasPendingChanges:!1}}render(){const{isSaving:e,hasPendingChanges:t}=this.state;return R.createElement(FF,{title:te("MetadataSettings")},R.createElement(jY,{isSaving:e,hasPendingChanges:t,onSavePress:this.onSavePress}),R.createElement(TF,null,R.createElement(u3,{onChildMounted:this.onChildMounted,onChildStateChange:this.onChildStateChange})))}}const h3=m3;function p3(){return p3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p3.apply(null,arguments)}class g3 extends R.Component{constructor(...e){super(...e),this.onPress=()=>{const{name:e,implementation:t}=this.props;this.props.onPress({name:e,implementation:t})}}render(){const{name:e,implementation:t,...n}=this.props;return R.createElement(kA,p3({},n,{onPress:this.onPress}),e)}}const E3=g3;class f3 extends R.Component{constructor(...e){super(...e),this.onNotificationSelect=()=>{const{implementation:e}=this.props;this.props.onNotificationSelect({implementation:e})}}render(){const{implementation:e,implementationName:t,infoLink:n,presets:s,onNotificationSelect:o}=this.props,a=!!s&&!!s.length;return R.createElement("div",{className:"AddNotificationItem-notification-Zc9Sv Card-card-aoesq"},R.createElement(IM,{className:"AddNotificationItem-underlay-uEE6z",onPress:this.onNotificationSelect}),R.createElement("div",{className:"AddNotificationItem-overlay-qT9ml"},R.createElement("div",{className:"AddNotificationItem-name-PxZPX"},t),R.createElement("div",{className:"AddNotificationItem-actions-C_hYg"},a&&R.createElement("span",null,R.createElement(TM,{size:po,onPress:this.onNotificationSelect},"Custom"),R.createElement(CA,{className:"AddNotificationItem-presetsMenu-Ytltx Menu-menu-Uz3_0"},R.createElement(TM,{className:"AddNotificationItem-presetsMenuButton-POKVo Button-button-paJ9a Link-link-RInnp",size:po},"Presets"),R.createElement(yA,null,s.map((t=>R.createElement(E3,{key:t.name,name:t.name,implementation:e,onPress:o})))))),R.createElement(TM,{to:n,size:po},"More info"))))}}const C3=f3;function v3(){return v3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v3.apply(null,arguments)}class S3 extends R.Component{render(){const{isSchemaFetching:e,isSchemaPopulated:t,schemaError:n,schema:s,onNotificationSelect:o,onModalClose:a}=this.props;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Add Notification"),R.createElement(BM,null,e&&R.createElement(tM,null),!e&&!!n&&R.createElement("div",null,te("UnableToAddANewNotificationPleaseTryAgain")),t&&!n&&R.createElement("div",null,R.createElement("div",{className:"AddNotificationModalContent-notifications-wmzKT"},s.map((e=>R.createElement(C3,v3({key:e.implementation,implementation:e.implementation},e,{onNotificationSelect:o}))))))),R.createElement(HM,null,R.createElement(TM,{onPress:a},"Close")))}}const b3=S3;function P3(){return P3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P3.apply(null,arguments)}const y3={fetchNotificationSchema:jv,selectNotificationSchema:_v};class M3 extends R.Component{constructor(...e){super(...e),this.onNotificationSelect=({implementation:e,name:t})=>{this.props.selectNotificationSchema({implementation:e,presetName:t}),this.props.onModalClose({notificationSelected:!0})}}componentDidMount(){this.props.fetchNotificationSchema()}render(){return R.createElement(b3,P3({},this.props,{onNotificationSelect:this.onNotificationSelect}))}}const I3=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.notifications),(e=>{const{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}=e;return{isSchemaFetching:t,isSchemaPopulated:n,schemaError:s,schema:o}}))}),y3)(M3);function k3(){return k3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k3.apply(null,arguments)}const O3=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{isOpen:e,onModalClose:t},R.createElement(I3,k3({},n,{onModalClose:t})))};function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w3.apply(null,arguments)}const T3=function(e){const{item:t,onInputChange:n}=e,{onGrab:s,onReleaseImport:o,onUpgrade:a,onRename:r,onAuthorAdded:i,onAuthorDelete:l,onBookDelete:c,onBookFileDelete:d,onBookFileDeleteForUpgrade:u,onHealthIssue:m,onDownloadFailure:h,onImportFailure:p,onBookRetag:g,onApplicationUpdate:E,supportsOnGrab:f,supportsOnReleaseImport:C,supportsOnUpgrade:v,supportsOnRename:S,supportsOnAuthorAdded:b,supportsOnAuthorDelete:P,supportsOnBookDelete:y,supportsOnBookFileDelete:M,supportsOnHealthIssue:I,includeHealthWarnings:k,supportsOnDownloadFailure:O,supportsOnImportFailure:w,supportsOnBookRetag:T,supportsOnApplicationUpdate:N}=t;return R.createElement(AI,null,R.createElement(Mk,null,te("NotificationTriggers")),R.createElement("div",null,R.createElement(ik,{text:"Select which events should trigger this notification",link:"https://wiki.servarr.com/readarr/settings#connections"}),R.createElement("div",{className:"NotificationEventItems-events-dl1MD"},R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onGrab",helpText:te("OnGrabHelpText"),isDisabled:!f.value},s,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onReleaseImport",helpText:te("OnReleaseImportHelpText"),isDisabled:!C.value},o,{onChange:n}))),o.value&&R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onUpgrade",helpText:te("OnUpgradeHelpText"),isDisabled:!v.value},a,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onDownloadFailure",helpText:te("OnDownloadFailureHelpText"),isDisabled:!O.value},h,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onImportFailure",helpText:te("OnImportFailureHelpText"),isDisabled:!w.value},p,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onRename",helpText:te("OnRenameHelpText"),isDisabled:!S.value},r,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onAuthorAdded",helpText:te("OnAuthorAddedHelpText"),isDisabled:!b.value},i,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onAuthorDelete",helpText:te("OnAuthorDeleteHelpText"),isDisabled:!P.value},l,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onBookDelete",helpText:te("OnBookDeleteHelpText"),isDisabled:!y.value},c,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onBookFileDelete",helpText:te("OnBookFileDeleteHelpText"),isDisabled:!M.value},d,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onBookFileDeleteForUpgrade",helpText:te("OnBookFileDeleteForUpgradeHelpText"),isDisabled:!M.value},u,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onBookRetag",helpText:te("OnBookRetagHelpText"),isDisabled:!T.value},g,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onApplicationUpdate",helpText:te("OnApplicationUpdateHelpText"),isDisabled:!N.value},E,{onChange:n}))),R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"onHealthIssue",helpText:te("OnHealthIssueHelpText"),isDisabled:!I.value},m,{onChange:n}))),m.value&&R.createElement("div",null,R.createElement(ED,w3({type:ws,name:"includeHealthWarnings",helpText:te("IncludeHealthWarningsHelpText"),isDisabled:!I.value},k,{onChange:n}))))))};function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N3.apply(null,arguments)}const D3=function(e){const{advancedSettings:t,isFetching:n,error:s,isSaving:o,isTesting:a,saveError:r,item:i,onInputChange:l,onFieldChange:c,onModalClose:d,onSavePress:u,onTestPress:m,onAdvancedSettingsPress:h,onDeleteNotificationPress:p,...g}=e,{id:E,implementationName:f,name:C,tags:v,fields:S,message:b}=i;return R.createElement(_M,{onModalClose:d},R.createElement(QM,null,`${E?"Edit":"Add"} Connection - ${f}`),R.createElement(BM,null,n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewNotificationPleaseTryAgain")),!n&&!s&&R.createElement(Sk,g,!!b&&R.createElement(OI,{className:"EditNotificationModalContent-message-TWNtp Alert-alert-_KgnQ",kind:b.value.type},b.value.message),R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,N3({type:Gs,name:"name"},C,{onChange:l}))),R.createElement(T3,{item:i,onInputChange:l}),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,N3({type:Ws,name:"tags",helpText:te("TagsHelpText")},v,{onChange:l}))),S.map((e=>R.createElement(DX,N3({key:e.name,advancedSettings:t,provider:"notification",providerData:i,section:"settings.notifications"},e,{onChange:c})))))),R.createElement(HM,null,E&&R.createElement(TM,{className:"EditNotificationModalContent-deleteButton-zgPAx Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:p},"Delete"),R.createElement(NY,{advancedSettings:t,onAdvancedSettingsPress:h,showLabel:!1}),R.createElement(CT,{isSpinning:a,error:r,onPress:m},"Test"),R.createElement(TM,{onPress:d},"Cancel"),R.createElement(CT,{isSpinning:o,error:r,onPress:u},"Save")))};function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A3.apply(null,arguments)}const F3={setNotificationValue:Qv,setNotificationFieldValue:Wv,saveNotification:zv,testNotification:Vv,toggleAdvancedSettings:rb};class x3 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setNotificationValue({name:e,value:t})},this.onFieldChange=({name:e,value:t})=>{this.props.setNotificationFieldValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveNotification({id:this.props.id})},this.onTestPress=()=>{this.props.testNotification({id:this.props.id})},this.onAdvancedSettingsPress=()=>{this.props.toggleAdvancedSettings()}}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(D3,A3({},this.props,{onSavePress:this.onSavePress,onTestPress:this.onTestPress,onAdvancedSettingsPress:this.onAdvancedSettingsPress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const R3=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),eN("notifications"),((e,t)=>({advancedSettings:e,...t})))}),F3)(x3);function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B3.apply(null,arguments)}const L3=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(R3,B3({},n,{onModalClose:t})))};function j3(){return j3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j3.apply(null,arguments)}class _3 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchClearPendingChanges(),this.props.dispatchCancelTestNotification(),this.props.dispatchCancelSaveNotification(),this.props.onModalClose()}}render(){const{dispatchClearPendingChanges:e,dispatchCancelTestNotification:t,dispatchCancelSaveNotification:n,...s}=this.props;return R.createElement(L3,j3({},s,{onModalClose:this.onModalClose}))}}const z3=(0,Wy.Ng)(null,(function(e,t){const n="settings.notifications";return{dispatchClearPendingChanges(){e(he({section:n}))},dispatchCancelTestNotification(){e(qv({section:n}))},dispatchCancelSaveNotification(){e(Uv({section:n}))}}}))(_3);class U3 extends R.Component{constructor(e,t){super(e,t),this.onEditNotificationPress=()=>{this.setState({isEditNotificationModalOpen:!0})},this.onEditNotificationModalClose=()=>{this.setState({isEditNotificationModalOpen:!1})},this.onDeleteNotificationPress=()=>{this.setState({isEditNotificationModalOpen:!1,isDeleteNotificationModalOpen:!0})},this.onDeleteNotificationModalClose=()=>{this.setState({isDeleteNotificationModalOpen:!1})},this.onConfirmDeleteNotification=()=>{this.props.onConfirmDeleteNotification(this.props.id)},this.state={isEditNotificationModalOpen:!1,isDeleteNotificationModalOpen:!1}}render(){const{id:e,name:t,onGrab:n,onReleaseImport:s,onUpgrade:o,onRename:a,onAuthorAdded:r,onAuthorDelete:i,onBookDelete:l,onBookFileDelete:c,onBookFileDeleteForUpgrade:d,onHealthIssue:u,onDownloadFailure:m,onImportFailure:h,onBookRetag:p,onApplicationUpdate:g,supportsOnGrab:E,supportsOnReleaseImport:f,supportsOnUpgrade:C,supportsOnRename:v,supportsOnAuthorAdded:S,supportsOnAuthorDelete:b,supportsOnBookDelete:P,supportsOnBookFileDelete:y,supportsOnBookFileDeleteForUpgrade:M,supportsOnHealthIssue:I,supportsOnDownloadFailure:k,supportsOnImportFailure:O,supportsOnBookRetag:w,supportsOnApplicationUpdate:T,tags:N,tagList:D}=this.props;return R.createElement(nX,{className:"Notification-notification-UPK7V Card-card-aoesq",overlayContent:!0,onPress:this.onEditNotificationPress},R.createElement("div",{className:"Notification-name-vjjgY"},t),E&&n?R.createElement(YO,{kind:ao},te("OnGrab")):null,f&&s?R.createElement(YO,{kind:ao},te("OnReleaseImport")):null,C&&s&&o?R.createElement(YO,{kind:ao},te("OnUpgrade")):null,v&&a?R.createElement(YO,{kind:ao},te("OnRename")):null,w&&p?R.createElement(YO,{kind:ao},te("OnBookTagUpdate")):null,S&&r?R.createElement(YO,{kind:ao},te("OnAuthorAdded")):null,b&&i?R.createElement(YO,{kind:ao},te("OnAuthorDelete")):null,P&&l?R.createElement(YO,{kind:ao},te("OnBookDelete")):null,y&&c?R.createElement(YO,{kind:ao},te("OnBookFileDelete")):null,M&&c&&d?R.createElement(YO,{kind:ao},te("OnBookFileDeleteForUpgrade")):null,I&&u?R.createElement(YO,{kind:ao},te("OnHealthIssue")):null,k&&m?R.createElement(YO,{kind:ao},te("OnDownloadFailure")):null,O&&h?R.createElement(YO,{kind:ao},te("OnImportFailure")):null,T&&g?R.createElement(YO,{kind:ao},te("OnApplicationUpdate")):null,n||s||a||p||u||m||h?null:R.createElement(YO,{kind:eo,outline:!0},te("Disabled")),R.createElement(sW,{tags:N,tagList:D}),R.createElement(z3,{id:e,isOpen:this.state.isEditNotificationModalOpen,onModalClose:this.onEditNotificationModalClose,onDeleteNotificationPress:this.onDeleteNotificationPress}),R.createElement(wD,{isOpen:this.state.isDeleteNotificationModalOpen,kind:Xs,title:te("DeleteNotification"),message:te("DeleteNotificationMessageText",{name:t}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteNotification,onCancel:this.onDeleteNotificationModalClose}))}}const H3=U3;function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V3.apply(null,arguments)}class q3 extends R.Component{constructor(e,t){super(e,t),this.onAddNotificationPress=()=>{this.setState({isAddNotificationModalOpen:!0})},this.onAddNotificationModalClose=({notificationSelected:e=!1}={})=>{this.setState({isAddNotificationModalOpen:!1,isEditNotificationModalOpen:e})},this.onEditNotificationModalClose=()=>{this.setState({isEditNotificationModalOpen:!1})},this.state={isAddNotificationModalOpen:!1,isEditNotificationModalOpen:!1}}render(){const{items:e,tagList:t,onConfirmDeleteNotification:n,...s}=this.props,{isAddNotificationModalOpen:o,isEditNotificationModalOpen:a}=this.state;return R.createElement(hN,{legend:te("Connections")},R.createElement(sX,V3({errorMessage:te("UnableToLoadNotifications")},s),R.createElement("div",{className:"Notifications-notifications-nFbpD"},e.map((e=>R.createElement(H3,V3({key:e.id},e,{tagList:t,onConfirmDeleteNotification:n})))),R.createElement(nX,{className:"Notifications-addNotification-MUPKM Notification-notification-UPK7V Card-card-aoesq",onPress:this.onAddNotificationPress},R.createElement("div",{className:"Notifications-center-aimuW"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(O3,{isOpen:o,onModalClose:this.onAddNotificationModalClose}),R.createElement(z3,{isOpen:a,onModalClose:this.onEditNotificationModalClose})))}}const Q3=q3;function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},W3.apply(null,arguments)}const G3={fetchNotifications:Lv,deleteNotification:Hv};class K3 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteNotification=e=>{this.props.deleteNotification({id:e})}}componentDidMount(){this.props.fetchNotifications()}render(){return R.createElement(Q3,W3({},this.props,{onConfirmDeleteNotification:this.onConfirmDeleteNotification}))}}const $3=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.notifications",cr),GN(),((e,t)=>({...e,tagList:t})))}),G3)(K3),Y3=function(){return R.createElement(FF,{title:te("ConnectSettings")},R.createElement(jY,{showSave:!1}),R.createElement(TF,null,R.createElement($3,null)))};function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J3.apply(null,arguments)}const X3=function(e){const{id:t,isFetching:n,error:s,isSaving:o,saveError:a,item:r,protocol:i,protocolOptions:l,onInputChange:c,onProtocolChange:d,onSavePress:u,onModalClose:m,onDeleteDelayProfilePress:h,...p}=e,{enableUsenet:g,enableTorrent:E,usenetDelay:f,torrentDelay:C,bypassIfHighestQuality:v,bypassIfAboveCustomFormatScore:S,minimumCustomFormatScore:b,tags:P}=r;return R.createElement(_M,{onModalClose:m},R.createElement(QM,null,t?"Edit Delay Profile":"Add Delay Profile"),R.createElement(BM,null,n&&R.createElement(tM,null),!n&&!!s&&R.createElement("div",null,te("UnableToAddANewQualityProfilePleaseTryAgain")),!n&&!s&&R.createElement(Sk,p,R.createElement(AI,null,R.createElement(Mk,null,te("Protocol")),R.createElement(ED,{type:qs,name:"protocol",value:i,values:l,helpText:te("ProtocolHelpText"),onChange:d})),g.value?R.createElement(AI,null,R.createElement(Mk,null,te("UsenetDelay")),R.createElement(ED,J3({type:Fs,name:"usenetDelay",unit:"minutes"},f,{helpText:te("UsenetDelayHelpText"),onChange:c}))):null,E.value?R.createElement(AI,null,R.createElement(Mk,null,te("TorrentDelay")),R.createElement(ED,J3({type:Fs,name:"torrentDelay",unit:"minutes"},C,{helpText:te("TorrentDelayHelpText"),onChange:c}))):null,R.createElement(AI,null,R.createElement(Mk,null,te("BypassIfHighestQuality")),R.createElement(ED,J3({type:ws,name:"bypassIfHighestQuality"},v,{helpText:te("BypassIfHighestQualityHelpText"),onChange:c}))),R.createElement(AI,null,R.createElement(Mk,null,te("BypassIfAboveCustomFormatScore")),R.createElement(ED,J3({type:ws,name:"bypassIfAboveCustomFormatScore"},S,{helpText:te("BypassIfAboveCustomFormatScoreHelpText"),onChange:c}))),S.value?R.createElement(AI,null,R.createElement(Mk,null,te("MinimumCustomFormatScore")),R.createElement(ED,J3({type:Fs,name:"minimumCustomFormatScore"},b,{helpText:te("MinimumCustomFormatScoreHelpText"),onChange:c}))):null,1===t?R.createElement(OI,null,"This is the default profile. It applies to all author that don't have an explicit profile."):R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,J3({type:Ws,name:"tags"},P,{helpText:te("TagsHelpText"),onChange:c}))))),R.createElement(HM,null,t&&t>1&&R.createElement(TM,{className:"EditDelayProfileModalContent-deleteButton-IBLBk Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:h},"Delete"),R.createElement(TM,{onPress:m},"Cancel"),R.createElement(CT,{isSpinning:o,error:a,onPress:u},"Save")))};function Z3(){return Z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z3.apply(null,arguments)}const e7={enableUsenet:!0,enableTorrent:!0,preferredProtocol:"usenet",usenetDelay:0,torrentDelay:0,bypassIfHighestQuality:!1,bypassIfAboveCustomFormatScore:!1,minimumCustomFormatScore:0,tags:[]},t7=[{key:"preferUsenet",value:"Prefer Usenet"},{key:"preferTorrent",value:"Prefer Torrent"},{key:"onlyUsenet",value:"Only Usenet"},{key:"onlyTorrent",value:"Only Torrent"}],n7={setDelayProfileValue:Ug,saveDelayProfile:jg};class s7 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setDelayProfileValue({name:e,value:t})},this.onProtocolChange=({value:e})=>{switch(e){case"preferUsenet":this.props.setDelayProfileValue({name:"enableUsenet",value:!0}),this.props.setDelayProfileValue({name:"enableTorrent",value:!0}),this.props.setDelayProfileValue({name:"preferredProtocol",value:"usenet"});break;case"preferTorrent":this.props.setDelayProfileValue({name:"enableUsenet",value:!0}),this.props.setDelayProfileValue({name:"enableTorrent",value:!0}),this.props.setDelayProfileValue({name:"preferredProtocol",value:"torrent"});break;case"onlyUsenet":this.props.setDelayProfileValue({name:"enableUsenet",value:!0}),this.props.setDelayProfileValue({name:"enableTorrent",value:!1}),this.props.setDelayProfileValue({name:"preferredProtocol",value:"usenet"});break;case"onlyTorrent":this.props.setDelayProfileValue({name:"enableUsenet",value:!1}),this.props.setDelayProfileValue({name:"enableTorrent",value:!0}),this.props.setDelayProfileValue({name:"preferredProtocol",value:"torrent"});break;default:throw Error(`Unknown protocol option: ${e}`)}},this.onSavePress=()=>{this.props.saveDelayProfile({id:this.props.id})}}componentDidMount(){this.props.id||Object.keys(e7).forEach((e=>{this.props.setDelayProfileValue({name:e,value:e7[e]})}))}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(X3,Z3({},this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange,onProtocolChange:this.onProtocolChange}))}}const o7=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{id:t})=>t),(e=>e.settings.delayProfiles),((e,t)=>{const{isFetching:n,error:s,isSaving:o,saveError:a,pendingChanges:r,items:i}=t,l=e?U().find(i,{id:e}):e7,c=PI(l,r,a);return{id:e,isFetching:n,error:s,isSaving:o,saveError:a,item:c.settings,...c}})),(e=>{const t=e.item.enableUsenet.value,n=e.item.enableTorrent.value;let s="preferUsenet";return s="usenet"===e.item.preferredProtocol.value?"preferUsenet":"preferTorrent",t||(s="onlyTorrent"),n||(s="onlyUsenet"),{protocol:s,protocolOptions:t7,...e}}))}),n7)(s7);function a7(){return a7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a7.apply(null,arguments)}const r7=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(o7,a7({},n,{onModalClose:t})))};function i7(){return i7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i7.apply(null,arguments)}const l7={clearPendingChanges:he};class c7 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.delayProfiles"}),this.props.onModalClose()}}render(){return R.createElement(r7,i7({},this.props,{onModalClose:this.onModalClose}))}}const d7=(0,Wy.Ng)((function(){return{}}),l7)(c7),u7="DelayProfile-column-QGVxD";function m7(e,t){return e?t?1===t?"1 Minute":`${t} Minutes`:"No Delay":"-"}class h7 extends R.Component{constructor(e,t){super(e,t),this.onEditDelayProfilePress=()=>{this.setState({isEditDelayProfileModalOpen:!0})},this.onEditDelayProfileModalClose=()=>{this.setState({isEditDelayProfileModalOpen:!1})},this.onDeleteDelayProfilePress=()=>{this.setState({isEditDelayProfileModalOpen:!1,isDeleteDelayProfileModalOpen:!0})},this.onDeleteDelayProfileModalClose=()=>{this.setState({isDeleteDelayProfileModalOpen:!1})},this.onConfirmDeleteDelayProfile=()=>{this.props.onConfirmDeleteDelayProfile(this.props.id)},this.state={isEditDelayProfileModalOpen:!1,isDeleteDelayProfileModalOpen:!1}}render(){const{id:e,enableUsenet:t,enableTorrent:n,preferredProtocol:s,usenetDelay:o,torrentDelay:a,tags:r,tagList:i,isDragging:l,connectDragSource:c}=this.props;let d=EI(s);return t?n||(d="Only Usenet"):d="Only Torrent",R.createElement("div",{className:Fo()("DelayProfile-delayProfile-eXshH",l&&"DelayProfile-isDragging-B6sbj")},R.createElement("div",{className:u7},d),R.createElement("div",{className:u7},m7(t,o)),R.createElement("div",{className:u7},m7(n,a)),R.createElement(sW,{tags:r,tagList:i}),R.createElement("div",{className:"DelayProfile-actions-qipWX"},R.createElement(IM,{className:1===e?"DelayProfile-editButton-wv0Wk":void 0,onPress:this.onEditDelayProfilePress},R.createElement(Lo,{name:cn})),1!==e&&c(R.createElement("div",{className:"DelayProfile-dragHandle-j8RVk"},R.createElement(Lo,{className:"DelayProfile-dragIcon-oPeXV",name:$n})))),R.createElement(d7,{id:e,isOpen:this.state.isEditDelayProfileModalOpen,onModalClose:this.onEditDelayProfileModalClose,onDeleteDelayProfilePress:this.onDeleteDelayProfilePress}),R.createElement(wD,{isOpen:this.state.isDeleteDelayProfileModalOpen,kind:Xs,title:te("DeleteDelayProfile"),message:te("DeleteDelayProfileMessageText"),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteDelayProfile,onCancel:this.onDeleteDelayProfileModalClose}))}}h7.defaultProps={connectDragSource:e=>e};const p7=h7;function g7(){return g7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g7.apply(null,arguments)}const E7=parseInt(Fk().dragHandleWidth);class f7 extends R.Component{render(){const{width:e,item:t,itemType:n,currentOffset:s}=this.props;if(!s||n!==Nk)return null;const{x:o,y:a}=s,r=`translate3d(${o-(e-E7)}px, ${a}px, 0)`,i={width:e,position:"absolute",WebkitTransform:r,msTransform:r,transform:r};return R.createElement(wk,null,R.createElement("div",{className:"DelayProfileDragPreview-dragPreview-addkn",style:i},R.createElement(p7,g7({isDragging:!1},t))))}}const C7=(0,kk.M)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(f7),v7={delayProfileDragSource:"DelayProfileDragSource-delayProfileDragSource-RZyIB",delayProfilePlaceholder:"DelayProfileDragSource-delayProfilePlaceholder-GSTr5",delayProfilePlaceholderBefore:"DelayProfileDragSource-delayProfilePlaceholderBefore-jVKmf",delayProfilePlaceholderAfter:"DelayProfileDragSource-delayProfilePlaceholderAfter-q93hD"};function S7(){return S7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S7.apply(null,arguments)}const b7={beginDrag:e=>e,endDrag(e,t,n){e.onDelayProfileDragEnd(t.getItem(),t.didDrop())}},P7={hover(e,t,n){const s=t.getItem().order,o=e.order,a=(0,B.findDOMNode)(n).getBoundingClientRect(),r=(a.bottom-a.top)/2,i=t.getClientOffset().y-a.top;s!==o&&(s<o&&i>r?e.onDelayProfileDragMove(s,o+1):s>o&&i<r&&e.onDelayProfileDragMove(s,o))}};class y7 extends R.Component{render(){const{id:e,order:t,isDragging:n,isDraggingUp:s,isDraggingDown:o,isOver:a,connectDragSource:r,connectDropTarget:i,...l}=this.props,c=!n&&s&&a,d=!n&&o&&a;return i(R.createElement("div",{className:Fo()(v7.delayProfileDragSource,c&&v7.isDraggingUp,d&&v7.isDraggingDown)},c&&R.createElement("div",{className:Fo()(v7.delayProfilePlaceholder,v7.delayProfilePlaceholderBefore)}),R.createElement(p7,S7({id:e,order:t,isDragging:n,isOver:a},l,{connectDragSource:r})),d&&R.createElement("div",{className:Fo()(v7.delayProfilePlaceholder,v7.delayProfilePlaceholderAfter)})))}}const M7=(0,Uk.T)(Nk,P7,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Hk.I)(Nk,b7,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(y7)),I7="DelayProfiles-column-Ycnjz";function k7(){return k7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k7.apply(null,arguments)}class O7 extends R.Component{constructor(e,t){super(e,t),this.onAddDelayProfilePress=()=>{this.setState({isAddDelayProfileModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDelayProfileModalOpen:!1})},this.onMeasure=({width:e})=>{this.setState({width:e})},this.state={isAddDelayProfileModalOpen:!1,width:0}}render(){const{defaultProfile:e,items:t,tagList:n,dragIndex:s,dropIndex:o,onConfirmDeleteDelayProfile:a,...r}=this.props,{isAddDelayProfileModalOpen:i,width:l}=this.state,c=null!==o,d=c&&o<s,u=c&&o>s;return R.createElement(hw,{onMeasure:this.onMeasure},R.createElement(hN,{legend:te("DelayProfiles")},R.createElement(sX,k7({errorMessage:te("UnableToLoadDelayProfiles")},r),R.createElement("div",{className:"DelayProfiles-delayProfilesHeader-yAz4j"},R.createElement("div",{className:I7},te("Protocol")),R.createElement("div",{className:I7},te("UsenetDelay")),R.createElement("div",{className:I7},te("TorrentDelay")),R.createElement("div",{className:"DelayProfiles-tags-ipx5u"},te("Tags"))),R.createElement("div",{className:"DelayProfiles-delayProfiles-hoyqr"},t.map(((e,t)=>R.createElement(M7,k7({key:e.id,tagList:n},e,r,{index:t,isDragging:c,isDraggingUp:d,isDraggingDown:u,onConfirmDeleteDelayProfile:a})))),R.createElement(C7,{width:l})),e&&R.createElement("div",null,R.createElement(p7,k7({tagList:n,isDragging:!1,onConfirmDeleteDelayProfile:a},e))),R.createElement("div",{className:"DelayProfiles-addDelayProfile-_z7mB"},R.createElement(IM,{className:"DelayProfiles-addButton-iFXnd",onPress:this.onAddDelayProfilePress},R.createElement(Lo,{name:Tt}))),R.createElement(d7,{isOpen:i,onModalClose:this.onModalClose}))))}}const w7=O7;function T7(){return T7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T7.apply(null,arguments)}const N7={fetchDelayProfiles:Bg,deleteDelayProfile:_g,reorderDelayProfile:zg};class D7 extends R.Component{constructor(e,t){super(e,t),this.onConfirmDeleteDelayProfile=e=>{this.props.deleteDelayProfile({id:e})},this.onDelayProfileDragMove=(e,t)=>{this.state.dragIndex===e&&this.state.dropIndex===t||this.setState({dragIndex:e,dropIndex:t})},this.onDelayProfileDragEnd=({id:e},t)=>{const{dropIndex:n}=this.state;t&&null!==n&&this.props.reorderDelayProfile({id:e,moveIndex:n-1}),this.setState({dragIndex:null,dropIndex:null})},this.state={dragIndex:null,dropIndex:null}}componentDidMount(){this.props.fetchDelayProfiles()}render(){return R.createElement(w7,T7({},this.state,this.props,{onConfirmDeleteDelayProfile:this.onConfirmDeleteDelayProfile,onDelayProfileDragMove:this.onDelayProfileDragMove,onDelayProfileDragEnd:this.onDelayProfileDragEnd}))}}const A7=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.delayProfiles),GN(),((e,t)=>{const n=U().find(e.items,{id:1}),s=U().sortBy(U().reject(e.items,{id:1}),["order"]);return{defaultProfile:n,...e,items:s,tagList:t}}))}),N7)(D7),F7=function(e){return(0,Ky.Mz)(((e,{id:t})=>t),WD(),(e=>e.settings.importLists.items),((t,n,s)=>!(!t||!U().some(n,{[e]:t})&&!U().some(s,{[e]:t}))))};function x7(){return x7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x7.apply(null,arguments)}const R7=function(e){const{isFetching:t,error:n,isSaving:s,saveError:o,item:a,isInUse:r,onInputChange:i,onSavePress:l,onModalClose:c,onDeleteMetadataProfilePress:d,...u}=e,{id:m,name:h,minPopularity:p,skipMissingDate:g,skipMissingIsbn:E,skipPartsAndSets:f,skipSeriesSecondary:C,allowedLanguages:v,ignored:S,minPages:b}=a;return R.createElement(_M,{onModalClose:c},R.createElement(QM,null,m?"Edit Metadata Profile":"Add Metadata Profile"),R.createElement(BM,null,t&&R.createElement(tM,null),!t&&!!n&&R.createElement("div",null,te("UnableToAddANewMetadataProfilePleaseTryAgain")),!t&&!n&&R.createElement(Sk,u,R.createElement(AI,null,R.createElement(Mk,null,te("Name")),R.createElement(ED,x7({type:Gs,name:"name"},h,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("MinimumPopularity")),R.createElement(ED,x7({type:Fs,name:"minPopularity"},p,{helpText:te("MinPopularityHelpText"),isFloat:!0,min:0,onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("MinimumPages")),R.createElement(ED,x7({type:Fs,name:"minPages"},b,{helpText:te("MinPagesHelpText"),min:0,onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("SkipBooksWithMissingReleaseDate")),R.createElement(ED,x7({type:ws,name:"skipMissingDate"},g,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("SkipBooksWithNoDOIOrASIN")),R.createElement(ED,x7({type:ws,name:"skipMissingIsbn"},E,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("SkipPartBooksAndSets")),R.createElement(ED,x7({type:ws,name:"skipPartsAndSets"},f,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("SkipSecondarySeriesBooks")),R.createElement(ED,x7({type:ws,name:"skipSeriesSecondary"},C,{onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("AllowedLanguages")),R.createElement(ED,x7({type:Gs,name:"allowedLanguages"},v,{helpText:te("Iso639-3"),onChange:i}))),R.createElement(AI,null,R.createElement(Mk,null,te("MustNotContain")),R.createElement(ED,x7({type:$s,name:"ignored",helpText:te("IgnoredMetaHelpText"),kind:Xs,placeholder:te("IgnoredPlaceHolder"),delimiters:["Tab","Enter",","]},S,{onChange:i}))))),R.createElement(HM,null,m&&R.createElement("div",{className:"EditMetadataProfileModalContent-deleteButtonContainer-ICuP5",title:r?te("IsInUseCantDeleteAMetadataProfileThatIsAttachedToAnAuthorOrImportList"):void 0},R.createElement(TM,{kind:Xs,isDisabled:r,onPress:d},"Delete")),R.createElement(TM,{onPress:c},"Cancel"),R.createElement(CT,{isSpinning:s,error:o,onPress:l},"Save")))};function B7(){return B7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B7.apply(null,arguments)}const L7={fetchMetadataProfileSchema:ev,setMetadataProfileValue:sv,saveMetadataProfile:tv};class j7 extends R.Component{constructor(e,t){super(e,t),this.onInputChange=({name:e,value:t})=>{this.props.setMetadataProfileValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveMetadataProfile({id:this.props.id})},this.state={dragIndex:null,dropIndex:null}}componentDidMount(){this.props.id||this.props.isPopulated||this.props.fetchMetadataProfileSchema()}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(R7,B7({},this.state,this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange}))}}const _7=(0,Wy.Ng)((function(){return(0,Ky.Mz)(eN("metadataProfiles"),F7("metadataProfileId"),((e,t)=>({...e,isInUse:t})))}),L7)(j7);function z7(){return z7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z7.apply(null,arguments)}const U7=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(_7,z7({},n,{onModalClose:t})))};function H7(){return H7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H7.apply(null,arguments)}const V7={clearPendingChanges:he};class q7 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.metadataProfiles"}),this.props.onModalClose()}}render(){return R.createElement(U7,H7({},this.props,{onModalClose:this.onModalClose}))}}const Q7=(0,Wy.Ng)((function(){return{}}),V7)(q7);var W7=n(723),G7=n.n(W7);class K7 extends R.Component{constructor(e,t){super(e,t),this.onEditMetadataProfilePress=()=>{this.setState({isEditMetadataProfileModalOpen:!0})},this.onEditMetadataProfileModalClose=()=>{this.setState({isEditMetadataProfileModalOpen:!1})},this.onDeleteMetadataProfilePress=()=>{this.setState({isEditMetadataProfileModalOpen:!1,isDeleteMetadataProfileModalOpen:!0})},this.onDeleteMetadataProfileModalClose=()=>{this.setState({isDeleteMetadataProfileModalOpen:!1})},this.onConfirmDeleteMetadataProfile=()=>{this.props.onConfirmDeleteMetadataProfile(this.props.id)},this.onCloneMetadataProfilePress=()=>{const{id:e,onCloneMetadataProfilePress:t}=this.props;t(e)},this.state={isEditMetadataProfileModalOpen:!1,isDeleteMetadataProfileModalOpen:!1}}render(){const{id:e,name:t,minPopularity:n,minPages:s,ignored:o,isDeleting:a}=this.props;return R.createElement(nX,{className:"MetadataProfile-metadataProfile-djjpx Card-card-aoesq",overlayContent:!0,onPress:this.onEditMetadataProfilePress},R.createElement("div",{className:"MetadataProfile-nameContainer-T0T8p"},R.createElement("div",{className:"MetadataProfile-name-yYCuS"},t),R.createElement(Ek,{className:"MetadataProfile-cloneButton-a9Qck IconButton-button-t4C5V Link-link-RInnp",title:te("CloneProfile"),name:Zt,onPress:this.onCloneMetadataProfilePress})),R.createElement("div",{className:"MetadataProfile-enabled-riMUM"},n?R.createElement(YO,{kind:Zs},te("MinimumPopularity"),": ",n):null,s?R.createElement(YO,{kind:Zs},te("MinimumPages"),": ",s):null),R.createElement("div",null,o.map((e=>e?R.createElement(YO,{className:"MetadataProfile-label-mjDAm Label-label-DYldh",key:e,kind:Xs},R.createElement(G7(),{text:e,start:10,end:10})):null))),R.createElement(Q7,{id:e,isOpen:this.state.isEditMetadataProfileModalOpen,onModalClose:this.onEditMetadataProfileModalClose,onDeleteMetadataProfilePress:this.onDeleteMetadataProfilePress}),R.createElement(wD,{isOpen:this.state.isDeleteMetadataProfileModalOpen,kind:Xs,title:te("DeleteMetadataProfile"),message:te("DeleteMetadataProfileMessageText",{name:t}),confirmLabel:te("Delete"),isSpinning:a,onConfirm:this.onConfirmDeleteMetadataProfile,onCancel:this.onDeleteMetadataProfileModalClose}))}}K7.defaultProps={minPopularity:0,minPages:0,ignored:[]};const $7=K7;function Y7(){return Y7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y7.apply(null,arguments)}class J7 extends R.Component{constructor(e,t){super(e,t),this.onCloneMetadataProfilePress=e=>{this.props.onCloneMetadataProfilePress(e),this.setState({isMetadataProfileModalOpen:!0})},this.onEditMetadataProfilePress=()=>{this.setState({isMetadataProfileModalOpen:!0})},this.onModalClose=()=>{this.setState({isMetadataProfileModalOpen:!1})},this.state={isMetadataProfileModalOpen:!1}}render(){const{items:e,isDeleting:t,onConfirmDeleteMetadataProfile:n,...s}=this.props;return R.createElement(hN,{legend:te("MetadataProfiles")},R.createElement(sX,Y7({errorMessage:te("UnableToLoadMetadataProfiles")},s),R.createElement("div",{className:"MetadataProfiles-metadataProfiles-jitrF"},e.filter((e=>e.name!==io)).sort(cr).map((e=>R.createElement($7,Y7({key:e.id},e,{isDeleting:t,onConfirmDeleteMetadataProfile:n,onCloneMetadataProfilePress:this.onCloneMetadataProfilePress})))),R.createElement(nX,{className:"MetadataProfiles-addMetadataProfile-VFWC4 MetadataProfile-metadataProfile-djjpx Card-card-aoesq",onPress:this.onEditMetadataProfilePress},R.createElement("div",{className:"MetadataProfiles-center-FK9Ft"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(Q7,{isOpen:this.state.isMetadataProfileModalOpen,onModalClose:this.onModalClose})))}}const X7=J7;function Z7(){return Z7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z7.apply(null,arguments)}const e9={dispatchFetchMetadataProfiles:ZC,dispatchDeleteMetadataProfile:nv,dispatchCloneMetadataProfile:ov};class t9 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteMetadataProfile=e=>{this.props.dispatchDeleteMetadataProfile({id:e})},this.onCloneMetadataProfilePress=e=>{this.props.dispatchCloneMetadataProfile({id:e})}}componentDidMount(){this.props.dispatchFetchMetadataProfiles()}render(){return R.createElement(X7,Z7({onConfirmDeleteMetadataProfile:this.onConfirmDeleteMetadataProfile,onCloneMetadataProfilePress:this.onCloneMetadataProfilePress},this.props))}}const n9=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),(e=>e.settings.metadataProfiles),((e,t)=>({advancedSettings:e,...t})))}),e9)(t9);class s9 extends R.Component{constructor(...e){super(...e),this.onScoreChange=({value:e})=>{const{formatId:t}=this.props;this.props.onScoreChange(t,e)}}render(){const{name:e,score:t}=this.props;return R.createElement("div",{className:"QualityProfileFormatItem-qualityProfileFormatItemContainer-sSQHW"},R.createElement("div",{className:"QualityProfileFormatItem-qualityProfileFormatItem-yrgJj"},R.createElement("label",{className:"QualityProfileFormatItem-formatNameContainer-sDM7L"},R.createElement("div",{className:"QualityProfileFormatItem-formatName-F9UbI"},e),R.createElement(gT,{containerClassName:"QualityProfileFormatItem-scoreContainer-lLqJR",className:"QualityProfileFormatItem-scoreInput-awUEJ Input-input-KWeec",name:e,value:t,onChange:this.onScoreChange}))))}}s9.defaultProps={score:0};const o9=s9;function a9(e){const t=e.reduce(((e,t,n)=>(e[t.format]=n,e)),{});return[...e].sort(((e,t)=>t.score!==e.score?t.score-e.score:e.name>t.name?1:-1)).map((e=>t[e.format]))}class r9 extends R.Component{constructor(e,t){super(e,t),this.onScoreChange=(e,t)=>{const{onQualityProfileFormatItemScoreChange:n}=this.props;n(e,t),this.reorderItems()},this.reorderItems=U().debounce((()=>this.setState({order:a9(this.props.profileFormatItems)})),1e3),this.state={order:a9(this.props.profileFormatItems)}}render(){const{profileFormatItems:e,errors:t,warnings:n}=this.props,{order:s}=this.state;return e.length<1?R.createElement("div",{className:"QualityProfileFormatItems-addCustomFormatMessage-Y8Tof"},"Want more control over which downloads are preferred? Add a",R.createElement(IM,{to:"/settings/customformats"}," Custom Format ")):R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Custom Formats"),R.createElement("div",null,R.createElement(ik,{text:"Readarr scores each release using the sum of scores for matching custom formats. If a new release would improve the score, at the same or better quality, then Readarr will grab it."}),t.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,isError:!0,isCheckInput:!1}))),n.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,isWarning:!0,isCheckInput:!1}))),R.createElement("div",{className:"QualityProfileFormatItems-formats-lyjb9"},R.createElement("div",{className:"QualityProfileFormatItems-headerContainer-BuDwk"},R.createElement("div",{className:"QualityProfileFormatItems-headerTitle-zrt2s"},"Custom Format"),R.createElement("div",{className:"QualityProfileFormatItems-headerScore-rwvsN"},"Score")),s.map((t=>{const{format:n,name:s,score:o}=e[t];return R.createElement(o9,{key:n,formatId:n,name:s,score:o,onScoreChange:this.onScoreChange})})))))}}r9.defaultProps={errors:[],warnings:[]};const i9=r9,l9={qualityProfileItem:"QualityProfileItem-qualityProfileItem-TEAK6",isInGroup:"QualityProfileItem-isInGroup-v0tnK",checkInputContainer:"QualityProfileItem-checkInputContainer-XOmYl",checkInput:"QualityProfileItem-checkInput-NtKME CheckInput-input-VAM1T",qualityNameContainer:"QualityProfileItem-qualityNameContainer-ws1Xl",qualityName:"QualityProfileItem-qualityName-UDxBT",notAllowed:"QualityProfileItem-notAllowed-KHOV9",createGroupButton:"QualityProfileItem-createGroupButton-NYwja undefined",dragHandle:"QualityProfileItem-dragHandle-fkDC9",dragIcon:"QualityProfileItem-dragIcon-G0p9C",isDragging:"QualityProfileItem-isDragging-NU2zj",isPreview:"QualityProfileItem-isPreview-L8xaf"};class c9 extends R.Component{constructor(...e){super(...e),this.onAllowedChange=({value:e})=>{const{qualityId:t,onQualityProfileItemAllowedChange:n}=this.props;n(t,e)},this.onCreateGroupPress=()=>{const{qualityId:e,onCreateGroupPress:t}=this.props;t(e)}}render(){const{editGroups:e,isPreview:t,groupId:n,name:s,allowed:o,isDragging:a,isOverCurrent:r,connectDragSource:i}=this.props;return R.createElement("div",{className:Fo()(l9.qualityProfileItem,a&&l9.isDragging,t&&l9.isPreview,r&&l9.isOverCurrent,n&&l9.isInGroup)},R.createElement("label",{className:l9.qualityNameContainer},e&&!n&&!t&&R.createElement(Ek,{className:l9.createGroupButton,name:bn,title:te("Group"),onPress:this.onCreateGroupPress}),!e&&R.createElement(dk,{className:l9.checkInput,containerClassName:l9.checkInputContainer,name:s,value:o,isDisabled:!!n,onChange:this.onAllowedChange}),R.createElement("div",{className:Fo()(l9.qualityName,n&&l9.isInGroup,!o&&l9.notAllowed)},s)),i(R.createElement("div",{className:l9.dragHandle},R.createElement(Lo,{className:l9.dragIcon,title:te("CreateGroup"),name:$n}))))}}c9.defaultProps={isPreview:!1,isOverCurrent:!1,connectDragSource:e=>e};const d9=c9,u9=parseInt(Fk().formGroupExtraSmallWidth),m9=parseInt(Fk().formLabelSmallWidth),h9=parseInt(Fk().formLabelRightMarginWidth),p9=parseInt(Fk().dragHandleWidth);class g9 extends R.Component{render(){const{item:e,itemType:t,currentOffset:n}=this.props;if(!n||t!==Tk)return null;const{x:s,y:o}=n,a=`translate3d(${s-(u9-m9-h9-p9)}px, ${o}px, 0)`,r={position:"absolute",WebkitTransform:a,msTransform:a,transform:a},{editGroups:i,groupId:l,qualityId:c,name:d,allowed:u}=e;return R.createElement(wk,null,R.createElement("div",{className:"QualityProfileItemDragPreview-dragPreview-NbgaE",style:r},R.createElement(d9,{editGroups:i,isPreview:!0,qualityId:l||c,name:d,allowed:u,isDragging:!1})))}}const E9=(0,kk.M)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(g9);class f9 extends R.Component{constructor(...e){super(...e),this.onAllowedChange=({value:e})=>{const{groupId:t,onItemGroupAllowedChange:n}=this.props;n(t,e)},this.onNameChange=({value:e})=>{const{groupId:t,onItemGroupNameChange:n}=this.props;n(t,e)},this.onDeleteGroupPress=({value:e})=>{const{groupId:t,onDeleteGroupPress:n}=this.props;n(t,e)}}render(){const{editGroups:e,groupId:t,name:n,allowed:s,items:o,qualityIndex:a,isDragging:r,isDraggingUp:i,isDraggingDown:l,connectDragSource:c,onQualityProfileItemAllowedChange:d,onQualityProfileItemDragMove:u,onQualityProfileItemDragEnd:m}=this.props;return R.createElement("div",{className:Fo()("QualityProfileItemGroup-qualityProfileItemGroup-uZqur",e&&"QualityProfileItemGroup-editGroups-jmmBq",r&&"QualityProfileItemGroup-isDragging-JtSGM")},R.createElement("div",{className:"QualityProfileItemGroup-qualityProfileItemGroupInfo-Kou2X"},e&&R.createElement("div",{className:"QualityProfileItemGroup-qualityNameContainer-lwJWU"},R.createElement(Ek,{className:"QualityProfileItemGroup-deleteGroupButton-p85Qd undefined",name:vs,title:te("Ungroup"),onPress:this.onDeleteGroupPress}),R.createElement(jO,{className:"QualityProfileItemGroup-nameInput-WZ6mI TextInput-input-svfXu Input-input-KWeec",name:"name",value:n,onChange:this.onNameChange})),!e&&R.createElement("label",{className:"QualityProfileItemGroup-qualityNameLabel-nMell QualityProfileItemGroup-qualityNameContainer-lwJWU"},R.createElement(dk,{className:"QualityProfileItemGroup-checkInput-bCDDy QualityProfileItem-checkInput-NtKME CheckInput-input-VAM1T",containerClassName:"QualityProfileItemGroup-checkInputContainer-XDuB_ QualityProfileItem-checkInputContainer-XOmYl",name:"allowed",value:s,onChange:this.onAllowedChange}),R.createElement("div",{className:"QualityProfileItemGroup-nameContainer-WXC2r"},R.createElement("div",{className:Fo()("QualityProfileItemGroup-name-mH2mG",!s&&"QualityProfileItemGroup-notAllowed-ESbqc")},n),R.createElement("div",{className:"QualityProfileItemGroup-groupQualities-ANIg_"},o.map((({quality:e})=>R.createElement(YO,{key:e.id},e.name))).reverse()))),c(R.createElement("div",{className:"QualityProfileItemGroup-dragHandle-NSzyO"},R.createElement(Lo,{className:"QualityProfileItemGroup-dragIcon-rmBVO",name:$n,title:te("Reorder")})))),e&&R.createElement("div",{className:"QualityProfileItemGroup-items-B4dxR"},o.map((({quality:n},c)=>R.createElement(y9,{key:n.id,editGroups:e,groupId:t,qualityId:n.id,name:n.name,allowed:s,items:o,qualityIndex:`${a}.${c+1}`,isDragging:r,isDraggingUp:i,isDraggingDown:l,isInGroup:!0,onQualityProfileItemAllowedChange:d,onQualityProfileItemDragMove:u,onQualityProfileItemDragEnd:m}))).reverse()))}}f9.defaultProps={connectDragSource:e=>e};const C9=f9,v9={qualityProfileItemDragSource:"QualityProfileItemDragSource-qualityProfileItemDragSource-NwZEi",qualityProfileItemPlaceholder:"QualityProfileItemDragSource-qualityProfileItemPlaceholder-ORYGX",qualityProfileItemPlaceholderBefore:"QualityProfileItemDragSource-qualityProfileItemPlaceholderBefore-BWGOW",qualityProfileItemPlaceholderAfter:"QualityProfileItemDragSource-qualityProfileItemPlaceholderAfter-oWcx8"},S9={beginDrag(e){const{editGroups:t,qualityIndex:n,groupId:s,qualityId:o,name:a,allowed:r}=e;return{editGroups:t,qualityIndex:n,groupId:s,qualityId:o,isGroup:!o,name:a,allowed:r}},endDrag(e,t,n){e.onQualityProfileItemDragEnd(t.didDrop())}},b9={hover(e,t,n){const{qualityIndex:s,isGroup:o}=t.getItem(),a=e.qualityIndex,r=!(!e.qualityId||!e.groupId),i=n.props.isOverCurrent&&n.props.isDraggingUp?1:0,l=(0,B.findDOMNode)(n).children[i].getBoundingClientRect(),c=(l.bottom-l.top)/2,d=t.getClientOffset().y-l.top;if(!t.isOver({shallow:!0}))return;if(s===a)return;if(o&&r)return;let u=null;if(d>c)u="below";else{if(!(d<c))return;u="above"}e.onQualityProfileItemDragMove({dragQualityIndex:s,dropQualityIndex:a,dropPosition:u})}};class P9 extends R.Component{render(){const{editGroups:e,groupId:t,qualityId:n,name:s,allowed:o,items:a,qualityIndex:r,isDragging:i,isDraggingUp:l,isDraggingDown:c,isOverCurrent:d,connectDragSource:u,connectDropTarget:m,onCreateGroupPress:h,onDeleteGroupPress:p,onQualityProfileItemAllowedChange:g,onItemGroupAllowedChange:E,onItemGroupNameChange:f,onQualityProfileItemDragMove:C,onQualityProfileItemDragEnd:v}=this.props,S=!i&&l&&d,b=!i&&c&&d;return m(R.createElement("div",{className:Fo()(v9.qualityProfileItemDragSource,S&&v9.isDraggingUp,b&&v9.isDraggingDown)},S&&R.createElement("div",{className:Fo()(v9.qualityProfileItemPlaceholder,v9.qualityProfileItemPlaceholderBefore)}),!!t&&null==n&&R.createElement(C9,{editGroups:e,groupId:t,name:s,allowed:o,items:a,qualityIndex:r,isDragging:i,isDraggingUp:l,isDraggingDown:c,connectDragSource:u,onDeleteGroupPress:p,onQualityProfileItemAllowedChange:g,onItemGroupAllowedChange:E,onItemGroupNameChange:f,onQualityProfileItemDragMove:C,onQualityProfileItemDragEnd:v}),null!=n&&R.createElement(d9,{editGroups:e,groupId:t,qualityId:n,name:s,allowed:o,qualityIndex:r,isDragging:i,isOverCurrent:d,connectDragSource:u,onCreateGroupPress:h,onQualityProfileItemAllowedChange:g}),b&&R.createElement("div",{className:Fo()(v9.qualityProfileItemPlaceholder,v9.qualityProfileItemPlaceholderAfter)})))}}const y9=(0,Uk.T)(Tk,b9,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}}))((0,Hk.I)(Tk,S9,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(P9));function M9(){return M9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},M9.apply(null,arguments)}class I9 extends R.Component{constructor(e,t){super(e,t),this.onMeasure=({height:e})=>{this.props.editGroups?this.setState({qualitiesHeightEditGroups:e}):this.setState({qualitiesHeight:e})},this.onToggleEditGroupsMode=()=>{this.props.onToggleEditGroupsMode()},this.state={qualitiesHeight:0,qualitiesHeightEditGroups:0}}render(){const{editGroups:e,dropQualityIndex:t,dropPosition:n,qualityProfileItems:s,errors:o,warnings:a,...r}=this.props,{qualitiesHeight:i,qualitiesHeightEditGroups:l}=this.state,c=null!==t,d=c&&"above"===n,u=c&&"below"===n,m=e?l:i;return R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Qualities"),R.createElement("div",null,R.createElement(ik,{text:"Qualities higher in the list are more preferred. Qualities within the same group are equal. Only checked qualities are wanted"}),o.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,isError:!0,isCheckInput:!1}))),a.map(((e,t)=>R.createElement(ik,{key:t,text:e.message,isWarning:!0,isCheckInput:!1}))),R.createElement(TM,{className:"QualityProfileItems-editGroupsButton-d3Isx Button-button-paJ9a Link-link-RInnp",kind:so,onPress:this.onToggleEditGroupsMode},R.createElement("div",null,R.createElement(Lo,{className:"QualityProfileItems-editGroupsButtonIcon-JdP1h",name:e?$n:bn}),e?"Done Editing Groups":"Edit Groups")),R.createElement(hw,{includeMargin:!1,onMeasure:this.onMeasure,className:"QualityProfileItems-qualities-EdMt0",style:{minHeight:`${m}px`}},s.map((({id:t,name:n,allowed:s,quality:o,items:a},i)=>{const l=o?o.id:t;return R.createElement(y9,M9({key:l,editGroups:e,groupId:t,qualityId:o&&o.id,name:o?o.name:n,allowed:s,items:a,qualityIndex:`${i+1}`,isInGroup:!1,isDragging:c,isDraggingUp:d,isDraggingDown:u},r))})).reverse(),R.createElement(E9,null))))}}I9.defaultProps={errors:[],warnings:[]};const k9=I9,O9="EditQualityProfileModalContent-formGroupWrapper-RN2SQ";function w9(){return w9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w9.apply(null,arguments)}const T9=parseInt(Fk().modalBodyPadding);function N9(e,t){return R.createElement(i9,w9({profileFormatItems:e.value,errors:e.errors,warnings:e.warnings},t))}class D9 extends R.Component{constructor(e,t){super(e,t),this.onHeaderMeasure=({height:e})=>{e>this.state.headerHeight&&this.setState({headerHeight:e})},this.onBodyMeasure=({height:e})=>{e>this.state.bodyHeight&&this.setState({bodyHeight:e})},this.onFooterMeasure=({height:e})=>{e>this.state.footerHeight&&this.setState({footerHeight:e})},this.state={headerHeight:0,bodyHeight:0,footerHeight:0}}componentDidUpdate(e,t){const{headerHeight:n,bodyHeight:s,footerHeight:o}=this.state;if(n>0&&s>0&&o>0&&(n!==t.headerHeight||s!==t.bodyHeight||o!==t.footerHeight)){const e=2*T9;this.props.onContentHeightChange(n+s+o+e)}}render(){const{editGroups:e,isFetching:t,error:n,isSaving:s,saveError:o,qualities:a,customFormats:r,item:i,isInUse:l,onInputChange:c,onCutoffChange:d,onSavePress:u,onModalClose:m,onDeleteQualityProfilePress:h,...p}=this.props,{id:g,name:E,upgradeAllowed:f,cutoff:C,minFormatScore:v,cutoffFormatScore:S,items:b,formatItems:P}=i;return R.createElement(_M,{onModalClose:m},R.createElement(hw,{onMeasure:this.onHeaderMeasure},R.createElement(QM,null,g?"Edit Quality Profile":"Add Quality Profile")),R.createElement(BM,null,R.createElement(hw,{onMeasure:this.onBodyMeasure},t&&R.createElement(tM,null),!t&&!!n&&R.createElement("div",null,te("UnableToAddANewQualityProfilePleaseTryAgain")),!t&&!n&&R.createElement(Sk,p,R.createElement("div",{className:"EditQualityProfileModalContent-formGroupsContainer-hjomj"},R.createElement("div",{className:O9},R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Name"),R.createElement(ED,w9({type:Gs,name:"name"},E,{onChange:c}))),R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},te("UpgradesAllowed")),R.createElement(ED,w9({type:ws,name:"upgradeAllowed"},f,{helpText:te("UpgradeAllowedHelpText"),onChange:c}))),f.value&&R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Upgrade Until"),R.createElement(ED,w9({type:qs,name:"cutoff"},C,{values:a,helpText:te("CutoffHelpText"),onChange:d}))),P.value.length>0&&R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Minimum Custom Format Score"),R.createElement(ED,w9({type:Fs,name:"minFormatScore"},v,{helpText:te("MinFormatScoreHelpText"),onChange:c}))),f.value&&P.value.length>0&&R.createElement(AI,{size:ho},R.createElement(Mk,{size:po},"Upgrade Until Custom Format Score"),R.createElement(ED,w9({type:Fs,name:"cutoffFormatScore"},S,{helpText:te("CutoffFormatScoreHelpText"),onChange:c}))),R.createElement("div",{className:"EditQualityProfileModalContent-formatItemLarge-gnp2n"},N9(P,p))),R.createElement("div",{className:O9},R.createElement(k9,w9({editGroups:e,qualityProfileItems:b.value,errors:b.errors,warnings:b.warnings},p))),R.createElement("div",{className:"EditQualityProfileModalContent-formatItemSmall-MG3__"},N9(P,p)))))),R.createElement(hw,{onMeasure:this.onFooterMeasure},R.createElement(HM,null,g?R.createElement("div",{className:"EditQualityProfileModalContent-deleteButtonContainer-SvWk_",title:l?te("IsInUseCantDeleteAQualityProfileThatIsAttachedToAnAuthorOrImportList"):void 0},R.createElement(TM,{kind:Xs,isDisabled:l,onPress:h},"Delete")):null,R.createElement(TM,{onPress:m},"Cancel"),R.createElement(CT,{isSpinning:s,error:o,onPress:u},"Save"))))}}const A9=D9;function F9(){return F9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},F9.apply(null,arguments)}function x9(e){const t=e.split(".");return 1===t.length?[null,parseInt(t[0])-1]:[parseInt(t[0])-1,parseInt(t[1])-1]}const R9={fetchQualityProfileSchema:dS,setQualityProfileValue:hS,saveQualityProfile:uS};class B9 extends R.Component{constructor(e,t){super(e,t),this.ensureCutoff=e=>{const t=e.cutoff.value,n=U().find(e.items.value,(e=>!!t&&(e.id===t||e.quality&&e.quality.id===t)));if(!t||!n||!n.allowed){const t=U().find(e.items.value,{allowed:!0});let n=null;t&&(n=t.quality?t.quality.id:t.id),this.props.setQualityProfileValue({name:"cutoff",value:n})}},this.onInputChange=({name:e,value:t})=>{this.props.setQualityProfileValue({name:e,value:t})},this.onCutoffChange=({name:e,value:t})=>{const n=parseInt(t),s=U().find(this.props.item.items.value,(e=>e.quality?e.quality.id===n:e.id===n)),o=s.quality?s.quality.id:s.id;this.props.setQualityProfileValue({name:e,value:o})},this.onSavePress=()=>{this.props.saveQualityProfile({id:this.props.id})},this.onQualityProfileItemAllowedChange=(e,t)=>{const n=U().cloneDeep(this.props.item),s=n.items.value,o=U().find(n.items.value,(t=>t.quality&&t.quality.id===e));o.allowed=t,this.props.setQualityProfileValue({name:"items",value:s}),this.ensureCutoff(n)},this.onQualityProfileFormatItemScoreChange=(e,t)=>{const n=U().cloneDeep(this.props.item),s=n.formatItems.value,o=U().find(n.formatItems.value,(t=>t.format===e));o.score=t,this.props.setQualityProfileValue({name:"formatItems",value:s})},this.onItemGroupAllowedChange=(e,t)=>{const n=U().cloneDeep(this.props.item),s=n.items.value,o=U().find(n.items.value,(t=>t.id===e));o.allowed=t,o.items.forEach((e=>{e.allowed=t})),this.props.setQualityProfileValue({name:"items",value:s}),this.ensureCutoff(n)},this.onItemGroupNameChange=(e,t)=>{const n=U().cloneDeep(this.props.item).items.value,s=U().find(n,(t=>t.id===e));s.name=t,this.props.setQualityProfileValue({name:"items",value:n})},this.onCreateGroupPress=e=>{const t=U().cloneDeep(this.props.item),n=t.items.value,s=U().find(n,(t=>t.quality&&t.quality.id===e)),o=n.indexOf(s),a=function(e){const t=U().filter(U().map(e.items.value,"id"),(e=>null!=e));return Math.max(1e3,...t)+1}(t),r={id:a,name:s.quality.name,allowed:s.allowed,items:[s]};n.splice(o,1,r),this.props.setQualityProfileValue({name:"items",value:n}),this.ensureCutoff(t)},this.onDeleteGroupPress=e=>{const t=U().cloneDeep(this.props.item),n=t.items.value,s=U().find(n,(t=>t.id===e)),o=n.indexOf(s);n.splice(o,1,...s.items),this.props.setQualityProfileValue({name:"items",value:n}),this.ensureCutoff(t)},this.onQualityProfileItemDragMove=e=>{const{dragQualityIndex:t,dropQualityIndex:n,dropPosition:s}=e,[o,a]=x9(t),[r,i]=x9(n);if("below"===s&&i-1===a||"above"===s&&i+1===a)return void(null!=this.state.dragQualityIndex&&null!=this.state.dropQualityIndex&&null!=this.state.dropPosition&&this.setState({dragQualityIndex:null,dropQualityIndex:null,dropPosition:null}));let l=n;"above"===s&&o!==r&&null!=r&&(l=`${r+1}.${i+2}`),"above"===s&&o!==r&&null==r&&(l=`${i+2}`),"below"===s&&o===r&&null!=r&&a<i&&(l=`${r+1}.${i}`),"below"===s&&o===r&&null==r&&a<i&&(l=`${i}`),t===this.state.dragQualityIndex&&l===this.state.dropQualityIndex&&s===this.state.dropPosition||this.setState({dragQualityIndex:t,dropQualityIndex:l,dropPosition:s})},this.onQualityProfileItemDragEnd=e=>{const{dragQualityIndex:t,dropQualityIndex:n}=this.state;if(e&&null!=n){const e=U().cloneDeep(this.props.item),s=e.items.value,[o,a]=x9(t),[r,i]=x9(n);let l=null,c=null;if(null!=r&&(c=s[r]),null==o)l=s.splice(a,1)[0];else{const e=s[o];l=e.items.splice(a,1)[0],e.items.length||s.splice(o,1)}null==r?s.splice(i,0,l):c.items.splice(i,0,l),this.props.setQualityProfileValue({name:"items",value:s}),this.ensureCutoff(e)}this.setState({dragQualityIndex:null,dropQualityIndex:null,dropPosition:null})},this.onToggleEditGroupsMode=()=>{this.setState({editGroups:!this.state.editGroups})},this.state={dragQualityIndex:null,dropQualityIndex:null,dropPosition:null,editGroups:!1}}componentDidMount(){this.props.id||this.props.isPopulated||this.props.fetchQualityProfileSchema()}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return U().isEmpty(this.props.item.items)&&!this.props.isFetching?null:R.createElement(A9,F9({},this.state,this.props,{onSavePress:this.onSavePress,onInputChange:this.onInputChange,onCutoffChange:this.onCutoffChange,onCreateGroupPress:this.onCreateGroupPress,onDeleteGroupPress:this.onDeleteGroupPress,onQualityProfileItemAllowedChange:this.onQualityProfileItemAllowedChange,onItemGroupAllowedChange:this.onItemGroupAllowedChange,onItemGroupNameChange:this.onItemGroupNameChange,onQualityProfileItemDragMove:this.onQualityProfileItemDragMove,onQualityProfileItemDragEnd:this.onQualityProfileItemDragEnd,onQualityProfileFormatItemScoreChange:this.onQualityProfileFormatItemScoreChange,onToggleEditGroupsMode:this.onToggleEditGroupsMode}))}}const L9=(0,Wy.Ng)((function(){return(0,Ky.Mz)(eN("qualityProfiles"),(0,Ky.Mz)(eN("qualityProfiles"),(e=>{const t=e.item.items;return t&&t.value?U().reduceRight(t.value,((e,{allowed:t,id:n,name:s,quality:o})=>(t&&(n?e.push({key:n,value:s}):e.push({key:o.id,value:o.name})),e)),[]):[]})),(0,Ky.Mz)(eN("qualityProfiles"),(e=>{const t=e.item.formatItems;return t&&t.value?U().reduceRight(t.value,((e,{id:t,name:n,format:s,score:o})=>(t?e.push({key:t,value:n,score:o}):e.push({key:s,value:n,score:o}),e)),[]):[]})),F7("qualityProfileId"),((e,t,n,s)=>({qualities:t,customFormats:n,...e,isInUse:s})))}),R9)(B9);function j9(){return j9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j9.apply(null,arguments)}class _9 extends R.Component{constructor(e,t){super(e,t),this.onContentHeightChange=e=>{("auto"===this.state.height||e>this.state.height)&&this.setState({height:e})},this.state={height:"auto"}}render(){const{isOpen:e,onModalClose:t,...n}=this.props;return R.createElement(JM,{style:{height:`${this.state.height}px`},isOpen:e,size:fo,onModalClose:t},R.createElement(L9,j9({},n,{onContentHeightChange:this.onContentHeightChange,onModalClose:t})))}}const z9=_9;function U9(){return U9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U9.apply(null,arguments)}const H9={clearPendingChanges:he};class V9 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.qualityProfiles"}),this.props.onModalClose()}}render(){return R.createElement(z9,U9({},this.props,{onModalClose:this.onModalClose}))}}const q9=(0,Wy.Ng)((function(){return{}}),H9)(V9);class Q9 extends R.Component{constructor(e,t){super(e,t),this.onEditQualityProfilePress=()=>{this.setState({isEditQualityProfileModalOpen:!0})},this.onEditQualityProfileModalClose=()=>{this.setState({isEditQualityProfileModalOpen:!1})},this.onDeleteQualityProfilePress=()=>{this.setState({isEditQualityProfileModalOpen:!1,isDeleteQualityProfileModalOpen:!0})},this.onDeleteQualityProfileModalClose=()=>{this.setState({isDeleteQualityProfileModalOpen:!1})},this.onConfirmDeleteQualityProfile=()=>{this.props.onConfirmDeleteQualityProfile(this.props.id)},this.onCloneQualityProfilePress=()=>{const{id:e,onCloneQualityProfilePress:t}=this.props;t(e)},this.state={isEditQualityProfileModalOpen:!1,isDeleteQualityProfileModalOpen:!1}}render(){const{id:e,name:t,upgradeAllowed:n,cutoff:s,items:o,isDeleting:a}=this.props;return R.createElement(nX,{className:"QualityProfile-qualityProfile-jkXPx Card-card-aoesq",overlayContent:!0,onPress:this.onEditQualityProfilePress},R.createElement("div",{className:"QualityProfile-nameContainer-pK4Yv"},R.createElement("div",{className:"QualityProfile-name-jAtfw"},t),R.createElement(Ek,{className:"QualityProfile-cloneButton-Y4jVX IconButton-button-t4C5V Link-link-RInnp",title:te("CloneProfile"),name:Zt,onPress:this.onCloneQualityProfilePress})),R.createElement("div",{className:"QualityProfile-qualities-XTEvs"},o.map((e=>{if(!e.allowed)return null;if(e.quality){const t=n&&e.quality.id===s;return R.createElement(YO,{key:e.quality.id,kind:t?to:Zs,title:t?te("IsCutoffUpgradeUntilThisQualityIsMetOrExceeded"):null},e.quality.name)}const t=n&&e.id===s;return R.createElement(fN,{key:e.id,className:"QualityProfile-tooltipLabel-jEOdt Label-label-DYldh",anchor:R.createElement(YO,{kind:t?to:Zs,title:t?te("IsCutoffCutoff"):null},e.name),tooltip:R.createElement("div",null,e.items.map((e=>R.createElement(YO,{key:e.quality.id,kind:t?to:Zs,title:t?te("IsCutoffCutoff"):null},e.quality.name)))),kind:no,position:bo})}))),R.createElement(q9,{id:e,isOpen:this.state.isEditQualityProfileModalOpen,onModalClose:this.onEditQualityProfileModalClose,onDeleteQualityProfilePress:this.onDeleteQualityProfilePress}),R.createElement(wD,{isOpen:this.state.isDeleteQualityProfileModalOpen,kind:Xs,title:te("DeleteQualityProfile"),message:te("DeleteQualityProfileMessageText",{name:t}),confirmLabel:te("Delete"),isSpinning:a,onConfirm:this.onConfirmDeleteQualityProfile,onCancel:this.onDeleteQualityProfileModalClose}))}}const W9=Q9;function G9(){return G9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G9.apply(null,arguments)}class K9 extends R.Component{constructor(e,t){super(e,t),this.onCloneQualityProfilePress=e=>{this.props.onCloneQualityProfilePress(e),this.setState({isQualityProfileModalOpen:!0})},this.onEditQualityProfilePress=()=>{this.setState({isQualityProfileModalOpen:!0})},this.onModalClose=()=>{this.setState({isQualityProfileModalOpen:!1})},this.state={isQualityProfileModalOpen:!1}}render(){const{items:e,isDeleting:t,onConfirmDeleteQualityProfile:n,...s}=this.props;return R.createElement(hN,{legend:te("QualityProfiles")},R.createElement(sX,G9({errorMessage:te("UnableToLoadQualityProfiles")},s,{c:!0}),R.createElement("div",{className:"QualityProfiles-qualityProfiles-Npuli"},e.map((e=>R.createElement(W9,G9({key:e.id},e,{isDeleting:t,onConfirmDeleteQualityProfile:n,onCloneQualityProfilePress:this.onCloneQualityProfilePress})))),R.createElement(nX,{className:"QualityProfiles-addQualityProfile-L9M_D QualityProfile-qualityProfile-jkXPx Card-card-aoesq",onPress:this.onEditQualityProfilePress},R.createElement("div",{className:"QualityProfiles-center-_sP2Z"},R.createElement(Lo,{name:Tt,size:45})))),R.createElement(q9,{isOpen:this.state.isQualityProfileModalOpen,onModalClose:this.onModalClose})))}}const $9=K9;function Y9(){return Y9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Y9.apply(null,arguments)}const J9={dispatchFetchQualityProfiles:cS,dispatchDeleteQualityProfile:mS,dispatchCloneQualityProfile:pS};class X9 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteQualityProfile=e=>{this.props.dispatchDeleteQualityProfile({id:e})},this.onCloneQualityProfilePress=e=>{this.props.dispatchCloneQualityProfile({id:e})}}componentDidMount(){this.props.dispatchFetchQualityProfiles()}render(){return R.createElement($9,Y9({onConfirmDeleteQualityProfile:this.onConfirmDeleteQualityProfile,onCloneQualityProfilePress:this.onCloneQualityProfilePress},this.props))}}const Z9=(0,Wy.Ng)((function(){return(0,Ky.Mz)(nT("settings.qualityProfiles",cr),(e=>e))}),J9)(X9);function e8(){return e8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e8.apply(null,arguments)}const t8=["Tab","Enter"],n8=function(e){const{isSaving:t,saveError:n,item:s,onInputChange:o,onModalClose:a,onSavePress:r,onDeleteReleaseProfilePress:i,...l}=e,{id:c,enabled:d,required:u,ignored:m,tags:h,indexerId:p}=s;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,c?"Edit Release Profile":"Add Release Profile"),R.createElement(BM,null,R.createElement(Sk,l,R.createElement(AI,null,R.createElement(Mk,null,te("EnableProfile")),R.createElement(ED,e8({type:ws,name:"enabled",helpText:te("EnabledHelpText")},d,{onChange:o}))),R.createElement(AI,null,R.createElement(Mk,null,te("MustContain")),R.createElement(ED,e8({type:$s,name:"required",helpText:te("RequiredHelpText"),kind:ao,placeholder:te("RequiredPlaceHolder"),delimiters:t8},u,{onChange:o}))),R.createElement(AI,null,R.createElement(Mk,null,te("MustNotContain")),R.createElement(ED,e8({type:$s,name:"ignored",helpText:te("IgnoredHelpText"),kind:Xs,placeholder:te("IgnoredPlaceHolder"),delimiters:t8},m,{onChange:o}))),R.createElement(AI,null,R.createElement(Mk,null,te("Indexer")),R.createElement(ED,e8({type:zs,name:"indexerId",helpText:te("IndexerIdHelpText"),helpTextWarning:te("IndexerIdHelpTextWarning")},p,{includeAny:!0,onChange:o}))),R.createElement(AI,null,R.createElement(Mk,null,te("Tags")),R.createElement(ED,e8({type:Ws,name:"tags",helpText:te("TagsHelpText")},h,{onChange:o}))))),R.createElement(HM,null,c&&R.createElement(TM,{className:"EditReleaseProfileModalContent-deleteButton-tiNge Button-button-paJ9a Link-link-RInnp",kind:Xs,onPress:i},"Delete"),R.createElement(TM,{onPress:a},"Cancel"),R.createElement(CT,{isSpinning:t,error:n,onPress:r},"Save")))};function s8(){return s8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s8.apply(null,arguments)}const o8={enabled:!0,required:[],ignored:[],includePreferredWhenRenaming:!1,tags:[],indexerId:0},a8={setReleaseProfileValue:MS,saveReleaseProfile:PS};class r8 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setReleaseProfileValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveReleaseProfile({id:this.props.id})}}componentDidMount(){this.props.id||Object.keys(o8).forEach((e=>{this.props.setReleaseProfileValue({name:e,value:o8[e]})}))}componentDidUpdate(e,t){!e.isSaving||this.props.isSaving||this.props.saveError||this.props.onModalClose()}render(){return R.createElement(n8,s8({},this.props,{onSavePress:this.onSavePress,onTestPress:this.onTestPress,onInputChange:this.onInputChange,onFieldChange:this.onFieldChange}))}}const i8=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{id:t})=>t),(e=>e.settings.releaseProfiles),((e,t)=>{const{isFetching:n,error:s,isSaving:o,saveError:a,pendingChanges:r,items:i}=t,l=e?U().find(i,{id:e}):o8,c=PI(l,r,a);return{id:e,isFetching:n,error:s,isSaving:o,saveError:a,item:c.settings,...c}}))}),a8)(r8);function l8(){return l8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l8.apply(null,arguments)}const c8=function({isOpen:e,onModalClose:t,...n}){return R.createElement(JM,{size:go,isOpen:e,onModalClose:t},R.createElement(i8,l8({},n,{onModalClose:t})))};function d8(){return d8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d8.apply(null,arguments)}const u8={clearPendingChanges:he};class m8 extends R.Component{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearPendingChanges({section:"settings.releaseProfiles"}),this.props.onModalClose()}}render(){return R.createElement(c8,d8({},this.props,{onModalClose:this.onModalClose}))}}const h8=(0,Wy.Ng)(null,u8)(m8),p8="ReleaseProfile-label-vqN2B Label-label-DYldh";class g8 extends R.Component{constructor(e,t){super(e,t),this.onEditReleaseProfilePress=()=>{this.setState({isEditReleaseProfileModalOpen:!0})},this.onEditReleaseProfileModalClose=()=>{this.setState({isEditReleaseProfileModalOpen:!1})},this.onDeleteReleaseProfilePress=()=>{this.setState({isEditReleaseProfileModalOpen:!1,isDeleteReleaseProfileModalOpen:!0})},this.onDeleteReleaseProfileModalClose=()=>{this.setState({isDeleteReleaseProfileModalOpen:!1})},this.onConfirmDeleteReleaseProfile=()=>{this.props.onConfirmDeleteReleaseProfile(this.props.id)},this.state={isEditReleaseProfileModalOpen:!1,isDeleteReleaseProfileModalOpen:!1}}render(){const{id:e,enabled:t,required:n,ignored:s,tags:o,indexerId:a,tagList:r,indexerList:i}=this.props,{isEditReleaseProfileModalOpen:l,isDeleteReleaseProfileModalOpen:c}=this.state,d=0!==a&&U().find(i,{id:a});return R.createElement(nX,{className:"ReleaseProfile-releaseProfile-xZshn Card-card-aoesq",overlayContent:!0,onPress:this.onEditReleaseProfilePress},R.createElement("div",null,n.map((e=>e?R.createElement(YO,{className:p8,key:e,kind:ao},R.createElement(G7(),{text:e,start:10,end:10})):null))),R.createElement("div",null,s.map((e=>e?R.createElement(YO,{className:p8,key:e,kind:Xs},R.createElement(G7(),{text:e,start:10,end:10})):null))),R.createElement(sW,{tags:o,tagList:r}),R.createElement("div",null,!t&&R.createElement(YO,{kind:eo,outline:!0},"Disabled"),d&&R.createElement(YO,{kind:to,outline:!0},d.name)),R.createElement(h8,{id:e,isOpen:l,onModalClose:this.onEditReleaseProfileModalClose,onDeleteReleaseProfilePress:this.onDeleteReleaseProfilePress}),R.createElement(wD,{isOpen:c,kind:Xs,title:te("DeleteReleaseProfile"),message:te("DeleteReleaseProfileMessageText"),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteReleaseProfile,onCancel:this.onDeleteReleaseProfileModalClose}))}}g8.defaultProps={enabled:!0,required:[],ignored:[],indexerId:0};const E8=g8;function f8(){return f8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f8.apply(null,arguments)}class C8 extends R.Component{constructor(e,t){super(e,t),this.onAddReleaseProfilePress=()=>{this.setState({isAddReleaseProfileModalOpen:!0})},this.onAddReleaseProfileModalClose=()=>{this.setState({isAddReleaseProfileModalOpen:!1})},this.state={isAddReleaseProfileModalOpen:!1}}render(){const{items:e,tagList:t,indexerList:n,onConfirmDeleteReleaseProfile:s,...o}=this.props;return R.createElement(hN,{legend:te("ReleaseProfiles")},R.createElement(sX,f8({errorMessage:te("UnableToLoadReleaseProfiles")},o),R.createElement("div",{className:"ReleaseProfiles-releaseProfiles-kkFx2"},R.createElement(nX,{className:"ReleaseProfiles-addReleaseProfile-Cxevu ReleaseProfile-releaseProfile-xZshn Card-card-aoesq",onPress:this.onAddReleaseProfilePress},R.createElement("div",{className:"ReleaseProfiles-center-ubhNh"},R.createElement(Lo,{name:Tt,size:45}))),e.map((e=>R.createElement(E8,f8({key:e.id,tagList:t,indexerList:n},e,{onConfirmDeleteReleaseProfile:s}))))),R.createElement(h8,{isOpen:this.state.isAddReleaseProfileModalOpen,onModalClose:this.onAddReleaseProfileModalClose})))}}const v8=C8;function S8(){return S8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S8.apply(null,arguments)}const b8={fetchIndexers:cC,fetchReleaseProfiles:bS,deleteReleaseProfile:yS};class P8 extends R.Component{constructor(...e){super(...e),this.onConfirmDeleteReleaseProfile=e=>{this.props.deleteReleaseProfile({id:e})}}componentDidMount(){this.props.fetchReleaseProfiles(),this.props.isIndexersPopulated||this.props.fetchIndexers()}render(){return R.createElement(v8,S8({},this.props,{onConfirmDeleteReleaseProfile:this.onConfirmDeleteReleaseProfile}))}}const y8=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.releaseProfiles),(e=>e.settings.indexers),GN(),((e,t,n)=>({...e,tagList:n,isIndexersPopulated:t.isPopulated,indexerList:t.items})))}),b8)(P8);class M8 extends R.Component{render(){return R.createElement(FF,{title:te("Profiles")},R.createElement(jY,{showSave:!1}),R.createElement(TF,null,R.createElement(fk.QP,{options:Ck.A},R.createElement(Z9,null),R.createElement(n9,null),R.createElement(A7,null),R.createElement(y8,null))))}}const I8=M8;var k8=n(48807);function O8(e,t=1){const n=Math.pow(10,t);return Math.round(e*n)/n}const w8=function(e){const{bytes:t,message:n}=e;if(!t)return R.createElement("div",null,n);const s=FN(20*t*60),o=FN(45*t*60),a=FN(60*t*60);return R.createElement("div",null,R.createElement("div",null,te("20MinutesTwenty",[s])),R.createElement("div",null,te("45MinutesFourtyFive",[o])),R.createElement("div",null,te("60MinutesSixty",[a])))},T8="QualityDefinition-sizeInput-_Ky1y TextInput-input-svfXu Input-input-KWeec",N8=1500,D8={min:0,max:O8(Math.pow(N8,1/1.1)),step:.1};function A8(e){return e<0?0:e>N8?N8:O8(e)}function F8(e,t){return O8(e?Math.pow(e,1/1.1):t)}class x8 extends R.Component{constructor(e,t){super(e,t),this.onSliderChange=([e,t])=>{this.setState({sliderMinSize:e,sliderMaxSize:t}),this.props.onSizeChange({minSize:O8(Math.pow(e,1.1)),maxSize:t===D8.max?null:O8(Math.pow(t,1.1))})},this.onAfterSliderChange=()=>{const{minSize:e,maxSize:t}=this.props;this.setState({sliderMiSize:F8(e,D8.min),sliderMaxSize:F8(t,D8.max)})},this.onMinSizeChange=({value:e})=>{const t=A8(e);this.setState({sliderMinSize:F8(t,D8.min)}),this.props.onSizeChange({minSize:t,maxSize:this.props.maxSize})},this.onMaxSizeChange=({value:e})=>{const t=e===N8?null:A8(e);this.setState({sliderMaxSize:F8(t,D8.max)}),this.props.onSizeChange({minSize:this.props.minSize,maxSize:t})},this.state={sliderMinSize:F8(e.minSize,D8.min),sliderMaxSize:F8(e.maxSize,D8.max)}}render(){const{id:e,quality:t,title:n,minSize:s,maxSize:o,advancedSettings:a,onTitleChange:r}=this.props,{sliderMinSize:i,sliderMaxSize:l}=this.state,c=128*s,d=o&&128*o,u=`${FN(c,!0)}/s`,m=d?`${FN(d,!0)}/s`:"Unlimited";return R.createElement("div",{className:"QualityDefinition-qualityDefinition-EV5u_"},R.createElement("div",{className:"QualityDefinition-quality-crm2x"},t.name),R.createElement("div",{className:"QualityDefinition-title-ZZZOU"},R.createElement(jO,{name:`${e}.${n}`,value:n,onChange:r})),R.createElement("div",{className:"QualityDefinition-sizeLimit-Wkn6n"},R.createElement(k8.A,{min:D8.min,max:D8.max,step:D8.step,minDistance:5,value:[i,l],withTracks:!0,snapDragDisabled:!0,className:"QualityDefinition-slider-i9tTc",trackClassName:"QualityDefinition-bar-yVvMg",thumbClassName:"QualityDefinition-handle-y0kYO",onChange:this.onSliderChange,onAfterChange:this.onAfterSliderChange}),R.createElement("div",{className:"QualityDefinition-sizes-McnDO"},R.createElement("div",null,R.createElement(vN,{anchor:R.createElement(YO,{kind:to},u),title:te("MinimumLimits"),body:R.createElement(w8,{bytes:c,message:te("NoMinimumForAnyRuntime")}),position:yo})),R.createElement("div",null,R.createElement(vN,{anchor:R.createElement(YO,{kind:ro},m),title:te("MaximumLimits"),body:R.createElement(w8,{bytes:d,message:te("NoLimitForAnyRuntime")}),position:yo})))),a&&R.createElement("div",{className:"QualityDefinition-kilobitsPerSecond-zFmRB"},R.createElement("div",null,"Min",R.createElement(gT,{className:T8,name:`${e}.min`,value:s||0,min:0,max:o?o-1:1499,step:.1,isFloat:!0,onChange:this.onMinSizeChange})),R.createElement("div",null,"Max",R.createElement(gT,{className:T8,name:`${e}.max`,value:o||N8,min:s+1,max:N8,step:.1,isFloat:!0,onChange:this.onMaxSizeChange}))))}}const R8=x8;function B8(){return B8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B8.apply(null,arguments)}const L8={setQualityDefinitionValue:eS,clearPendingChanges:he};class j8 extends R.Component{constructor(...e){super(...e),this.onTitleChange=({value:e})=>{this.props.setQualityDefinitionValue({id:this.props.id,name:"title",value:e})},this.onSizeChange=({minSize:e,maxSize:t})=>{const{id:n,minSize:s,maxSize:o}=this.props;e!==s&&this.props.setQualityDefinitionValue({id:n,name:"minSize",value:e}),t!==o&&this.props.setQualityDefinitionValue({id:n,name:"maxSize",value:t})}}componentWillUnmount(){this.props.clearPendingChanges({section:"settings.qualityDefinitions"})}render(){return R.createElement(R8,B8({},this.props,{onTitleChange:this.onTitleChange,onSizeChange:this.onSizeChange}))}}const _8=(0,Wy.Ng)(null,L8)(j8);function z8(){return z8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z8.apply(null,arguments)}class U8 extends R.Component{render(){const{items:e,advancedSettings:t,...n}=this.props;return R.createElement(hN,{legend:te("QualityDefinitions")},R.createElement(sX,z8({errorMessage:te("UnableToLoadQualityDefinitions")},n),R.createElement("div",{className:"QualityDefinitions-header-zPMYR"},R.createElement("div",{className:"QualityDefinitions-quality-YI2P0"},te("Quality")),R.createElement("div",{className:"QualityDefinitions-title-Xzibg"},te("Title")),R.createElement("div",{className:"QualityDefinitions-sizeLimit-MyefH"},te("SizeLimit")),t?R.createElement("div",{className:"QualityDefinitions-kilobitsPerSecond-c2v5p"},"Kilobits Per Second"):null),R.createElement("div",{className:"QualityDefinitions-definitions-acRUM"},e.map((e=>R.createElement(_8,z8({key:e.id},e,{advancedSettings:t}))))),R.createElement("div",{className:"QualityDefinitions-sizeLimitHelpTextContainer-GMjYa"},R.createElement("div",{className:"QualityDefinitions-sizeLimitHelpText-yMOuO"},"Limits are automatically adjusted for the book duration."))))}}const H8=U8,V8={dispatchFetchQualityDefinitions:Xv,dispatchSaveQualityDefinitions:Zv};class q8 extends R.Component{componentDidMount(){const{dispatchFetchQualityDefinitions:e,dispatchSaveQualityDefinitions:t,onChildMounted:n}=this.props;e(),n(t)}componentDidUpdate(e){const{hasPendingChanges:t,isSaving:n,onChildStateChange:s}=this.props;e.isSaving===n&&e.hasPendingChanges===t||s({isSaving:n,hasPendingChanges:t})}render(){return R.createElement(H8,this.props)}}const Q8=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.qualityDefinitions),(e=>e.settings.advancedSettings),((e,t)=>{const n=e.items.map((t=>{const n=e.pendingChanges[t.id]||{};return Object.assign({},t,n)}));return{...e,items:n,hasPendingChanges:!U().isEmpty(e.pendingChanges),advancedSettings:t}}))}),V8,null)(q8);class W8 extends R.Component{constructor(e,t){super(e,t),this.onResetDefinitionTitlesChange=({value:e})=>{this.setState({resetDefinitionTitles:e})},this.onResetQualityDefinitionsConfirmed=()=>{const e=this.state.resetDefinitionTitles;this.setState({resetDefinitionTitles:!1}),this.props.onResetQualityDefinitions(e)},this.state={resetDefinitionTitles:!1}}render(){const{onModalClose:e,isResettingQualityDefinitions:t}=this.props,n=this.state.resetDefinitionTitles;return R.createElement(_M,{onModalClose:e},R.createElement(QM,null,te("ResetQualityDefinitions")),R.createElement(BM,null,R.createElement("div",{className:"ResetQualityDefinitionsModalContent-messageContainer-4w7E0"},te("ResetQualityDefinitionsMessageText")),R.createElement(AI,null,R.createElement(Mk,null,te("ResetTitles")),R.createElement(ED,{type:ws,name:"resetDefinitionTitles",value:n,helpText:te("ResetDefinitionTitlesHelpText"),onChange:this.onResetDefinitionTitlesChange}))),R.createElement(HM,null,R.createElement(TM,{onPress:e},te("Cancel")),R.createElement(TM,{kind:Xs,onPress:this.onResetQualityDefinitionsConfirmed,isDisabled:t},te("Reset"))))}}const G8=W8;function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K8.apply(null,arguments)}const $8={executeCommand:Mc};class Y8 extends R.Component{constructor(...e){super(...e),this.onResetQualityDefinitions=e=>{this.props.executeCommand({name:oc,resetTitles:e}),this.props.onModalClose(!0)}}render(){return R.createElement(G8,K8({},this.props,{onResetQualityDefinitions:this.onResetQualityDefinitions}))}}const J8=(0,Wy.Ng)((function(){return(0,Ky.Mz)(kF(oc),(e=>({isResettingQualityDefinitions:e})))}),$8)(Y8);function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X8.apply(null,arguments)}const Z8=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,size:go,onModalClose:n},R.createElement(J8,X8({},s,{onModalClose:n})))};class e6 extends R.Component{constructor(e,t){super(e,t),this.onChildMounted=e=>{this._saveCallback=e},this.onChildStateChange=e=>{this.setState(e)},this.onResetQualityDefinitionsPress=()=>{this.setState({isConfirmQualityDefinitionResetModalOpen:!0})},this.onCloseResetQualityDefinitionsModal=()=>{this.setState({isConfirmQualityDefinitionResetModalOpen:!1})},this.onSavePress=()=>{this._saveCallback&&this._saveCallback()},this._saveCallback=null,this.state={isSaving:!1,hasPendingChanges:!1,isConfirmQualityDefinitionResetModalOpen:!1}}render(){const{isSaving:e,isResettingQualityDefinitions:t,hasPendingChanges:n}=this.state;return R.createElement(FF,{title:te("QualitySettings")},R.createElement(jY,{isSaving:e,hasPendingChanges:n,additionalButtons:R.createElement(R.Fragment,null,R.createElement(SR,null),R.createElement(jF,{label:te("ResetDefinitions"),iconName:Gn,isSpinning:t,onPress:this.onResetQualityDefinitionsPress})),onSavePress:this.onSavePress}),R.createElement(TF,null,R.createElement(Q8,{onChildMounted:this.onChildMounted,onChildStateChange:this.onChildStateChange})),R.createElement(Z8,{isOpen:this.state.isConfirmQualityDefinitionResetModalOpen,onModalClose:this.onCloseResetQualityDefinitionsModal}))}}const t6=e6;class n6 extends R.Component{render(){return R.createElement(t6,this.props)}}const s6=(0,Wy.Ng)((function(){return(0,Ky.Mz)(kF(oc),(e=>({isResettingQualityDefinitions:e})))}))(n6),o6="Settings-link-errh1 Link-link-RInnp",a6="Settings-summary-eUl9k",r6=function(){return R.createElement(FF,{title:te("Settings")},R.createElement(jY,{hasPendingChanges:!1}),R.createElement(TF,null,R.createElement(IM,{className:o6,to:"/settings/mediamanagement"},te("MediaManagement")),R.createElement("div",{className:a6},te("MediaManagementSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/profiles"},te("Profiles")),R.createElement("div",{className:a6},te("ProfilesSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/quality"},te("Quality")),R.createElement("div",{className:a6},te("QualitySettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/customformats"},"Custom Formats"),R.createElement("div",{className:a6},"Custom Formats and Settings"),R.createElement(IM,{className:o6,to:"/settings/indexers"},te("Indexers")),R.createElement("div",{className:a6},te("IndexersSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/downloadclients"},te("DownloadClients")),R.createElement("div",{className:a6},te("DownloadClientsSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/importlists"},te("Lists")),R.createElement("div",{className:a6},te("ListsSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/connect"},te("Connect")),R.createElement("div",{className:a6},te("ConnectSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/metadata"},te("Metadata")),R.createElement("div",{className:a6},te("MetadataSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/tags"},te("Tags")),R.createElement("div",{className:a6},te("TagsSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/general"},te("General")),R.createElement("div",{className:a6},te("GeneralSettingsSummary")),R.createElement(IM,{className:o6,to:"/settings/ui"},te("Ui")),R.createElement("div",{className:a6},te("UISettingsSummary"))))},i6=function(e){const{preferredProtocol:t,enableUsenet:n,enableTorrent:s,usenetDelay:o,torrentDelay:a}=e;return R.createElement("div",null,R.createElement("div",null,"Protocol: ",EI(t)),R.createElement("div",null,n?`Usenet Delay: ${o}`:"Usenet disabled"),R.createElement("div",null,s?`Torrent Delay: ${a}`:"Torrents disabled"))};function l6(e,t){return t.filter((t=>e.includes(t.id)))}const c6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)((0,Ky.Mz)(((e,{authorIds:t})=>t),WD(),l6),(e=>e.sort(((e,t)=>{const n=e.sortName,s=t.sortName;return n>s?1:n<s?-1:0})))),(0,Ky.Mz)(((e,{delayProfileIds:t})=>t),(e=>e.settings.delayProfiles.items),l6),(0,Ky.Mz)(((e,{importListIds:t})=>t),(e=>e.settings.importLists.items),l6),(0,Ky.Mz)(((e,{notificationIds:t})=>t),(e=>e.settings.notifications.items),l6),(0,Ky.Mz)(((e,{restrictionIds:t})=>t),(e=>e.settings.releaseProfiles.items),l6),(0,Ky.Mz)(((e,{indexerIds:t})=>t),(e=>e.settings.indexers.items),l6),(0,Ky.Mz)(((e,{downloadClientIds:t})=>t),(e=>e.settings.downloadClients.items),l6),((e,t,n,s,o,a,r)=>({author:e,delayProfiles:t,importLists:n,notifications:s,releaseProfiles:o,indexers:a,downloadClients:r})))}))((function(e){const{label:t,isTagUsed:n,author:s,delayProfiles:o,importLists:a,notifications:r,releaseProfiles:i,indexers:l,downloadClients:c,onModalClose:d,onDeleteTagPress:u}=e;return R.createElement(_M,{onModalClose:d},R.createElement(QM,null,"Tag Details - ",t),R.createElement(BM,null,!n&&R.createElement("div",null,te("TagIsNotUsedAndCanBeDeleted")),s.length?R.createElement(hN,{legend:te("Authors")},s.map((e=>R.createElement("div",{key:e.id},e.authorName)))):null,o.length?R.createElement(hN,{legend:te("DelayProfile")},o.map((e=>{const{id:t,preferredProtocol:n,enableUsenet:s,enableTorrent:o,usenetDelay:a,torrentDelay:r}=e;return R.createElement(i6,{key:t,preferredProtocol:n,enableUsenet:s,enableTorrent:o,usenetDelay:a,torrentDelay:r})}))):null,r.length?R.createElement(hN,{legend:te("Connections")},r.map((e=>R.createElement("div",{key:e.id},e.name)))):null,a.length?R.createElement(hN,{legend:te("ImportLists")},a.map((e=>R.createElement("div",{key:e.id},e.name)))):null,i.length?R.createElement(hN,{legend:te("ReleaseProfiles")},i.map((e=>R.createElement("div",{key:e.id,className:"TagDetailsModalContent-restriction-hY7YJ"},R.createElement("div",null,e.required.map((e=>R.createElement(YO,{key:e,kind:ao},e)))),R.createElement("div",null,e.ignored.map((e=>R.createElement(YO,{key:e,kind:Xs},e))),"s"))))):null,l.length?R.createElement(hN,{legend:te("Indexers")},l.map((e=>R.createElement("div",{key:e.id},e.name)))):null,c.length?R.createElement(hN,{legend:te("DownloadClients")},c.map((e=>R.createElement("div",{key:e.id},e.name)))):null),R.createElement(HM,null,R.createElement(TM,{className:"TagDetailsModalContent-deleteButton-Zhy3Y Button-button-paJ9a Link-link-RInnp",kind:Xs,title:n?te("IsTagUsedCannotBeDeletedWhileInUse"):void 0,isDisabled:n,onPress:u},"Delete"),R.createElement(TM,{onPress:d},"Close")))}));function d6(){return d6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d6.apply(null,arguments)}const u6=function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{size:po,isOpen:t,onModalClose:n},R.createElement(c6,d6({},s,{onModalClose:n})))};class m6 extends R.Component{constructor(e,t){super(e,t),this.onShowDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.onDeleteTagPress=()=>{this.setState({isDetailsModalOpen:!1,isDeleteTagModalOpen:!0})},this.onDeleteTagModalClose=()=>{this.setState({isDeleteTagModalOpen:!1})},this.onConfirmDeleteTag=()=>{this.props.onConfirmDeleteTag({id:this.props.id})},this.state={isDetailsModalOpen:!1,isDeleteTagModalOpen:!1}}render(){const{label:e,delayProfileIds:t,importListIds:n,notificationIds:s,restrictionIds:o,indexerIds:a,downloadClientIds:r,authorIds:i}=this.props,{isDetailsModalOpen:l,isDeleteTagModalOpen:c}=this.state,d=!!(t.length||n.length||s.length||o.length||a.length||r.length||i.length);return R.createElement(nX,{className:"Tag-tag-B2rUn Card-card-aoesq",overlayContent:!0,onPress:this.onShowDetailsPress},R.createElement("div",{className:"Tag-label-jmGXS"},e),d&&R.createElement("div",null,!!i.length&&R.createElement("div",null,i.length," authors"),!!t.length&&R.createElement("div",null,t.length," delay profile",t.length>1&&"s"),!!n.length&&R.createElement("div",null,n.length," import list",n.length>1&&"s"),!!s.length&&R.createElement("div",null,s.length," connection",s.length>1&&"s"),!!o.length&&R.createElement("div",null,o.length," restriction",o.length>1&&"s"),a.length?R.createElement("div",null,a.length," indexer",a.length>1&&"s"):null,r.length?R.createElement("div",null,r.length," download client",a.length>1&&"s"):null),!d&&R.createElement("div",null,"No links"),R.createElement(u6,{label:e,isTagUsed:d,authorIds:i,delayProfileIds:t,importListIds:n,notificationIds:s,restrictionIds:o,indexerIds:a,downloadClientIds:r,isOpen:l,onModalClose:this.onDetailsModalClose,onDeleteTagPress:this.onDeleteTagPress}),R.createElement(wD,{isOpen:c,kind:Xs,title:te("DeleteTag"),message:te("DeleteTagMessageText",[e]),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeleteTag,onCancel:this.onDeleteTagModalClose}))}}m6.defaultProps={delayProfileIds:[],importListIds:[],notificationIds:[],restrictionIds:[],indexerIds:[],downloadClientIds:[],authorIds:[]};const h6=m6,p6={onConfirmDeleteTag:fP},g6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((0,Ky.Mz)(((e,{id:t})=>t),(e=>e.tags.details.items),((e,t)=>t.find((t=>t.id===e)))),(e=>({...e})))}),p6)(h6);function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E6.apply(null,arguments)}const f6=function(e){const{items:t,...n}=e;if(!t.length){const e=R.createElement(IM,{to:"https://wiki.servarr.com/readarr/settings#tags"},"here");return R.createElement(OI,{kind:to},te("NoTagsHaveBeenAddedYet",[e]))}return R.createElement(hN,{legend:te("Tags")},R.createElement(sX,E6({errorMessage:te("UnableToLoadTags")},n),R.createElement("div",{className:"Tags-tags-MyS6m"},t.map((e=>R.createElement(g6,E6({key:e.id},e)))))))},C6={dispatchFetchTags:gP,dispatchFetchTagDetails:CP,dispatchFetchDelayProfiles:Bg,dispatchFetchImportLists:Pf,dispatchFetchNotifications:Lv,dispatchFetchReleaseProfiles:bS,dispatchFetchIndexers:cC,dispatchFetchDownloadClients:wE};class v6 extends R.Component{componentDidMount(){const{dispatchFetchTags:e,dispatchFetchTagDetails:t,dispatchFetchDelayProfiles:n,dispatchFetchImportLists:s,dispatchFetchNotifications:o,dispatchFetchReleaseProfiles:a,dispatchFetchIndexers:r,dispatchFetchDownloadClients:i}=this.props;e(),t(),n(),s(),o(),a(),r(),i()}render(){return R.createElement(f6,this.props)}}const S6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.tags),(e=>{const t=e.isFetching||e.details.isFetching,n=e.error||e.details.error,s=e.isPopulated&&e.details.isPopulated;return{...e,isFetching:t,error:n,isPopulated:s}}))}),C6)(v6),b6=function(){return R.createElement(FF,{title:te("Tags")},R.createElement(jY,{showSave:!1}),R.createElement(TF,null,R.createElement(S6,null)))};function P6(){return P6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P6.apply(null,arguments)}const y6={setUISettingsValue:eb,saveUISettings:ZS,fetchUISettings:XS,clearPendingChanges:he};class M6 extends R.Component{constructor(...e){super(...e),this.onInputChange=({name:e,value:t})=>{this.props.setUISettingsValue({name:e,value:t})},this.onSavePress=()=>{this.props.saveUISettings()}}componentDidMount(){this.props.fetchUISettings()}componentWillUnmount(){this.props.clearPendingChanges({section:"settings.ui"})}render(){return R.createElement(WY,P6({onInputChange:this.onInputChange,onSavePress:this.onSavePress},this.props))}}const I6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.settings.advancedSettings),yI("ui"),(0,Ky.Mz)((e=>e.settings.languages),(e=>{const t=e.items,n=["Any","Unknown"];return t?t.filter((e=>!n.includes(e.name))).map((e=>({key:e.id,value:e.name}))):[]})),((e,t,n)=>({advancedSettings:e,languages:n,...t})))}),y6)(M6),k6="RestoreBackupModalContent-step-ydzZd",O6="RestoreBackupModalContent-stepState-n5Yp1";function w6(){return w6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w6.apply(null,arguments)}function T6(e){return e&&e.responseJSON&&e.responseJSON.message?e.responseJSON.message:"Error restoring backup"}function N6(e,t,n){return e?{name:ms,isSpinning:!0}:t?{name:qt,kind:ao}:n?{name:gn,kinds:Xs,title:T6(n)}:{name:Hn}}class D6 extends R.Component{constructor(e,t){super(e,t),this.onPathChange=({value:e,files:t})=>{this.setState({file:t[0],path:e})},this.onRestorePress=()=>{const{id:e,onRestorePress:t}=this.props;t({id:e,file:this.state.file})},this.state={file:null,path:"",isRestored:!1,isRestarted:!1,isReloading:!1}}componentDidUpdate(e){const{isRestoring:t,restoreError:n,isRestarting:s,dispatchRestart:o}=this.props;!e.isRestoring||t||n||this.setState({isRestored:!0},(()=>{o()})),e.isRestarting&&!s&&this.setState({isRestarted:!0,isReloading:!0},(()=>{location.reload()}))}render(){const{id:e,name:t,isRestoring:n,restoreError:s,isRestarting:o,onModalClose:a}=this.props,{path:r,isRestored:i,isRestarted:l,isReloading:c}=this.state,d=!e&&!r||n||o||c;return R.createElement(_M,{onModalClose:a},R.createElement(QM,null,"Restore Backup"),R.createElement(BM,null,!!e&&te("WouldYouLikeToRestoreBackup",{name:t}),!e&&R.createElement(jO,{type:"file",name:"path",value:r,onChange:this.onPathChange}),R.createElement("div",{className:"RestoreBackupModalContent-steps-cQe_F"},R.createElement("div",{className:k6},R.createElement("div",{className:O6},R.createElement(Lo,w6({size:20},N6(n,i,s)))),R.createElement("div",null,te("Restore"))),R.createElement("div",{className:k6},R.createElement("div",{className:O6},R.createElement(Lo,w6({size:20},N6(o,l)))),R.createElement("div",null,te("Restart"))),R.createElement("div",{className:k6},R.createElement("div",{className:O6},R.createElement(Lo,w6({size:20},N6(c,!1)))),R.createElement("div",null,te("Reload"))))),R.createElement(HM,null,R.createElement("div",{className:"RestoreBackupModalContent-additionalInfo-Xoijl"},te("RestartReloadNote")),R.createElement(TM,{onPress:a},"Cancel"),R.createElement(AO,{kind:ro,isDisabled:d,isSpinning:n,onPress:this.onRestorePress},"Restore")))}}const A6=D6,F6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.backups),(e=>e.app.isRestarting),((e,t)=>{const{isRestoring:n,restoreError:s}=e;return{isRestoring:n,restoreError:s,isRestarting:t}}))}),(function(e,t){return{onRestorePress(t){e(Vb(t))},dispatchRestart(){e(aP())}}}))(A6);function x6(){return x6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x6.apply(null,arguments)}const R6=(0,Wy.Ng)(null,(function(e,t){return{onModalClose(){e(qb()),t.onModalClose()}}}))((function(e){const{isOpen:t,onModalClose:n,...s}=e;return R.createElement(JM,{isOpen:t,onModalClose:n},R.createElement(F6,x6({},s,{onModalClose:n})))}));class B6 extends R.Component{constructor(e,t){super(e,t),this.onRestorePress=()=>{this.setState({isRestoreModalOpen:!0})},this.onRestoreModalClose=()=>{this.setState({isRestoreModalOpen:!1})},this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onConfirmDeleteModalClose=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onConfirmDeletePress=()=>{const{id:e,onDeleteBackupPress:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1},(()=>{t(e)}))},this.state={isRestoreModalOpen:!1,isConfirmDeleteModalOpen:!1}}render(){const{id:e,type:t,name:n,path:s,size:o,time:a}=this.props,{isRestoreModalOpen:r,isConfirmDeleteModalOpen:i}=this.state;let l=ns,c=te("IconTooltip");return"manual"===t?(l=On,c="Manual"):"update"===t&&(l=Ps,c="Before update"),R.createElement(pO,{key:e},R.createElement(ak,{className:"BackupRow-type-cEm0B TableRowCell-cell-giPrj"},R.createElement(Lo,{name:l,title:c})),R.createElement(ak,null,R.createElement(IM,{to:`${window.Researcharr.urlBase}${s}`,noRouter:!0},n)),R.createElement(ak,null,FN(o)),R.createElement(Px,{date:a}),R.createElement(ak,{className:"BackupRow-actions-jEOfc TableRowCell-cell-giPrj"},R.createElement(Ek,{name:Xn,onPress:this.onRestorePress}),R.createElement(Ek,{title:te("DeleteBackup"),name:sn,onPress:this.onDeletePress})),R.createElement(R6,{isOpen:r,id:e,name:n,onModalClose:this.onRestoreModalClose}),R.createElement(wD,{isOpen:i,kind:Xs,title:te("DeleteBackup"),message:te("DeleteBackupMessageText",{name:n}),confirmLabel:te("Delete"),onConfirm:this.onConfirmDeletePress,onCancel:this.onConfirmDeleteModalClose}))}}const L6=B6,j6=[{name:"type",isVisible:!0},{name:"name",label:()=>te("Name"),isVisible:!0},{name:"size",label:()=>te("Size"),isVisible:!0},{name:"time",label:()=>te("Time"),isVisible:!0},{name:"actions",isVisible:!0}];class _6 extends R.Component{constructor(e,t){super(e,t),this.onRestorePress=()=>{this.setState({isRestoreModalOpen:!0})},this.onRestoreModalClose=()=>{this.setState({isRestoreModalOpen:!1})},this.state={isRestoreModalOpen:!1}}render(){const{isFetching:e,isPopulated:t,error:n,items:s,backupExecuting:o,onBackupPress:a,onDeleteBackupPress:r}=this.props,i=t&&!!s.length,l=t&&!s.length;return R.createElement(FF,{title:te("Backups")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("BackupNow"),iconName:Lt,isSpinning:o,onPress:a}),R.createElement(jF,{label:te("RestoreBackup"),iconName:Xn,onPress:this.onRestorePress}))),R.createElement(TF,null,e&&!t&&R.createElement(tM,null),!e&&!!n&&R.createElement(OI,{kind:Xs},te("UnableToLoadBackups")),l&&R.createElement(OI,{kind:to},te("NoBackupsAreAvailable")),i&&R.createElement(cO,{columns:j6},R.createElement(uO,null,s.map((e=>{const{id:t,type:n,name:s,path:o,size:a,time:i}=e;return R.createElement(L6,{key:t,id:t,type:n,name:s,path:o,size:a,time:i,onDeleteBackupPress:r})}))))),R.createElement(R6,{isOpen:this.state.isRestoreModalOpen,onModalClose:this.onRestoreModalClose}))}}const z6=_6;class U6 extends R.Component{componentDidMount(){this.props.dispatchFetchBackups()}componentDidUpdate(e){e.backupExecuting&&!this.props.backupExecuting&&this.props.dispatchFetchBackups()}render(){return R.createElement(z6,this.props)}}const H6=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.backups),kF(zl),((e,t)=>{const{isFetching:n,isPopulated:s,error:o,items:a}=e;return{isFetching:n,isPopulated:s,error:o,items:a,backupExecuting:t}}))}),(function(e,t){return{dispatchFetchBackups(){e(Hb())},onDeleteBackupPress(t){e(Qb({id:t}))},onBackupPress(){e(Mc({name:zl}))}}}))(U6),V6="LogsTableDetailsModal-detailsText-qjU64 Scroller-scroller-lhubq",q6=function(e){const{isOpen:t,message:n,exception:s,onModalClose:o}=e;return R.createElement(JM,{isOpen:t,onModalClose:o},R.createElement(_M,{onModalClose:o},R.createElement(QM,null,"Details"),R.createElement(BM,null,R.createElement("div",null,te("Message")),R.createElement(FM,{className:V6,scrollDirection:uo},n),!!s&&R.createElement("div",null,R.createElement("div",null,te("Exception")),R.createElement(FM,{className:V6,scrollDirection:uo},s))),R.createElement(HM,null,R.createElement(TM,{onPress:o},"Close"))))},Q6={level:"LogsTableRow-level-nTilo TableRowCell-cell-giPrj",info:"LogsTableRow-info-ZdpwB",debug:"LogsTableRow-debug-tF08B",trace:"LogsTableRow-trace-nN2fD",warn:"LogsTableRow-warn-Gc7Iz",error:"LogsTableRow-error-qpcON",fatal:"LogsTableRow-fatal-SMfsG",actions:"LogsTableRow-actions-yQCnd TableRowCell-cell-giPrj"};function W6(e){switch(e){case"trace":case"debug":case"info":return kn;case"warn":return nn;case"error":return zt;case"fatal":return gn;default:return Ss}}class G6 extends R.Component{constructor(e,t){super(e,t),this.onPress=()=>{this.state.isDetailsModalOpen||this.setState({isDetailsModalOpen:!0})},this.onModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.state={isDetailsModalOpen:!1}}render(){const{level:e,time:t,logger:n,message:s,exception:o,columns:a}=this.props;return R.createElement(TT,{onPress:this.onPress},a.map((o=>{const{name:a,isVisible:r}=o;return r?"level"===a?R.createElement(ak,{key:a,className:Q6.level},R.createElement(Lo,{className:Q6[e],name:W6(e),title:e})):"time"===a?R.createElement(Px,{key:a,date:t}):"logger"===a?R.createElement(ak,{key:a},n):"message"===a?R.createElement(ak,{key:a},s):"actions"===a?R.createElement(ak,{key:a,className:Q6.actions}):null:null})),R.createElement(q6,{isOpen:this.state.isDetailsModalOpen,message:s,exception:o,onModalClose:this.onModalClose}))}}const K6=G6;function $6(){return $6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$6.apply(null,arguments)}const Y6=function(e){const{isFetching:t,isPopulated:n,error:s,items:o,columns:a,selectedFilterKey:r,filters:i,totalRecords:l,clearLogExecuting:c,onRefreshPress:d,onClearLogsPress:u,onFilterSelect:m,...h}=e;return R.createElement(FF,{title:te("Logs")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("Refresh"),iconName:Gn,spinningName:Gn,isSpinning:t,onPress:d}),R.createElement(jF,{label:te("Clear"),iconName:Yt,isSpinning:c,onPress:u})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,$6({},h,{columns:a,canModifyColumns:!1}),R.createElement(jF,{label:te("Options"),iconName:Es})),R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:r,filters:i,customFilters:[],onFilterSelect:m}))),R.createElement(TF,null,t&&!n&&R.createElement(tM,null),n&&!s&&!o.length&&R.createElement(OI,{kind:to},te("NoEventsFound")),n&&!s&&!!o.length&&R.createElement("div",null,R.createElement(cO,$6({columns:a,canModifyColumns:!1},h),R.createElement(uO,null,o.map((e=>R.createElement(K6,$6({key:e.id,columns:a},e)))))),R.createElement(ex,$6({totalRecords:l,isFetching:t},h)))))};function J6(){return J6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J6.apply(null,arguments)}const X6={executeCommand:Mc,...D};class Z6 extends R.Component{constructor(...e){super(...e),this.onFirstPagePress=()=>{this.props.gotoLogsFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoLogsPreviousPage()},this.onNextPagePress=()=>{this.props.gotoLogsNextPage()},this.onLastPagePress=()=>{this.props.gotoLogsLastPage()},this.onPageSelect=e=>{this.props.gotoLogsPage({page:e})},this.onSortPress=e=>{this.props.setLogsSort({sortKey:e})},this.onFilterSelect=e=>{this.props.setLogsFilter({selectedFilterKey:e})},this.onTableOptionChange=e=>{this.props.setLogsTableOption(e),e.pageSize&&this.props.gotoLogsFirstPage()},this.onRefreshPress=()=>{this.props.gotoLogsFirstPage()},this.onClearLogsPress=()=>{this.props.executeCommand({name:Vl,commandFinished:this.onCommandFinished})},this.onCommandFinished=()=>{this.props.gotoLogsFirstPage()}}componentDidMount(){const{useCurrentPage:e,fetchLogs:t,gotoLogsFirstPage:n}=this.props;e?t():n()}componentDidUpdate(e){e.clearLogExecuting&&!this.props.clearLogExecuting&&this.props.gotoLogsFirstPage()}render(){return R.createElement(Y6,J6({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onSortPress:this.onSortPress,onFilterSelect:this.onFilterSelect,onTableOptionChange:this.onTableOptionChange,onRefreshPress:this.onRefreshPress,onClearLogsPress:this.onClearLogsPress},this.props))}}const eee=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.logs),kF(Vl),((e,t)=>({clearLogExecuting:t,...e})))}),X6)(Z6));function tee(e,t,n=[]){const s=e?"\\":"/";return`${t}${s}${n.join(s)}`}class nee extends R.Component{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuItemPress=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1}}render(){const{current:e}=this.props;return R.createElement(CA,null,R.createElement(bA,{onPress:this.onMenuButtonPress},e),R.createElement(yA,{isOpen:this.state.isMenuOpen},R.createElement(kA,{to:"/system/logs/files"},"Log Files"),R.createElement(kA,{to:"/system/logs/files/update"},"Updater Log Files")))}}const see=nee;class oee extends R.Component{render(){const{filename:e,lastWriteTime:t,downloadUrl:n}=this.props;return R.createElement(pO,null,R.createElement(ak,null,e),R.createElement(Px,{date:t}),R.createElement(ak,{className:"LogFilesTableRow-download-sxjYG TableRowCell-cell-giPrj"},R.createElement(IM,{to:n,target:"_blank",noRouter:!0},"Download")))}}const aee=oee;function ree(){return ree=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ree.apply(null,arguments)}const iee=[{name:"filename",label:()=>te("Filename"),isVisible:!0},{name:"lastWriteTime",label:()=>te("LastWriteTime"),isVisible:!0},{name:"download",isVisible:!0}];class lee extends R.Component{render(){const{isFetching:e,items:t,deleteFilesExecuting:n,currentLogView:s,location:o,onRefreshPress:a,onDeleteFilesPress:r,...i}=this.props;return R.createElement(FF,{title:te("LogFiles")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(see,{current:s}),R.createElement(SR,null),R.createElement(jF,{label:te("Refresh"),iconName:Gn,spinningName:Gn,isSpinning:e,onPress:a}),R.createElement(jF,{label:te("Clear"),iconName:Yt,isSpinning:n,onPress:r}))),R.createElement(TF,null,R.createElement(OI,null,R.createElement("div",null,"Log files are located in: ",o),"Log Files"===s&&R.createElement("div",null,"The log level defaults to 'Info' and can be changed in ",R.createElement(IM,{to:"/settings/general"},"General Settings"))),e&&R.createElement(tM,null),!e&&!!t.length&&R.createElement("div",null,R.createElement(cO,ree({columns:iee},i),R.createElement(uO,null,t.map((e=>R.createElement(aee,ree({key:e.id},e))))))),!e&&!t.length&&R.createElement(OI,{kind:to},te("NoLogFiles"))))}}const cee=lee;function dee(){return dee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dee.apply(null,arguments)}const uee={fetchLogFiles:sP,executeCommand:Mc};class mee extends R.Component{constructor(...e){super(...e),this.onRefreshPress=()=>{this.props.fetchLogFiles()},this.onDeleteFilesPress=()=>{this.props.executeCommand({name:Ql,commandFinished:this.onCommandFinished})},this.onCommandFinished=()=>{this.props.fetchLogFiles()}}componentDidMount(){this.props.fetchLogFiles()}render(){return R.createElement(cee,dee({onRefreshPress:this.onRefreshPress,onDeleteFilesPress:this.onDeleteFilesPress},this.props))}}const hee=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.logFiles),(e=>e.system.status.item),kF(Ql),((e,t,n)=>{const{isFetching:s,items:o}=e,{appData:a,isWindows:r}=t;return{isFetching:s,items:o,deleteFilesExecuting:n,currentLogView:"Log Files",location:tee(r,a,["logs"])}}))}),uee)(mee);function pee(){return pee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pee.apply(null,arguments)}const gee={fetchUpdateLogFiles:oP,executeCommand:Mc};class Eee extends R.Component{constructor(...e){super(...e),this.onRefreshPress=()=>{this.props.fetchUpdateLogFiles()},this.onDeleteFilesPress=()=>{this.props.executeCommand({name:Wl})}}componentDidMount(){this.props.fetchUpdateLogFiles()}componentDidUpdate(e){e.deleteFilesExecuting&&!this.props.deleteFilesExecuting&&this.props.fetchUpdateLogFiles()}render(){return R.createElement(cee,pee({onRefreshPress:this.onRefreshPress,onDeleteFilesPress:this.onDeleteFilesPress},this.props))}}const fee=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.updateLogFiles),(e=>e.system.status.item),kF(Wl),((e,t,n)=>{const{isFetching:s,items:o}=e,{appData:a,isWindows:r}=t;return{isFetching:s,items:o,deleteFilesExecuting:n,currentLogView:"Updater Log Files",location:tee(r,a,["UpdateLogs"])}}))}),gee)(Eee);class Cee extends R.Component{render(){return R.createElement(sJ,null,R.createElement(Gy.qh,{exact:!0,path:"/system/logs/files",component:hee}),R.createElement(Gy.qh,{path:"/system/logs/files/update",component:fee}))}}const vee=Cee;function See(e){return tj(ko()().diff(e))}class bee extends R.Component{constructor(e,t){super(e,t),this.onTimeout=()=>{this.setState({uptime:See(this.props.startTime)}),this._timeoutId=setTimeout(this.onTimeout,1e3)};const{startTime:n,timeFormat:s,longDateFormat:o}=e;this._timeoutId=null,this.state={uptime:See(n),startTime:fx(n,o,s,{includeSeconds:!0})}}componentDidMount(){this._timeoutId=setTimeout(this.onTimeout,1e3)}componentDidUpdate(e){const{startTime:t,timeFormat:n,longDateFormat:s}=this.props;t===e.startTime&&n===e.timeFormat&&s===e.longDateFormat||this.setState({uptime:See(t),startTime:fx(t,s,n,{includeSeconds:!0})})}componentWillUnmount(){this._timeoutId&&(this._timeoutId=clearTimeout(this._timeoutId))}render(){const{uptime:e,startTime:t}=this.state;return R.createElement("span",{title:t},e)}}const Pee=bee;class yee extends R.Component{render(){const{version:e,packageVersion:t,packageAuthor:n,isNetCore:s,isDocker:o,runtimeVersion:a,databaseVersion:r,databaseType:i,migrationVersion:l,appData:c,startupPath:d,mode:u,startTime:m,timeFormat:h,longDateFormat:p}=this.props;return R.createElement(hN,{legend:te("About")},R.createElement(sN,{className:"About-descriptionList-Ubr6l DescriptionList-descriptionList-o7bt3"},R.createElement(cN,{title:te("Version"),data:e}),t&&R.createElement(cN,{title:te("PackageVersion"),data:n?R.createElement("span",null," ",t," "," by "," ",R.createElement(ZM,{data:n})," "):t}),s&&R.createElement(cN,{title:te("NETCore"),data:`Yes (${a})`}),o&&R.createElement(cN,{title:te("Docker"),data:"Yes"}),R.createElement(cN,{title:te("Database"),data:`${EI(i)} ${r}`}),R.createElement(cN,{title:te("DatabaseMigration"),data:l}),R.createElement(cN,{title:te("AppDataDirectory"),data:c}),R.createElement(cN,{title:te("StartupDirectory"),data:d}),R.createElement(cN,{title:te("Mode"),data:EI(u)}),R.createElement(cN,{title:te("Uptime"),data:R.createElement(Pee,{startTime:m,timeFormat:h,longDateFormat:p})})))}}const Mee=yee,Iee={fetchStatus:Lb};class kee extends R.Component{componentDidMount(){this.props.fetchStatus()}render(){return R.createElement(Mee,this.props)}}const Oee=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.status),mx(),((e,t)=>({...e.item,timeFormat:t.timeFormat,longDateFormat:t.longDateFormat})))}),Iee)(kee),wee="DiskSpace-space-Pgv0A TableRowCell-cell-giPrj",Tee=[{name:"path",label:()=>te("Location"),isVisible:!0},{name:"freeSpace",label:()=>te("FreeSpace"),isVisible:!0},{name:"totalSpace",label:()=>te("TotalSpace"),isVisible:!0},{name:"progress",isVisible:!0}];class Nee extends R.Component{render(){const{isFetching:e,items:t}=this.props;return R.createElement(hN,{legend:te("DiskSpace")},e&&R.createElement(tM,null),!e&&R.createElement(cO,{columns:Tee},R.createElement(uO,null,t.map((e=>{const{freeSpace:t,totalSpace:n}=e,s=Math.round(100-t/n*100);let o=so;return s>90?o=Xs:s>80&&(o=ro),R.createElement(pO,{key:e.path},R.createElement(ak,null,e.path,e.label&&` (${e.label})`),R.createElement(ak,{className:wee},FN(t)),R.createElement(ak,{className:wee},FN(n)),R.createElement(ak,{className:wee},R.createElement(AR,{progress:s,kind:o,size:go,showText:s>=12,text:`${s}%`})))})))))}}const Dee=Nee,Aee={fetchDiskSpace:_b};class Fee extends R.Component{componentDidMount(){this.props.fetchDiskSpace()}render(){return R.createElement(Dee,this.props)}}const xee=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.diskSpace),(e=>{const{isFetching:t,items:n}=e;return{isFetching:t,items:n}}))}),Aee)(Fee),Ree="styles-logo-WwFI0",Bee="styles-logoContainer-VtmaF";class Lee extends R.Component{render(){return R.createElement(hN,{legend:"Donations"},R.createElement("div",{className:Bee,title:"Radarr"},R.createElement(IM,{to:"https://opencollective.com/radarr"},R.createElement("img",{className:Ree,src:`${window.Researcharr.urlBase}/Content/Images/Icons/logo-radarr.png`}))),R.createElement("div",{className:Bee,title:"Lidarr"},R.createElement(IM,{to:"https://opencollective.com/lidarr"},R.createElement("img",{className:Ree,src:`${window.Researcharr.urlBase}/Content/Images/Icons/logo-lidarr.png`}))),R.createElement("div",{className:Bee,title:"Readarr"},R.createElement(IM,{to:"https://opencollective.com/readarr"},R.createElement("img",{className:Ree,src:`${window.Researcharr.urlBase}/Content/Images/Icons/logo-readarr.png`}))),R.createElement("div",{className:Bee,title:"Prowlarr"},R.createElement(IM,{to:"https://opencollective.com/prowlarr"},R.createElement("img",{className:Ree,src:`${window.Researcharr.urlBase}/Content/Images/Icons/logo-prowlarr.png`}))),R.createElement("div",{className:Bee,title:"Sonarr"},R.createElement(IM,{to:"https://opencollective.com/sonarr"},R.createElement("img",{className:Ree,src:`${window.Researcharr.urlBase}/Content/Images/Icons/logo-sonarr.png`}))))}}const jee=Lee,_ee=[{className:"Health-status-QbfEq",name:"type",isVisible:!0},{name:"message",label:()=>te("Message"),isVisible:!0},{name:"actions",label:()=>te("Actions"),isVisible:!0}];class zee extends R.Component{render(){const{isFetching:e,isPopulated:t,items:n}=this.props,s=!!n.length;return R.createElement(hN,{legend:R.createElement("div",{className:"Health-legend-aUEiW"},"Health",e&&t&&R.createElement(tM,{className:"Health-loading-qxbW3 LoadingIndicator-loading-DWfav",size:20}))},e&&!t&&R.createElement(tM,null),!s&&R.createElement("div",{className:"Health-healthOk-mf6pA"},te("HealthNoIssues")),s&&R.createElement(cO,{columns:_ee},R.createElement(uO,null,n.map((e=>{const t=function(e){switch(e){case"IndexerRssCheck":case"IndexerSearchCheck":case"IndexerStatusCheck":case"IndexerJackettAllCheck":case"IndexerLongTermStatusCheck":return R.createElement(Ek,{name:is,title:te("Settings"),to:"/settings/indexers"});case"DownloadClientCheck":case"DownloadClientStatusCheck":case"ImportMechanismCheck":case"RemotePathMappingCheck":return R.createElement(Ek,{name:is,title:te("Settings"),to:"/settings/downloadclients"});case"NotificationStatusCheck":return R.createElement(Ek,{name:is,title:te("Settings"),to:"/settings/connect"});case"RootFolderCheck":return R.createElement(Ek,{name:as,title:te("AuthorEditor"),to:"/authoreditor"});case"UpdateCheck":return R.createElement(Ek,{name:Ps,title:te("Updates"),to:"/system/updates"});default:return}}(e.source),n=function(e,t){switch(e){case"IndexerStatusCheck":case"IndexerLongTermStatusCheck":return R.createElement(TR,{name:Cs,title:te("TestAll"),isSpinning:t.isTestingAllIndexers,onPress:t.dispatchTestAllIndexers});case"DownloadClientCheck":case"DownloadClientStatusCheck":return R.createElement(TR,{name:Cs,title:te("TestAll"),isSpinning:t.isTestingAllDownloadClients,onPress:t.dispatchTestAllDownloadClients})}}(e.source,this.props);let s=ro;switch(e.type.toLowerCase()){case"error":s=Xs;break;default:case"warning":s=ro;break;case"notice":s=to}return R.createElement(pO,{key:`health${e.message}`},R.createElement(ak,null,R.createElement(Lo,{name:nn,kind:s,title:EI(e.type)})),R.createElement(ak,null,e.message),R.createElement(ak,null,R.createElement(Ek,{name:Is,to:e.wikiUrl,title:te("ReadTheWikiForMoreInformation")}),t,!!n&&n))})))))}}const Uee=zee,Hee={dispatchFetchHealth:jb,dispatchTestAllDownloadClients:BE,dispatchTestAllIndexers:CC};class Vee extends R.Component{componentDidMount(){this.props.dispatchFetchHealth()}render(){const{dispatchFetchHealth:e,...t}=this.props;return R.createElement(Uee,t)}}const qee=(0,Wy.Ng)((function(){return(0,Ky.Mz)(QA(),(e=>e.system.health),(e=>e.settings.downloadClients.isTestingAll),(e=>e.settings.indexers.isTestingAll),((e,t,n,s)=>{const{isFetching:o,isPopulated:a}=t;return{isFetching:o,isPopulated:a,items:e,isTestingAllDownloadClients:n,isTestingAllIndexers:s}}))}),Hee)(Vee);class Qee extends R.Component{render(){return R.createElement(hN,{legend:te("MoreInfo")},R.createElement(sN,null,R.createElement(iN,null,"Home page"),R.createElement(aN,null,R.createElement(IM,{to:"https://readarr.com/"},"readarr.com")),R.createElement(iN,null,"Wiki"),R.createElement(aN,null,R.createElement(IM,{to:"https://wiki.servarr.com/readarr"},"Wiki")),R.createElement(iN,null,"Reddit"),R.createElement(aN,null,R.createElement(IM,{to:"https://www.reddit.com/r/Readarr/"},"Readarr")),R.createElement(iN,null,"Discord"),R.createElement(aN,null,R.createElement(IM,{to:"https://readarr.com/discord"},"Readarr on Discord")),R.createElement(iN,null,"Source"),R.createElement(aN,null,R.createElement(IM,{to:"https://github.com/readarr/Readarr/"},"github.com/Readarr/Readarr")),R.createElement(iN,null,"Feature Requests"),R.createElement(aN,null,R.createElement(IM,{to:"https://github.com/readarr/Readarr/issues"},"github.com/Readarr/Readarr/issues"))))}}const Wee=Qee;class Gee extends R.Component{render(){return R.createElement(FF,{title:te("Status")},R.createElement(TF,null,R.createElement(qee,null),R.createElement(xee,null),R.createElement(Oee,null),R.createElement(Wee,null),R.createElement(jee,null)))}}const Kee=Gee,$ee=function(e,t){return e?ko()(e).format(t):""};function Yee(e){var t;const{commandName:n,body:s,clientUserAgent:o}=e,a=[...null!=(t=s.authorIds)?t:[]];s.authorId&&a.push(s.authorId);const r=(0,Wy.d4)((i=a,(0,Ky.Mz)((e=>e.authors.itemMap),(e=>e.authors.items),((e,t)=>i.reduce(((n,s)=>{const o=t[e[s]];return o&&n.push(o),n}),[]))))).sort(((e,t)=>e.sortName.localeCompare(t.sortName)));var i,l;return R.createElement(ak,null,R.createElement("span",{className:"QueuedTaskRowNameCell-commandName-wXKoI"},n,r.length?R.createElement("span",null," - ",(l=r.map((e=>e.authorName)))?l.length>11?R.createElement("span",{title:l.join(", ")},l.slice(0,10).join(", "),", ",l.length-10," more"):R.createElement("span",null,l.join(", ")):null):null),o?R.createElement("span",{className:"QueuedTaskRowNameCell-userAgent-EbkpU",title:te("TaskUserAgentTooltip")},te("From"),": ",o):null)}function Jee(e,t,n,s,o){return s?{queuedAt:ko()(e).fromNow(),startedAt:t?ko()(t).fromNow():"-",endedAt:n?ko()(n).fromNow():"-"}:{queuedAt:$ee(e,o),startedAt:t?$ee(t,o):"-",endedAt:n?$ee(n,o):"-"}}function Xee(e){const{id:t,trigger:n,commandName:s,queued:o,started:a,ended:r,status:i,duration:l,message:c,body:d,clientUserAgent:u}=e,m=(0,Wy.wA)(),{longDateFormat:h,shortDateFormat:p,showRelativeDates:g,timeFormat:E}=(0,Wy.d4)(mx()),f=(0,R.useRef)(null),[C,v]=(0,R.useState)(Jee(o,a,r,g,p)),[S,b,P]=function(){const[e,t]=(0,R.useState)(!1);return[e,(0,R.useCallback)((()=>{t(!0)}),[t]),(0,R.useCallback)((()=>{t(!1)}),[t])]}(),y=(0,R.useCallback)((()=>{m(Ic({id:t}))}),[t,m]);(0,R.useEffect)((()=>(f.current=setTimeout((()=>{v(Jee(o,a,r,g,p))}),3e4),()=>{f.current&&clearTimeout(f.current)})),[o,a,r,g,p,v]);const{queuedAt:M,startedAt:I,endedAt:k}=C;let O=Wn;return"manual"===n?O=On:"scheduled"===n&&(O=ns),R.createElement(pO,null,R.createElement(ak,{className:"QueuedTaskRow-trigger-TgEBj TableRowCell-cell-giPrj"},R.createElement("span",{className:"QueuedTaskRow-triggerContent-IhBio"},R.createElement(Lo,{name:O,title:EI(n)}),R.createElement(Lo,function(e,t){const n=EI(e);switch(e){case"queued":return{name:Hn,title:n};case"started":return{name:Gn,isSpinning:!0,title:n};case"completed":return{name:qt,kind:ao,title:"Completed"===t?n:`${n}: ${t}`};case"failed":return{name:gn,kind:Xs,title:`${n}: ${t}`};default:return{name:Ss,title:n}}}(i,c)))),R.createElement(Yee,{commandName:s,body:d,clientUserAgent:u}),R.createElement(ak,{className:"QueuedTaskRow-queued-MHcI5 TableRowCell-cell-giPrj",title:fx(o,h,E)},M),R.createElement(ak,{className:"QueuedTaskRow-started-oukkt TableRowCell-cell-giPrj",title:fx(a,h,E)},I),R.createElement(ak,{className:"QueuedTaskRow-ended-TBdCJ TableRowCell-cell-giPrj",title:fx(r,h,E)},k),R.createElement(ak,{className:"QueuedTaskRow-duration-EJQc1 TableRowCell-cell-giPrj"},tj(l)),R.createElement(ak,{className:"QueuedTaskRow-actions-QYryf TableRowCell-cell-giPrj"},"queued"===i&&R.createElement(Ek,{title:te("RemovedFromTaskQueue"),name:Kn,onPress:b})),R.createElement(wD,{isOpen:S,kind:Xs,title:te("Cancel"),message:te("CancelPendingTask"),confirmLabel:te("YesCancel"),cancelLabel:te("NoLeaveIt"),onConfirm:y,onCancel:P}))}function Zee(){return Zee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zee.apply(null,arguments)}const ete=[{name:"trigger",label:"",isVisible:!0},{name:"commandName",label:()=>te("Name"),isVisible:!0},{name:"queued",label:()=>te("Queued"),isVisible:!0},{name:"started",label:()=>te("Started"),isVisible:!0},{name:"ended",label:()=>te("Ended"),isVisible:!0},{name:"duration",label:()=>te("Duration"),isVisible:!0},{name:"actions",isVisible:!0}];function tte(){const e=(0,Wy.wA)(),{isFetching:t,isPopulated:n,items:s}=(0,Wy.d4)((e=>e.commands));return(0,R.useEffect)((()=>{e(yc())}),[e]),R.createElement(hN,{legend:te("Queue")},t&&!n&&R.createElement(tM,null),n&&R.createElement(cO,{columns:ete},R.createElement(uO,null,s.map((e=>R.createElement(Xee,Zee({key:e.id},e)))))))}const nte="ScheduledTaskRow-lastDuration-MKdDv TableRowCell-cell-giPrj",ste="ScheduledTaskRow-nextExecution-dSCD3 TableRowCell-cell-giPrj";function ote(e){const{lastExecution:t,nextExecution:n,interval:s,showRelativeDates:o,shortDateFormat:a}=e,r=0===s;return o?{lastExecutionTime:ko()(t).fromNow(),nextExecutionTime:r?"-":ko()(n).fromNow()}:{lastExecutionTime:$ee(t,a),nextExecutionTime:r?"-":$ee(n,a)}}class ate extends R.Component{constructor(e,t){super(e,t),this.state=ote(e),this._updateTimeoutId=null}componentDidMount(){this.setUpdateTimer()}componentDidUpdate(e){const{lastExecution:t,nextExecution:n}=this.props;t===e.lastExecution&&n===e.nextExecution||this.setState(ote(this.props))}componentWillUnmount(){this._updateTimeoutId&&(this._updateTimeoutId=clearTimeout(this._updateTimeoutId))}setUpdateTimer(){const{interval:e}=this.props,t=e<60?1e4:6e4;this._updateTimeoutId=setTimeout((()=>{this.setState(ote(this.props)),this.setUpdateTimer()}),t)}render(){const{name:e,interval:t,lastExecution:n,lastStartTime:s,lastDuration:o,nextExecution:a,isQueued:r,isExecuting:i,longDateFormat:l,timeFormat:c,onExecutePress:d}=this.props,{lastExecutionTime:u,nextExecutionTime:m}=this.state,h=0===t,p=!h&&ko()().isAfter(a),g=!h&&!p,E=ko().duration(t,"minutes").humanize().replace(/an?(?=\s)/,"1"),f=ko()(s).isAfter("2010-01-01");return R.createElement(pO,null,R.createElement(ak,null,e),R.createElement(ak,{className:"ScheduledTaskRow-interval-pe_BC TableRowCell-cell-giPrj"},h?"disabled":E),R.createElement(ak,{className:"ScheduledTaskRow-lastExecution-Xf4fD TableRowCell-cell-giPrj",title:fx(n,l,c)},u),!f&&R.createElement(ak,{className:nte},"-"),f&&R.createElement(ak,{className:nte,title:o},tj(o)),h&&R.createElement(ak,{className:ste},"-"),p&&r&&R.createElement(ak,{className:ste},"queued"),p&&!r&&R.createElement(ak,{className:ste},"now"),g&&R.createElement(ak,{className:ste,title:fx(a,l,c,{includeSeconds:!0})},m),R.createElement(ak,{className:"ScheduledTaskRow-actions-t2m8V TableRowCell-cell-giPrj"},R.createElement(TR,{name:Gn,spinningName:Gn,isSpinning:i,onPress:d})))}}const rte=ate;class ite extends R.Component{componentDidUpdate(e){const{isExecuting:t,dispatchFetchTask:n}=this.props;!t&&e.isExecuting&&setTimeout((()=>{n()}),1e3)}render(){const{dispatchFetchTask:e,...t}=this.props;return R.createElement(rte,t)}}const lte=(0,Wy.Ng)((function(){return(0,Ky.Mz)(((e,{taskName:t})=>t),IF(),mx(),((e,t,n)=>{const s=lc(t,{name:e});return{isQueued:!(!s||"queued"!==s.state),isExecuting:cc(s),showRelativeDates:n.showRelativeDates,shortDateFormat:n.shortDateFormat,longDateFormat:n.longDateFormat,timeFormat:n.timeFormat}}))}),(function(e,t){const n=t.taskName;return{dispatchFetchTask(){e(zb({id:t.id}))},onExecutePress(){e(Mc({name:n}))}}}))(ite);function cte(){return cte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cte.apply(null,arguments)}const dte=[{name:"name",label:()=>te("Name"),isVisible:!0},{name:"interval",label:()=>te("Interval"),isVisible:!0},{name:"lastExecution",label:()=>te("LastExecution"),isVisible:!0},{name:"lastDuration",label:()=>te("LastDuration"),isVisible:!0},{name:"nextExecution",label:()=>te("NextExecution"),isVisible:!0},{name:"actions",isVisible:!0}],ute=function(e){const{isFetching:t,isPopulated:n,items:s}=e;return R.createElement(hN,{legend:te("Scheduled")},t&&!n&&R.createElement(tM,null),n&&R.createElement(cO,{columns:dte},R.createElement(uO,null,s.map((e=>R.createElement(lte,cte({key:e.id},e)))))))},mte={dispatchFetchTasks:Ub};class hte extends R.Component{componentDidMount(){this.props.dispatchFetchTasks()}render(){return R.createElement(ute,this.props)}}const pte=(0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.system.tasks),(e=>e))}),mte)(hte),gte=function(){return R.createElement(FF,{title:te("Tasks")},R.createElement(TF,null,R.createElement(pte,null),R.createElement(tte,null)))},Ete="Updates-messageContainer-nvvHm",fte="Updates-message-zg2_G",Cte="Updates-loading-bdWcM LoadingIndicator-loading-DWfav",vte="Updates-label-hat6K Label-label-DYldh",Ste=/\d+\.\d+\.\d+\.\d+/i,bte=function(){const e=(0,Wy.d4)((e=>e.app.version)),{packageUpdateMechanismMessage:t}=(0,Wy.d4)(Yy()),{shortDateFormat:n,longDateFormat:s,timeFormat:o}=(0,Wy.d4)(mx()),a=(0,Wy.d4)(kF(_l)),{isFetching:r,isPopulated:i,updatesError:l,generalSettingsError:c,items:d,updateMechanism:u}=(0,Wy.d4)((0,Ky.Mz)((e=>e.system.updates),(e=>e.settings.general),((e,t)=>{const{error:n,items:s}=e;return{isFetching:e.isFetching||t.isFetching,isPopulated:e.isPopulated&&t.isPopulated,updatesError:n,generalSettingsError:t.error,items:s,updateMechanism:t.item.updateMechanism}}))),m=(0,Wy.wA)(),[h,p]=(0,R.useState)(!1),g=!(!l&&!c),E=i&&!g&&d.length>0,f=i&&!g&&!d.length,C=te("UpdateAppDirectlyLoadError"),v={external:te("ExternalUpdater"),apt:te("AptUpdater"),docker:te("DockerUpdater")},{isMajorUpdate:S,hasUpdateToInstall:b}=(0,R.useMemo)((()=>{var t,n,s,o,a;const r=parseInt(null!=(t=null==(n=e.match(Ste))?void 0:n[0])?t:"0"),i=null==(s=d[0])?void 0:s.version;return{isMajorUpdate:parseInt(null!=(o=null==i||null==(a=i.match(Ste))?void 0:a[0])?o:"0")>r,hasUpdateToInstall:d.some((e=>e.installable&&e.latest))}}),[e,d]),P=E&&!b,y=(0,R.useCallback)((()=>{S?p(!0):m(Mc({name:_l}))}),[S,p,m]),M=(0,R.useCallback)((()=>{p(!1),m(Mc({name:_l,installMajorUpdate:!0}))}),[p,m]),I=(0,R.useCallback)((()=>{p(!1)}),[p]);return(0,R.useEffect)((()=>{m(Wb()),m(GE())}),[m]),R.createElement(FF,{title:te("Updates")},R.createElement(TF,null,i||g?null:R.createElement(tM,null),f?R.createElement(OI,{kind:to},te("NoUpdatesAreAvailable")):null,b?R.createElement("div",{className:Ete},"builtIn"===u||"script"===u?R.createElement(AO,{kind:so,isSpinning:a,onPress:y},te("InstallLatest")):R.createElement(R.Fragment,null,R.createElement(Lo,{name:Ms,kind:ro,size:30}),R.createElement("div",{className:fte},C," ",R.createElement(ZM,{data:t||v[u]||v.external}))),r?R.createElement(tM,{className:Cte,size:20}):null):null,P&&R.createElement("div",{className:Ete},R.createElement(Lo,{className:"Updates-upToDateIcon-jwFdy",name:Wt,size:30}),R.createElement("div",{className:fte},te("OnLatestVersion")),r&&R.createElement(tM,{className:Cte,size:20})),E&&R.createElement("div",null,d.map((t=>R.createElement("div",{key:t.version,className:"Updates-update-m07_m"},R.createElement("div",{className:"Updates-info-KSvcv"},R.createElement("div",{className:"Updates-version-RDMv4"},t.version),R.createElement("div",{className:"Updates-space-lc7tw"},""),R.createElement("div",{className:"Updates-date-NpIbP",title:fx(t.releaseDate,s,o)},$ee(t.releaseDate,n)),"master"===t.branch?null:R.createElement(YO,{className:vte},t.branch),t.version===e?R.createElement(YO,{className:vte,kind:ao,title:fx(t.installedOn,s,o)},te("CurrentlyInstalled")):null,t.version!==e&&t.installedOn?R.createElement(YO,{className:vte,kind:no,title:fx(t.installedOn,s,o)},te("PreviouslyInstalled")):null),t.changes?R.createElement("div",null,R.createElement(eI,{title:te("New"),changes:t.changes.new}),R.createElement(eI,{title:te("Fixed"),changes:t.changes.fixed})):R.createElement("div",null,te("MaintenanceRelease")))))),l?R.createElement(OI,{kind:ro},te("FailedToFetchUpdates")):null,c?R.createElement(OI,{kind:Xs},te("FailedToFetchSettings")):null,R.createElement(wD,{isOpen:h,kind:ro,title:te("InstallMajorVersionUpdate"),message:R.createElement("div",null,R.createElement("div",null,te("InstallMajorVersionUpdateMessage")),R.createElement("div",null,R.createElement(ZM,{data:te("InstallMajorVersionUpdateMessageLink",{domain:"readarr.com",url:"https://readarr.com/#downloads"})}))),confirmLabel:te("Install"),onConfirm:M,onCancel:I})))},Pte={quality:"UnmappedFilesTableHeader-quality-XG9qN VirtualTableHeaderCell-headerCell-oq_lz",size:"UnmappedFilesTableHeader-size-VkyM8 VirtualTableHeaderCell-headerCell-oq_lz",dateAdded:"UnmappedFilesTableHeader-dateAdded-moF2N VirtualTableHeaderCell-headerCell-oq_lz",path:"UnmappedFilesTableHeader-path-gV9qC VirtualTableHeaderCell-headerCell-oq_lz",actions:"UnmappedFilesTableHeader-actions-VGcrD VirtualTableHeaderCell-headerCell-oq_lz"};function yte(){return yte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yte.apply(null,arguments)}const Mte=function(e){const{columns:t,onTableOptionChange:n,allSelected:s,allUnselected:o,onSelectAllChange:a,...r}=e;return R.createElement(RQ,null,t.map((e=>{const{name:i,label:l,isSortable:c,isVisible:d}=e;return d?"select"===i?R.createElement(_Q,{key:i,allSelected:s,allUnselected:o,onSelectAllChange:a}):"actions"===i?R.createElement(jQ,yte({key:i,className:Pte[i],name:i,isSortable:!1},r),R.createElement(Xk,{columns:t,onTableOptionChange:n},R.createElement(Ek,{name:At}))):R.createElement(jQ,yte({key:i,className:Pte[i],name:i,isSortable:c},r),l):null})))},Ite={path:"UnmappedFilesTableRow-path-uHNHa VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",quality:"UnmappedFilesTableRow-quality-rUh2u VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",dateAdded:"UnmappedFilesTableRow-dateAdded-DJgVj VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",size:"UnmappedFilesTableRow-size-gF85F VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",actions:"UnmappedFilesTableRow-actions-jGDxU VirtualTableRowCell-cell-_Qpcm TableRowCell-cell-giPrj",checkInput:"UnmappedFilesTableRow-checkInput-eVMdL CheckInput-input-VAM1T"};class kte extends R.Component{constructor(e,t){super(e,t),this.onDetailsPress=()=>{this.setState({isDetailsModalOpen:!0})},this.onDetailsModalClose=()=>{this.setState({isDetailsModalOpen:!1})},this.onInteractiveImportPress=()=>{this.setState({isInteractiveImportModalOpen:!0})},this.onInteractiveImportModalClose=()=>{this.setState({isInteractiveImportModalOpen:!1})},this.onDeleteFilePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onConfirmDelete=()=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.deleteUnmappedFile(this.props.id)},this.onConfirmDeleteModalClose=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isDetailsModalOpen:!1,isInteractiveImportModalOpen:!1,isConfirmDeleteModalOpen:!1}}render(){const{id:e,path:t,size:n,dateAdded:s,quality:o,columns:a,isSelected:r,onSelectedChange:i}=this.props,l=t.substring(0,Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"))),{isInteractiveImportModalOpen:c,isDetailsModalOpen:d,isConfirmDeleteModalOpen:u}=this.state;return R.createElement(R.Fragment,null,a.map((a=>{const{name:l,isVisible:c}=a;return c?"select"===l?R.createElement(nW,{inputClassName:Ite.checkInput,id:e,key:l,isSelected:r,isDisabled:!1,onSelectedChange:i}):"path"===l?R.createElement(ZQ,{key:l,className:Ite[l]},t):"size"===l?R.createElement(ZQ,{key:l,className:Ite[l]},FN(n)):"dateAdded"===l?R.createElement(Px,{key:l,className:Ite[l],date:s,component:ZQ}):"quality"===l?R.createElement(ZQ,{key:l,className:Ite[l]},R.createElement(ux,{quality:o})):"actions"===l?R.createElement(ZQ,{key:l,className:Ite[l]},R.createElement(Ek,{name:kn,onPress:this.onDetailsPress}),R.createElement(Ek,{name:On,onPress:this.onInteractiveImportPress}),R.createElement(Ek,{name:sn,onPress:this.onDeleteFilePress})):null:null})),R.createElement($L,{isOpen:c,folder:l,showFilterExistingFiles:!0,filterExistingFiles:!1,showImportMode:!1,showReplaceExistingFiles:!1,replaceExistingFiles:!1,onModalClose:this.onInteractiveImportModalClose}),R.createElement(N_,{isOpen:d,onModalClose:this.onDetailsModalClose,id:e}),R.createElement(wD,{isOpen:u,kind:Xs,title:te("DeleteBookFile"),message:te("DeleteBookFileMessageText",[t]),confirmLabel:te("Delete"),onConfirm:this.onConfirmDelete,onCancel:this.onConfirmDeleteModalClose}))}}const Ote=kte;function wte(){return wte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wte.apply(null,arguments)}class Tte extends R.Component{constructor(e,t){super(e,t),this.setScrollerRef=e=>{this.setState({scroller:e})},this.getSelectedIds=()=>this.state.allUnselected?[]:gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectAllPress=()=>{this.onSelectAllChange({value:!this.state.allSelected})},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onDeleteUnmappedFilesPress=()=>{const e=this.getSelectedIds();this.props.deleteUnmappedFiles(e)},this.rowRenderer=({key:e,rowIndex:t,style:n})=>{const{items:s,columns:o,deleteUnmappedFile:a}=this.props,{selectedState:r}=this.state,i=s[t];return R.createElement(xQ,{key:e,style:n},R.createElement(Ote,wte({key:i.id,columns:o,isSelected:r[i.id],onSelectedChange:this.onSelectedChange,deleteUnmappedFile:a},i)))},this.state={scroller:null,allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{}}}componentDidMount(){this.setSelectedState()}componentDidUpdate(e){const{items:t,sortKey:n,sortDirection:s,isDeleting:o,deleteError:a}=this.props;(n!==e.sortKey||s!==e.sortDirection||EH(e.items,t))&&this.setSelectedState(),e.isDeleting&&!o&&!a&&this.onSelectAllChange({value:!1})}setSelectedState(){const{items:e}=this.props,{selectedState:t}=this.state,n={};e.forEach((e=>{const s=t[e.id];n[e.id]=s||!1}));const s=gO(n).length,o=Object.keys(n).length;let a=!1,r=!1;0===s?r=!0:s===o&&(a=!0),this.setState({selectedState:n,allSelected:a,allUnselected:r})}render(){const{isFetching:e,isPopulated:t,isDeleting:n,error:s,items:o,columns:a,sortKey:r,sortDirection:i,onTableOptionChange:l,onSortPress:c,isScanningFolders:d,onAddMissingAuthorsPress:u,deleteUnmappedFiles:m,...h}=this.props,{scroller:p,allSelected:g,allUnselected:E,selectedState:f}=this.state,C=this.getSelectedIds();return R.createElement(FF,{title:te("UnmappedFiles")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("AddMissing"),iconName:Nt,isDisabled:t&&!s&&!o.length,isSpinning:d,onPress:u}),R.createElement(jF,{label:te("DeleteSelected"),iconName:sn,isDisabled:0===C.length,isSpinning:n,onPress:this.onDeleteUnmappedFilesPress})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,wte({},h,{columns:a,onTableOptionChange:l}),R.createElement(jF,{label:te("Options"),iconName:Es})))),R.createElement(TF,{registerScroller:this.setScrollerRef},e&&!t&&R.createElement(tM,null),t&&!s&&!o.length&&R.createElement(OI,{kind:to},"Success! My work is done, all files on disk are matched to known books."),t&&!s&&!!o.length&&p&&R.createElement(DQ,{items:o,columns:a,scroller:p,isSmallScreen:!1,overscanRowCount:10,rowRenderer:this.rowRenderer,header:R.createElement(Mte,{columns:a,sortKey:r,sortDirection:i,onTableOptionChange:l,onSortPress:c,allSelected:g,allUnselected:E,onSelectAllChange:this.onSelectAllChange}),selectedState:f,sortKey:r,sortDirection:i})))}}const Nte=Tte;class Dte extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchUnmappedFiles()}}componentDidMount(){mI(this.repopulate,["bookFileUpdated"]),this.repopulate()}componentWillUnmount(){hI(this.repopulate)}render(){return R.createElement(Nte,this.props)}}const Ate=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)($R("bookFiles"),kF(tc),$y(),((e,t,n)=>{const{items:s,...o}=e;return{items:U().filter(s,{bookId:0}),...o,isScanningFolders:t,isSmallScreen:n.isSmallScreen}}))}),(function(e,t){return{onTableOptionChange(t){e(_i(t))},onSortPress(t){e(ji({sortKey:t}))},fetchUnmappedFiles(){e(xi({unmapped:!0}))},deleteUnmappedFile(t){e(Ri({id:t}))},deleteUnmappedFiles(t){e(Bi({bookFileIds:t}))},onAddMissingAuthorsPress(){e(Mc({name:tc,addNewAuthors:!0,filter:"matched"}))}}}))(Dte));function Fte(e,t,n,s){const o=e.find((e=>e.key===t));if(!o)return s;const a=o.filters.find((e=>e.key===n));return a?a.value:s}const xte=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),(e=>({author:e})))}))((function(e){const{id:t,author:n,releaseDate:s,titleSlug:o,title:a,lastSearchTime:r,disambiguation:i,isSelected:l,columns:c,onSelectedChange:d}=e;return n?R.createElement(pO,null,R.createElement(hk,{id:t,isSelected:l,onSelectedChange:d}),c.map((e=>{const{name:l,isVisible:c}=e;return c?"authorMetadata.sortName"===l?R.createElement(ak,{key:l},R.createElement(rx,{titleSlug:n.titleSlug,authorName:n.authorName})):"books.title"===l?R.createElement(ak,{key:l},R.createElement(Gx,{titleSlug:o,title:a,disambiguation:i})):"books.lastSearchTime"===l?R.createElement(Px,{key:l,date:r}):"releaseDate"===l?R.createElement(Px,{key:l,date:s}):"actions"===l?R.createElement(PH,{key:l,bookId:t,authorId:n.id,bookTitle:a,authorName:n.authorName,bookEntity:No.WANTED_CUTOFF_UNMET,showOpenAuthorButton:!0}):null:null}))):null}));function Rte(){return Rte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rte.apply(null,arguments)}function Bte(e){const{filters:t,selectedFilterKey:n}=e;return Fte(t,n,"monitored",!1)}class Lte extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onSearchSelectedPress=()=>{const e=this.getSelectedIds();this.props.onSearchSelectedPress(e)},this.onToggleSelectedPress=()=>{const e=this.getSelectedIds();this.props.batchToggleCutoffUnmetBooks({bookIds:e,monitored:!Bte(this.props)})},this.onSearchAllCutoffUnmetPress=()=>{this.setState({isConfirmSearchAllCutoffUnmetModalOpen:!0})},this.onSearchAllCutoffUnmetConfirmed=()=>{this.props.onSearchAllCutoffUnmetPress(),this.setState({isConfirmSearchAllCutoffUnmetModalOpen:!1})},this.onConfirmSearchAllCutoffUnmetModalClose=()=>{this.setState({isConfirmSearchAllCutoffUnmetModalOpen:!1})},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},isConfirmSearchAllCutoffUnmetModalOpen:!1,isInteractiveImportModalOpen:!1}}componentDidUpdate(e){nx(e.items,this.props.items)&&this.setState((t=>sx(t,e.items)))}render(){const{isFetching:e,isPopulated:t,error:n,items:s,isAuthorFetching:o,isAuthorPopulated:a,selectedFilterKey:r,filters:i,columns:l,totalRecords:c,isSearchingForCutoffUnmetBooks:d,isSaving:u,onFilterSelect:m,...h}=this.props,{allSelected:p,allUnselected:g,selectedState:E,isConfirmSearchAllCutoffUnmetModalOpen:f}=this.state,C=t&&a,v=e||o,S=!!this.getSelectedIds().length,b=Bte(this.props);return R.createElement(FF,{title:te("CutoffUnmet")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("SearchSelected"),iconName:os,isDisabled:!S||d,onPress:this.onSearchSelectedPress}),R.createElement(jF,{label:te(b?"IsShowingMonitoredUnmonitorSelected":"IsShowingMonitoredMonitorSelected"),iconName:b?bs:Dn,isDisabled:!S,isSpinning:u,onPress:this.onToggleSelectedPress}),R.createElement(SR,null),R.createElement(jF,{label:te("SearchAll"),iconName:os,isDisabled:!s.length,isSpinning:d,onPress:this.onSearchAllCutoffUnmetPress}),R.createElement(SR,null)),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,Rte({},h,{columns:l}),R.createElement(jF,{label:te("Options"),iconName:Es})),R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:r,filters:i,customFilters:[],onFilterSelect:m}))),R.createElement(TF,null,v&&!C&&R.createElement(tM,null),!v&&n&&R.createElement(OI,{kind:Xs},"Error fetching cutoff unmet"),C&&!n&&!s.length&&R.createElement(OI,{kind:to},te("NoCutoffUnmetItems")),C&&!n&&!!s.length&&R.createElement("div",null,R.createElement(cO,Rte({columns:l,selectAll:!0,allSelected:p,allUnselected:g},h,{onSelectAllChange:this.onSelectAllChange}),R.createElement(uO,null,s.map((e=>R.createElement(xte,Rte({key:e.id,isSelected:E[e.id],columns:l},e,{onSelectedChange:this.onSelectedChange})))))),R.createElement(ex,Rte({totalRecords:c,isFetching:e},h)),R.createElement(wD,{isOpen:f,kind:Xs,title:te("SearchForAllCutoffUnmetBooks"),message:R.createElement("div",null,R.createElement("div",null,"Are you sure you want to search for all ",c," Cutoff Unmet books?"),R.createElement("div",null,"This cannot be cancelled once started without restarting Readarr.")),confirmLabel:te("Search"),onConfirm:this.onSearchAllCutoffUnmetConfirmed,onCancel:this.onConfirmSearchAllCutoffUnmetModalClose}))))}}const jte=Lte;function _te(){return _te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_te.apply(null,arguments)}const zte={...F,executeCommand:Mc,fetchQueueDetails:uh,clearQueueDetails:mh,fetchBookFiles:xi,clearBookFiles:zi};class Ute extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchCutoffUnmet()},this.onFirstPagePress=()=>{this.props.gotoCutoffUnmetFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoCutoffUnmetPreviousPage()},this.onNextPagePress=()=>{this.props.gotoCutoffUnmetNextPage()},this.onLastPagePress=()=>{this.props.gotoCutoffUnmetLastPage()},this.onPageSelect=e=>{this.props.gotoCutoffUnmetPage({page:e})},this.onSortPress=e=>{this.props.setCutoffUnmetSort({sortKey:e})},this.onFilterSelect=e=>{this.props.setCutoffUnmetFilter({selectedFilterKey:e})},this.onTableOptionChange=e=>{this.props.setCutoffUnmetTableOption(e),e.pageSize&&this.props.gotoCutoffUnmetFirstPage()},this.onSearchSelectedPress=e=>{this.props.executeCommand({name:Gl,bookIds:e,commandFinished:this.repopulate})},this.onSearchAllCutoffUnmetPress=()=>{this.props.executeCommand({name:ql,commandFinished:this.repopulate})}}componentDidMount(){const{useCurrentPage:e,fetchCutoffUnmet:t,gotoCutoffUnmetFirstPage:n}=this.props;mI(this.repopulate,["bookFileUpdated","bookFileDeleted"]),e?t():n()}componentDidUpdate(e){if(nx(e.items,this.props.items)){const e=I$(this.props.items,"id"),t=I$(this.props.items,"bookFileId");this.props.fetchQueueDetails({bookIds:e}),t.length&&this.props.fetchBookFiles({bookFileIds:t})}}componentWillUnmount(){hI(this.repopulate),this.props.clearCutoffUnmet(),this.props.clearQueueDetails(),this.props.clearBookFiles()}render(){return R.createElement(jte,_te({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onSortPress:this.onSortPress,onFilterSelect:this.onFilterSelect,onTableOptionChange:this.onTableOptionChange,onSearchSelectedPress:this.onSearchSelectedPress,onToggleSelectedPress:this.onToggleSelectedPress,onSearchAllCutoffUnmetPress:this.onSearchAllCutoffUnmetPress},this.props))}}const Hte=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.wanted.cutoffUnmet),(e=>e.authors),kF(ql),((e,t,n)=>({isAuthorFetching:t.isFetching,isAuthorPopulated:t.isPopulated,isSearchingForCutoffUnmetBooks:n,isSaving:e.items.filter((e=>e.isSaving)).length>1,...e})))}),zte)(Ute)),Vte=(0,Wy.Ng)((function(){return(0,Ky.Mz)(ox(),(e=>({author:e})))}))((function(e){const{id:t,author:n,releaseDate:s,titleSlug:o,title:a,lastSearchTime:r,disambiguation:i,isSelected:l,columns:c,onSelectedChange:d}=e;return n?R.createElement(pO,null,R.createElement(hk,{id:t,isSelected:l,onSelectedChange:d}),c.map((e=>{const{name:l,isVisible:c}=e;return c?"authorMetadata.sortName"===l?R.createElement(ak,{key:l},R.createElement(rx,{titleSlug:n.titleSlug,authorName:n.authorName})):"books.title"===l?R.createElement(ak,{key:l},R.createElement(Gx,{titleSlug:o,title:a,disambiguation:i})):"releaseDate"===l?R.createElement(Px,{key:l,date:s}):"books.lastSearchTime"===l?R.createElement(Px,{key:l,date:r}):"actions"===l?R.createElement(PH,{key:l,bookId:t,authorId:n.id,bookTitle:a,authorName:n.authorName,bookEntity:No.WANTED_MISSING,showOpenAuthorButton:!0}):null:null}))):null}));function qte(){return qte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qte.apply(null,arguments)}function Qte(e){const{filters:t,selectedFilterKey:n}=e;return Fte(t,n,"monitored",!1)}class Wte extends R.Component{constructor(e,t){super(e,t),this.getSelectedIds=()=>gO(this.state.selectedState),this.onSelectAllChange=({value:e})=>{this.setState(EO(this.state.selectedState,e))},this.onSelectedChange=({id:e,value:t,shiftKey:n=!1})=>{this.setState((s=>vO(s,this.props.items,e,t,n)))},this.onSearchSelectedPress=()=>{const e=this.getSelectedIds();this.props.onSearchSelectedPress(e)},this.onToggleSelectedPress=()=>{const e=this.getSelectedIds();this.props.batchToggleMissingBooks({bookIds:e,monitored:!Qte(this.props)})},this.onSearchAllMissingPress=()=>{this.setState({isConfirmSearchAllMissingModalOpen:!0})},this.onSearchAllMissingConfirmed=()=>{this.props.onSearchAllMissingPress(),this.setState({isConfirmSearchAllMissingModalOpen:!1})},this.onConfirmSearchAllMissingModalClose=()=>{this.setState({isConfirmSearchAllMissingModalOpen:!1})},this.onInteractiveImportPress=()=>{this.setState({isInteractiveImportModalOpen:!0})},this.onInteractiveImportModalClose=()=>{this.setState({isInteractiveImportModalOpen:!1})},this.state={allSelected:!1,allUnselected:!1,lastToggled:null,selectedState:{},isConfirmSearchAllMissingModalOpen:!1,isInteractiveImportModalOpen:!1}}componentDidUpdate(e){nx(e.items,this.props.items)&&this.setState((t=>sx(t,e.items)))}render(){const{isFetching:e,isPopulated:t,error:n,items:s,isAuthorFetching:o,isAuthorPopulated:a,selectedFilterKey:r,filters:i,columns:l,totalRecords:c,isSearchingForMissingBooks:d,isSaving:u,onFilterSelect:m,...h}=this.props,{allSelected:p,allUnselected:g,selectedState:E,isConfirmSearchAllMissingModalOpen:f,isInteractiveImportModalOpen:C}=this.state,v=t&&a,S=e||o,b=!!this.getSelectedIds().length,P=Qte(this.props);return R.createElement(FF,{title:te("Missing")},R.createElement(RF,null,R.createElement(YF,null,R.createElement(jF,{label:te("SearchSelected"),iconName:os,isDisabled:!b||d,onPress:this.onSearchSelectedPress}),R.createElement(jF,{label:te(P?"IsShowingMonitoredUnmonitorSelected":"IsShowingMonitoredMonitorSelected"),iconName:P?bs:Dn,isDisabled:!b,isSpinning:u,onPress:this.onToggleSelectedPress}),R.createElement(SR,null),R.createElement(jF,{label:te("SearchAll"),iconName:os,isDisabled:!s.length,isSpinning:d,onPress:this.onSearchAllMissingPress}),R.createElement(SR,null),R.createElement(jF,{label:te("ManualImport"),iconName:On,onPress:this.onInteractiveImportPress})),R.createElement(YF,{alignContent:Qe},R.createElement(Xk,qte({},h,{columns:l}),R.createElement(jF,{label:te("Options"),iconName:Es})),R.createElement(Qx,{alignMenu:Qe,selectedFilterKey:r,filters:i,customFilters:[],onFilterSelect:m}))),R.createElement(TF,null,S&&!v&&R.createElement(tM,null),!S&&n&&R.createElement(OI,{kind:Xs},"Error fetching missing items"),v&&!n&&!s.length&&R.createElement(OI,{kind:to},te("NoMissingItems")),v&&!n&&!!s.length&&R.createElement("div",null,R.createElement(cO,qte({columns:l,selectAll:!0,allSelected:p,allUnselected:g},h,{onSelectAllChange:this.onSelectAllChange}),R.createElement(uO,null,s.map((e=>R.createElement(Vte,qte({key:e.id,isSelected:E[e.id],columns:l},e,{onSelectedChange:this.onSelectedChange})))))),R.createElement(ex,qte({totalRecords:c,isFetching:e},h)),R.createElement(wD,{isOpen:f,kind:Xs,title:te("SearchForAllMissingBooks"),message:R.createElement("div",null,R.createElement("div",null,"Are you sure you want to search for all ",c," missing books?"),R.createElement("div",null,"This cannot be cancelled once started without restarting Readarr.")),confirmLabel:te("Search"),onConfirm:this.onSearchAllMissingConfirmed,onCancel:this.onConfirmSearchAllMissingModalClose})),R.createElement($L,{isOpen:C,onModalClose:this.onInteractiveImportModalClose,showReplaceExistingFiles:!0})))}}const Gte=Wte;function Kte(){return Kte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kte.apply(null,arguments)}const $te={...F,executeCommand:Mc,fetchQueueDetails:uh,clearQueueDetails:mh};class Yte extends R.Component{constructor(...e){super(...e),this.repopulate=()=>{this.props.fetchMissing()},this.onFirstPagePress=()=>{this.props.gotoMissingFirstPage()},this.onPreviousPagePress=()=>{this.props.gotoMissingPreviousPage()},this.onNextPagePress=()=>{this.props.gotoMissingNextPage()},this.onLastPagePress=()=>{this.props.gotoMissingLastPage()},this.onPageSelect=e=>{this.props.gotoMissingPage({page:e})},this.onSortPress=e=>{this.props.setMissingSort({sortKey:e})},this.onFilterSelect=e=>{this.props.setMissingFilter({selectedFilterKey:e})},this.onTableOptionChange=e=>{this.props.setMissingTableOption(e),e.pageSize&&this.props.gotoMissingFirstPage()},this.onSearchSelectedPress=e=>{this.props.executeCommand({name:Gl,bookIds:e,commandFinished:this.repopulate})},this.onSearchAllMissingPress=()=>{this.props.executeCommand({name:Kl,commandFinished:this.repopulate})}}componentDidMount(){const{useCurrentPage:e,fetchMissing:t,gotoMissingFirstPage:n}=this.props;mI(this.repopulate,["bookFileUpdated","bookFileDeleted"]),e?t():n()}componentDidUpdate(e){if(nx(e.items,this.props.items)){const e=I$(this.props.items,"id");this.props.fetchQueueDetails({bookIds:e})}}componentWillUnmount(){hI(this.repopulate),this.props.clearMissing(),this.props.clearQueueDetails()}render(){return R.createElement(Gte,Kte({onFirstPagePress:this.onFirstPagePress,onPreviousPagePress:this.onPreviousPagePress,onNextPagePress:this.onNextPagePress,onLastPagePress:this.onLastPagePress,onPageSelect:this.onPageSelect,onSortPress:this.onSortPress,onFilterSelect:this.onFilterSelect,onTableOptionChange:this.onTableOptionChange,onSearchSelectedPress:this.onSearchSelectedPress,onToggleSelectedPress:this.onToggleSelectedPress,onSearchAllMissingPress:this.onSearchAllMissingPress},this.props))}}const Jte=MF((0,Wy.Ng)((function(){return(0,Ky.Mz)((e=>e.wanted.missing),(e=>e.authors),kF(Kl),((e,t,n)=>({isAuthorFetching:t.isFetching,isAuthorPopulated:t.isPopulated,isSearchingForMissingBooks:n,isSaving:e.items.filter((e=>e.isSaving)).length>1,...e})))}),$te)(Yte)),Xte=function(e){const{app:t}=e;return R.createElement(sJ,null,R.createElement(Gy.qh,{exact:!0,path:"/",component:bW}),window.Researcharr.urlBase&&R.createElement(Gy.qh,{exact:!0,path:"/",addUrlBase:!1,render:()=>R.createElement(Gy.rd,{to:tJ("/"),component:t})}),R.createElement(Gy.qh,{path:"/authors",component:bW}),R.createElement(Gy.qh,{path:"/add/search",component:XJ}),R.createElement(Gy.qh,{exact:!0,path:"/shelf",component:M$}),R.createElement(Gy.qh,{exact:!0,path:"/books",component:YK}),R.createElement(Gy.qh,{path:"/unmapped",component:Ate}),R.createElement(Gy.qh,{path:"/author/:titleSlug",component:aV}),R.createElement(Gy.qh,{path:"/book/:titleSlug",component:gG}),R.createElement(Gy.qh,{path:"/calendar",component:eJ}),R.createElement(Gy.qh,{path:"/activity/history",component:CR}),R.createElement(Gy.qh,{path:"/activity/queue",component:Ej}),R.createElement(Gy.qh,{path:"/activity/blocklist",component:xx}),R.createElement(Gy.qh,{path:"/wanted/missing",component:Jte}),R.createElement(Gy.qh,{path:"/wanted/cutoffunmet",component:Hte}),R.createElement(Gy.qh,{exact:!0,path:"/settings",component:r6}),R.createElement(Gy.qh,{path:"/settings/mediamanagement",component:s3}),R.createElement(Gy.qh,{path:"/settings/profiles",component:I8}),R.createElement(Gy.qh,{path:"/settings/quality",component:s6}),R.createElement(Gy.qh,{path:"/settings/customformats",component:OZ}),R.createElement(Gy.qh,{path:"/settings/indexers",component:u4}),R.createElement(Gy.qh,{path:"/settings/downloadclients",component:E1}),R.createElement(Gy.qh,{path:"/settings/importlists",component:l5}),R.createElement(Gy.qh,{path:"/settings/connect",component:Y3}),R.createElement(Gy.qh,{path:"/settings/metadata",component:h3}),R.createElement(Gy.qh,{path:"/settings/tags",component:b6}),R.createElement(Gy.qh,{path:"/settings/general",component:_1}),R.createElement(Gy.qh,{path:"/settings/ui",component:I6}),R.createElement(Gy.qh,{path:"/settings/development",component:BZ}),R.createElement(Gy.qh,{path:"/system/status",component:Kee}),R.createElement(Gy.qh,{path:"/system/tasks",component:gte}),R.createElement(Gy.qh,{path:"/system/backup",component:H6}),R.createElement(Gy.qh,{path:"/system/updates",component:bte}),R.createElement(Gy.qh,{path:"/system/events",component:eee}),R.createElement(Gy.qh,{path:"/system/logs/files",component:vee}),R.createElement(Gy.qh,{path:"*",component:Cj}))},Zte=function e({store:t,history:n}){return R.createElement(Qy(),{title:window.Researcharr.instanceName},R.createElement(Wy.Kq,{store:t},R.createElement(j.Ny,{history:n},R.createElement(PF,null,R.createElement(CF,null,R.createElement(Xte,{app:e}))))))};let ene=!1;function tne(e){e.filter=function(){const e=arguments,t=this.then((t=>t.filter(...e)));return tne(t),t},e.map=function(){const e=arguments,t=this.then((t=>t.map(...e)));return tne(t),t},e.all=function(){const e=this.then((e=>Promise.all(e)));return tne(e),e},e.forEach=function(e){const t=this.then((t=>Promise.all(t.map(e))));return tne(t),t}}class nne{constructor(e,t){this.api=e,this.url=t}single(e){return this.api.fetch(`${this.url}/${e}`)}all(){return this.api.fetch(this.url)}filter(e){return this.all().filter(e)}update(e){return this.api.fetch(`${this.url}/${e.id}`,{method:"PUT",data:e})}delete(e){if("object"==typeof e&&null!==e&&e.id&&(e=e.id),!e||!Number.isInteger(e))throw Error("Invalid resource",e);return this.api.fetch(`${this.url}/${e}`,{method:"DELETE"})}fetch(e,t){return this.api.fetch(`${this.url}${e}`,t)}}async function sne(){const e=(0,x.zR)(),t=Vy(e);(0,B.render)(R.createElement(Zte,{store:t,history:e}),document.getElementById("root"))}window.ResearcharrApi=new class{constructor(){this.author=new nne(this,"/author")}resource(e){return new nne(this,e)}fetch(e,t){ene||(console.log("Activated ReadarrApi console helpers."),console.warn("Be warned: There will be no further confirmation checks."),ene=!0);const n={url:e,method:(t=t||{}).method||"GET"};t.data&&(n.dataType="json",n.data=JSON.stringify(t.data));const s=J(n).request;return s.fail((t=>{console.error(`Failed to fetch ${e}`,t)})),tne(s),s}}},35358:(e,t,n)=>{var s={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=a,e.exports=o,o.id=35358},19796:()=>{},62439:()=>{},15311:()=>{},3904:()=>{},17686:()=>{},42634:()=>{},6083:()=>{}}]);
//# sourceMappingURL=400-b2dd00f080c330a06f36.js.map